{"id":"BL-0057","title":"Milestone: Drift-proof contracts and tooling gates","type":"contract","status":"done","priority":"P2","tags":["milestone","tooling","ui-shell"],"created_at":"2025-01-01T00:00:00.000Z","updated_at":"2026-01-30T16:42:26.204Z","target":{"selector":"milestone","value":"1.0.0"},"deps":["BL-0004","BL-0005","BL-0006","BL-0048"],"evidence":["Contract: `.ato/contracts/PLATFORM_CONTRACT.md` (§1.3, §12, §15).","file:package.json","file:tools/gates/run-root-gates.mjs","file:tools/architecture/check-no-global-ato.mjs","file:tools/esm/check-relative-imports.mjs","file:tools/architecture/check-boundaries.mjs","file:packages/docs/tools/generate-docs-content.mjs","file:tools/contracts/generate.mjs","file:tools/contracts/validate.mjs","file:tools/baseline/generate.mjs","cmd:npm test","cmd:node tools/ato.mjs q validate --json","cmd:node tools/ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Scaling primitives/shell/docs without drift-proof validators (schema, support matrix, contract validation discipline) creates rewrite traps and long-term contra\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"1.3\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"15\"}]\nUpdate: root npm test now orchestrated by tools/gates/run-root-gates.mjs for deterministic drift-proof gate order.","details":{"rationale":"Scaling primitives/shell/docs without drift-proof validators (schema, support matrix, contract validation discipline) creates rewrite traps and long-term contract drift.","links":["Contract: `.ato/contracts/PLATFORM_CONTRACT.md` (§1.3, §12, §15)."]},"spec":{"problem":"Scaling primitives/shell/docs without drift-proof validators (schema, support matrix, contract validation discipline) creates rewrite traps and long-term contract drift.","outcome":"Contract registries are schema-validated (CI + editor validation) and validation is deterministic.","acceptance_criteria":["Contract registries are schema-validated (CI + editor validation) and validation is deterministic.","A Baseline “support matrix” exists and can be surfaced by the workbench/docs.","Contract/doc drift is caught by CI (no “claimed but not implemented” docs tables)."],"inputs":["Scaling primitives/shell/docs without drift-proof validators (schema, support matrix, contract validation discipline) creates rewrite traps and long-term contract drift."],"deliverables":["Contract registries are schema-validated (CI + editor validation) and validation is deterministic."],"scope":["tools/**","packages/*/contracts/**","packages/ui-shell/**"],"risks":["Coupling risk: tooling can become order-dependent if it requires `dist/` artifacts without explicit `:build` paths."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: tools/**, packages/*/contracts/**, packages/ui-shell/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Contract registries are schema-validated (CI + editor validation) and validation is deterministic.; A Baseline “support matrix” exists and can be surfaced by the workbench/docs.; Contract/doc drift is caught by CI (no “claimed but not implemented” docs tables)..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-29T01:01:02.887Z","frozen":{"core_hash":"5c9cdbc0624055995e8e7f6cbbb7d11068dfd3bf0dc0c8a2da1787fc735e070d"}}
{"id":"BL-0058","title":"Milestone: Interaction foundations stable (focus + overlays)","type":"tooling","status":"done","priority":"P2","tags":["accessibility","milestone","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:01.000Z","updated_at":"2026-01-29T01:52:56.818Z","target":{"selector":"milestone","value":"1.0.0"},"deps":["BL-0007","BL-0008","BL-0010","BL-0011"],"evidence":["Contract: `.ato/contracts/PLATFORM_CONTRACT.md` (§7, §8, §13G, §15).","file:packages/ui-primitives/src/atomic/overlay/uik-popover/element.ts","file:packages/ui-primitives/src/composed/collection/uik-menu/element.ts","file:packages/ui-primitives/src/composed/overlay/uik-tooltip/element.ts","file:packages/ui-primitives/tests/uik-popover.browser.test.ts","file:packages/ui-primitives/tests/uik-command-palette.browser.test.ts","cmd:npm test","cmd:npm run contracts:validate:build","cmd:ato gate run --mode full --json"],"owner":"codex","notes":"Complex widgets and desktop patterns depend on stable focus/roving and overlay behavior; shipping them without foundations guarantees rewrites.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"7\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.G\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.E\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"15\"}]","details":{"rationale":"Complex widgets and desktop patterns depend on stable focus/roving and overlay behavior; shipping them without foundations guarantees rewrites.","links":["Contract: `.ato/contracts/PLATFORM_CONTRACT.md` (§7, §8, §13G, §15)."]},"spec":{"problem":"Complex widgets and desktop patterns depend on stable focus/roving and overlay behavior; shipping them without foundations guarantees rewrites.","outcome":"Focus/roving contract is documented and enforced by tests across multiple components.","acceptance_criteria":["Focus/roving contract is documented and enforced by tests across multiple components.","Overlay close/focus/initial-focus semantics are unified and test-backed.","APG harness exists and is used by at least one widget conformance suite."],"inputs":["Complex widgets and desktop patterns depend on stable focus/roving and overlay behavior; shipping them without foundations guarantees rewrites."],"deliverables":["Focus/roving contract is documented and enforced by tests across multiple components."],"scope":["packages/ui-primitives/**","packages/ui-shell/**"],"risks":["Compatibility risk: overlay dismissal semantics must align with APG/native behavior and remain Baseline-safe."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-primitives/**, packages/ui-shell/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Focus/roving contract is documented and enforced by tests across multiple components.; Overlay close/focus/initial-focus semantics are unified and test-backed.; APG harness exists and is used by at least one widget conformance suite..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-29T01:52:56.818Z","frozen":{"core_hash":"e46ea365d6f59b11cfedbe890181570f98bad22dba577702519bc823c9270d5b"}}
{"id":"BL-0059","title":"Milestone: Docs competitive baseline achieved","type":"doc","status":"done","priority":"P2","tags":["docs","milestone","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:02.000Z","updated_at":"2026-02-01T23:55:39.401Z","target":{"selector":"milestone","value":"1.0.0"},"deps":["BL-0021","BL-0024","BL-0043","BL-0044","BL-0046","BL-0054"],"evidence":["cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Docs is the primary dogfooding surface; reaching a competitive baseline surfaces platform gaps early without creating docs-only architecture.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.4\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.B\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"}]","details":{"rationale":"Docs is the primary dogfooding surface; reaching a competitive baseline surfaces platform gaps early without creating docs-only architecture.","links":[]},"spec":{"problem":"Docs is the primary dogfooding surface; reaching a competitive baseline surfaces platform gaps early without creating docs-only architecture.","outcome":"Keyboard-first navigation tree and command-palette search exist and are tested.","acceptance_criteria":["Keyboard-first navigation tree and command-palette search exist and are tested.","Mobile nav drawer pattern exists with verified focus management and axe=0 gates.","Visual regression gate exists (or an explicit chosen approach is implemented) and budgets prevent regressions."],"inputs":["Docs is the primary dogfooding surface; reaching a competitive baseline surfaces platform gaps early without creating docs-only architecture."],"deliverables":["Keyboard-first navigation tree and command-palette search exist and are tested."],"scope":["packages/docs/**","packages/ui-shell/**","packages/ui-primitives/**"],"risks":["Coupling risk: docs must not pull runtime router/site-generator tooling into packages (`PLATFORM_CONTRACT.md` §11.4, §13B)."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/docs/**, packages/ui-shell/**, packages/ui-primitives/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Keyboard-first navigation tree and command-palette search exist and are tested.; Mobile nav drawer pattern exists with verified focus management and axe=0 gates.; Visual regression gate exists (or an explicit chosen approach is implemented) and budgets prevent regressions..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-01T23:55:39.401Z","frozen":{"core_hash":"63e2c9086d077b45033424095a5a182e08ffaea3432155a8ee5d50ba81d900f0"}}
{"id":"BL-0060","title":"Milestone: `1.0.0` readiness gates verified (V1-A…V1-F)","type":"tooling","status":"done","priority":"P2","tags":["governance","milestone"],"created_at":"2025-01-01T00:00:03.000Z","updated_at":"2026-02-02T00:37:11.403Z","target":{"selector":"milestone","value":"1.0.0"},"deps":["BL-0057","BL-0058","BL-0059"],"evidence":["cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"`1.0.0` is a stability promise; criteria must be verified with evidence before committing to SemVer stability guarantees.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"15\"}]","details":{"rationale":"`1.0.0` is a stability promise; criteria must be verified with evidence before committing to SemVer stability guarantees.","links":[]},"spec":{"problem":"`1.0.0` is a stability promise; criteria must be verified with evidence before committing to SemVer stability guarantees.","outcome":"V1-A…V1-F readiness gates are explicitly defined and verified with evidence.","acceptance_criteria":["V1-A Format gate: `npm run format` (Prettier check) passes.","V1-B Contracts gate: `npm run contracts:generate` and `npm run contracts:validate:build` pass (builds packages and validates contracts).","V1-C Tooling/drift gates: `npm test` -> `tools/gates/run-root-gates.mjs` steps ATO script guard, Build deps, ESM relative imports, Architecture boundaries, Docs API drift, Docs token usage, Baseline drift, Contracts drift all pass.","V1-D Queue/cycle gates: `npm test` -> run-root-gates steps Queue validation (`tools/ato.mjs q validate --json`) and Cycle finish check (`tools/ato/check-cycle-finish.mjs`) pass.","V1-E Workspace tests: `npm test` -> run-root-gates step Workspace tests (`npm run --workspaces --if-present test`) passes (includes docs perf + lighthouse + a11y).","V1-F Visual QA: `npm test` -> run-root-gates steps Storybook tests (`npm run test-storybook`) and Visual regression (`npm run test-visual`) pass."],"inputs":["`1.0.0` is a stability promise; criteria must be verified with evidence before committing to SemVer stability guarantees."],"deliverables":["Evidence for V1-A…V1-F gate runs (format, contracts, root gates, queue validation, visuals)."],"scope":["repo-wide (tokens/primitives/shell/docs)","test gates","packaging/exports","docs generation"],"risks":["Rewrite risk: verifying late can reveal missing foundations; milestone sequencing must prevent this."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Define V1 readiness gates (V1-A…V1-F) with explicit command paths and scope in this item.","V1-A Format gate: run `npm run format` (Prettier check).","V1-B Contracts gate: run `npm run contracts:generate` and `npm run contracts:validate:build` (builds packages + validates contracts).","V1-C Tooling/drift gates: run `npm test` -> `tools/gates/run-root-gates.mjs` steps ATO script guard, Build deps, ESM relative imports, Architecture boundaries, Docs API drift, Docs token usage, Baseline drift, Contracts drift.","V1-D Queue/cycle gates: run `npm test` -> run-root-gates steps Queue validation (`tools/ato.mjs q validate --json`) and Cycle finish check (`tools/ato/check-cycle-finish.mjs`).","V1-E Workspace tests: run `npm test` -> run-root-gates step Workspace tests (`npm run --workspaces --if-present test`) including docs perf + lighthouse + a11y.","V1-F Visual QA: run `npm test` -> run-root-gates steps Storybook tests (`npm run test-storybook`) and Visual regression (`npm run test-visual`).","Run verification: npm run format; npm run contracts:generate; npm run contracts:validate:build; npm test; node ato.mjs q validate --json; node ato.mjs gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-02T00:37:11.403Z","frozen":{"core_hash":"998b22a7b4ad58e05e79108ba2575820980bec21dcde28319034998912baf502"}}
{"id":"BL-0063","title":"Ensure all `AGENTS.md` routers remain local-only and are enforced","type":"tooling","status":"done","priority":"P2","tags":["governance"],"created_at":"2025-01-01T00:00:05.000Z","updated_at":"2026-01-28T15:36:20.744Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":[],"owner":"codex","notes":"`AGENTS.md` routers are local operational constraints in this workspace and must remain gitignored; enforcement is behavioral (always read routers when present)","details":{"rationale":"`AGENTS.md` routers are local operational constraints in this workspace and must remain gitignored; enforcement is behavioral (always read routers when present), not a git distribution problem.","links":[]},"completed_at":"2025-12-26T03:30:42.030Z","frozen":{"core_hash":"8a134e6c19cb400a741885cab3b6cdc379e4f8e960943a3f6cfc32bc81f520ee"},"spec":{"problem":"`AGENTS.md` routers are local operational constraints in this workspace and must remain gitignored; enforcement is behavioral (always read routers when present), not a git distribution problem.","outcome":"Root `.gitignore` ignores `AGENTS.md` and `**/AGENTS.md` (routers remain local-only).","acceptance_criteria":["Root `.gitignore` ignores `AGENTS.md` and `**/AGENTS.md` (routers remain local-only).","Root `AGENTS.md` and package `AGENTS.md` routers require being read before work begins (router protocol is explicit)."],"inputs":["`AGENTS.md` routers are local operational constraints in this workspace and must remain gitignored; enforcement is behavioral (always read routers when present), not a git distribution problem."],"deliverables":["Root `.gitignore` ignores `AGENTS.md` and `**/AGENTS.md` (routers remain local-only)."],"scope":[".gitignore","AGENTS.md","packages/*/AGENTS.md"],"risks":["Drift risk: if routers are missing or not read, constraints and triggers won’t be applied consistently within the workspace."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0038","title":"Codify and enforce the “no adapters / no wrapper stacks” policy","type":"debt","status":"done","priority":"P2","tags":["debt","governance"],"created_at":"2025-01-01T00:00:08.000Z","updated_at":"2026-01-28T15:36:21.466Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["Source: internal consolidation notes (“DX via adapters creates a second ecosystem surface”) + `.internal/views/RELEASES.md` (no adapters decision) + `.ato/contracts/PLATFORM_CONTRACT.md` (§13)."],"owner":"codex","notes":"“DX via adapters” is an explicit rewrite trap; preventing a second ecosystem surface requires concrete contribution gates and documentation, not only intent.","details":{"rationale":"“DX via adapters” is an explicit rewrite trap; preventing a second ecosystem surface requires concrete contribution gates and documentation, not only intent.","links":["Source: internal consolidation notes (“DX via adapters creates a second ecosystem surface”) + `.internal/views/RELEASES.md` (no adapters decision) + `.ato/contracts/PLATFORM_CONTRACT.md` (§13)."]},"completed_at":"2025-12-26T03:32:42.541Z","frozen":{"core_hash":"7a453b49513abcbec5bbe56cecc141eecfbf90da552cd46f3bad3ce4be69035d"},"spec":{"problem":"“DX via adapters” is an explicit rewrite trap; preventing a second ecosystem surface requires concrete contribution gates and documentation, not only intent.","outcome":"A written policy exists that defines “adapter” vs “recipe” and where (if anywhere) edge adapters are allowed.","acceptance_criteria":["A written policy exists that defines “adapter” vs “recipe” and where (if anywhere) edge adapters are allowed.","Contributor guidance and (optional) validation prevent adding framework wrapper packages as core deliverables.","DX improvements are tracked as primitives/patterns/docs/tests work items instead of wrapper stacks."],"inputs":["“DX via adapters” is an explicit rewrite trap; preventing a second ecosystem surface requires concrete contribution gates and documentation, not only intent."],"deliverables":["A written policy exists that defines “adapter” vs “recipe” and where (if anywhere) edge adapters are allowed."],"scope":["AGENTS.md"],"risks":["Ecosystem-split risk: adapter surfaces drift faster than core primitives and create version-coupled wrapper pyramids."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0004","title":"Publish Baseline support matrix and “Baseline gating” evidence surfaces","type":"doc","status":"done","priority":"P2","tags":["contract","docs","tooling","ui-shell"],"created_at":"2025-01-01T00:00:09.000Z","updated_at":"2026-01-28T15:36:22.192Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["Contract: `.ato/contracts/PLATFORM_CONTRACT.md` (§1.3, §11.3, §12)."],"owner":"codex","notes":"`PLATFORM_CONTRACT.md` requires (a) feature classification (Widely/Newly/Not Baseline) and (b) a machine-readable support matrix; `ui-shell` is expected to visu","details":{"rationale":"`PLATFORM_CONTRACT.md` requires (a) feature classification (Widely/Newly/Not Baseline) and (b) a machine-readable support matrix; `ui-shell` is expected to visualize Baseline gating (§1.3, §11.3).","links":["Contract: `.ato/contracts/PLATFORM_CONTRACT.md` (§1.3, §11.3, §12)."],"effort":"L"},"completed_at":"2025-12-26T03:42:15.407Z","frozen":{"core_hash":"2d80417230b0f4647a0f95518d29f14bd69321305899aedc85150b58234d608b"},"spec":{"problem":"`PLATFORM_CONTRACT.md` requires (a) feature classification (Widely/Newly/Not Baseline) and (b) a machine-readable support matrix; `ui-shell` is expected to visualize Baseline gating (§1.3, §11.3).","outcome":"A machine-readable “support matrix” exists and is regenerated deterministically.","acceptance_criteria":["A machine-readable “support matrix” exists and is regenerated deterministically.","`ui-shell` (or docs workbench) can surface Baseline classifications used by the project."],"inputs":["`PLATFORM_CONTRACT.md` requires (a) feature classification (Widely/Newly/Not Baseline) and (b) a machine-readable support matrix; `ui-shell` is expected to visualize Baseline gating (§1.3, §11.3)."],"deliverables":["A machine-readable “support matrix” exists and is regenerated deterministically."],"scope":["packages/ui-shell/**","tools/**","packages/docs/**"],"risks":["Coupling risk: if tied to build artifacts only, it can become order-dependent (see BL-0006)."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§1.3"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§11.3"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0007","title":"Publish and enforce the Focus + Roving Focus contract across primitives and shell","type":"doc","status":"done","priority":"P2","tags":["accessibility","contract","docs","horizon-now","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:10.000Z","updated_at":"2026-01-28T15:36:22.907Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0011"],"evidence":["Demo: consistent focus rings/tab order across mixed primitives."],"owner":"codex","notes":"`PLATFORM_CONTRACT.md` requires APG-aligned keyboard behavior and testable accessibility gates (§8, §12, §15); lack of a single focus contract causes duplicated","details":{"rationale":"`PLATFORM_CONTRACT.md` requires APG-aligned keyboard behavior and testable accessibility gates (§8, §12, §15); lack of a single focus contract causes duplicated logic and inconsistent behavior.","links":["Demo: consistent focus rings/tab order across mixed primitives."],"effort":"L"},"completed_at":"2025-12-27T02:59:08.285Z","frozen":{"core_hash":"ed46a9ff5ce82919dbe64c3ea289fae49dbf5d57c95bd714c2de63eb8ede0e14"},"spec":{"problem":"`PLATFORM_CONTRACT.md` requires APG-aligned keyboard behavior and testable accessibility gates (§8, §12, §15); lack of a single focus contract causes duplicated logic and inconsistent behavior.","outcome":"A single documented focus delegation + roving focus contract exists.","acceptance_criteria":["A single documented focus delegation + roving focus contract exists.","At least 3 components conform and are covered by interaction tests + axe=0 stories."],"inputs":["`PLATFORM_CONTRACT.md` requires APG-aligned keyboard behavior and testable accessibility gates (§8, §12, §15); lack of a single focus contract causes duplicated logic and inconsistent behavior."],"deliverables":["A single documented focus delegation + roving focus contract exists."],"scope":["packages/ui-primitives/**","packages/ui-shell/**","packages/docs/**"],"risks":["Rewrite risk: public naming/props/events must stabilize before other widgets depend on them."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§12"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§15"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0008","title":"Standardize overlay close reasons, focus origin/return, and initial focus (contract + tests)","type":"doc","status":"done","priority":"P2","tags":["accessibility","contract","docs","horizon-now","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:11.000Z","updated_at":"2026-01-28T15:36:23.622Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0007"],"evidence":["Demo: shared close-reason handler works across dialog/popover."],"owner":"codex","notes":"`PLATFORM_CONTRACT.md` requires keyboard-dismissable overlays and coherent top-layer behavior (§7, §8, §13G); unified overlay contracts prevent app-specific rei","details":{"rationale":"`PLATFORM_CONTRACT.md` requires keyboard-dismissable overlays and coherent top-layer behavior (§7, §8, §13G); unified overlay contracts prevent app-specific reimplementation.","links":["Demo: shared close-reason handler works across dialog/popover."],"effort":"L"},"completed_at":"2025-12-27T02:56:51.656Z","frozen":{"core_hash":"1047b87e7fef8eafcf8226d0c0b92b41302c226ba14f165e4f9d119444267ad6"},"spec":{"problem":"`PLATFORM_CONTRACT.md` requires keyboard-dismissable overlays and coherent top-layer behavior (§7, §8, §13G); unified overlay contracts prevent app-specific reimplementation.","outcome":"Overlay contract is documented (close reasons, focus return/origin, initial focus, outside-dismiss policy).","acceptance_criteria":["Overlay contract is documented (close reasons, focus return/origin, initial focus, outside-dismiss policy).","Interaction tests cover Escape/outside-dismiss/focus return across at least one primitive and one shell structure."],"inputs":["`PLATFORM_CONTRACT.md` requires keyboard-dismissable overlays and coherent top-layer behavior (§7, §8, §13G); unified overlay contracts prevent app-specific reimplementation."],"deliverables":["Overlay contract is documented (close reasons, focus return/origin, initial focus, outside-dismiss policy)."],"scope":["packages/ui-primitives/**","packages/ui-shell/**","packages/docs/**"],"risks":["Compatibility risk: outside-dismiss semantics vary by widget; must match APG and native behavior expectations."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§7"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§13"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0009","title":"Eliminate Lit “change-in-update” warnings in shell components","type":"debt","status":"done","priority":"P2","tags":["debt","quality","ui-shell","macro-scope"],"created_at":"2025-01-01T00:00:12.000Z","updated_at":"2026-01-28T15:36:24.340Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["Source: internal consolidation notes (“Lit update scheduling warnings…”)."],"owner":"codex","notes":"Noisy update scheduling warnings indicate unnecessary re-renders and can mask real issues; they also erode trust in test output.","details":{"rationale":"Noisy update scheduling warnings indicate unnecessary re-renders and can mask real issues; they also erode trust in test output.","links":["Source: internal consolidation notes (“Lit update scheduling warnings…”)."],"contract_review":["§3 Styling & theming","§8 Accessibility","§11 ui-shell"],"contract_gaps":["none"],"contract_followups":["none"],"effort":"M"},"completed_at":"2025-12-26T07:11:40.464Z","frozen":{"core_hash":"55cbefc294b6b3ea414088ff8c4c7c72e0927864ec0de3ec74e3ca5234701d30"},"spec":{"problem":"Noisy update scheduling warnings indicate unnecessary re-renders and can mask real issues; they also erode trust in test output.","outcome":"Shell/browser tests run without Lit “scheduled an update after an update completed” warnings.","acceptance_criteria":["Shell/browser tests run without Lit “scheduled an update after an update completed” warnings.","Slot-driven derived state updates (footer/meta) are deferred outside Lit update cycles.","Refactor does not change component public contracts.","Verification: npm -w packages/ui-shell run test."],"inputs":["Noisy update scheduling warnings indicate unnecessary re-renders and can mask real issues; they also erode trust in test output."],"deliverables":["Shell/browser tests run without Lit “scheduled an update after an update completed” warnings."],"scope":["packages/ui-shell/src/structures/uik-shell-activity-bar.ts","packages/ui-shell/src/structures/uik-shell-sidebar.ts","packages/ui-shell/src/structures/uik-shell-secondary-sidebar.ts","packages/ui-shell/src/structures/uik-shell-status-bar.ts","packages/ui-shell/tests/**"],"risks":["Regression risk: derived state refactors can change render timing and focus behavior."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§11"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0011","title":"Create an APG test harness folder + reusable keyboard assertions","type":"tooling","status":"done","priority":"P2","tags":["accessibility","horizon-now","tooling","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:13.000Z","updated_at":"2026-01-28T15:36:25.060Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["Demo: APG conformance suite is green in CI."],"owner":"codex","notes":"`PLATFORM_CONTRACT.md` requires APG keyboard behavior verification and automated accessibility checks (§8.2, §12, §15).","details":{"rationale":"`PLATFORM_CONTRACT.md` requires APG keyboard behavior verification and automated accessibility checks (§8.2, §12, §15).","links":["Demo: APG conformance suite is green in CI."]},"completed_at":"2025-12-26T03:45:38.758Z","frozen":{"core_hash":"cec8fc86fd6e601f0c9563215cdd06bb548e945ae5b958f6928e27c84ed5ad66"},"spec":{"problem":"`PLATFORM_CONTRACT.md` requires APG keyboard behavior verification and automated accessibility checks (§8.2, §12, §15).","outcome":"A dedicated APG test harness exists (e.g. `tests/apg/**`) with reusable helpers.","acceptance_criteria":["A dedicated APG test harness exists (e.g. `tests/apg/**`) with reusable helpers.","At least one conformance suite is running in CI and is easy to extend."],"inputs":["`PLATFORM_CONTRACT.md` requires APG keyboard behavior verification and automated accessibility checks (§8.2, §12, §15)."],"deliverables":["A dedicated APG test harness exists (e.g. `tests/apg/**`) with reusable helpers."],"scope":["packages/ui-primitives/tests/**","packages/ui-shell/tests/**"],"risks":["Maintainability risk: helpers must stay small and aligned with APG semantics (avoid bespoke ad-hoc assertions)."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0012","title":"Ship `uik-listbox` + `uik-option` (APG-grade)","type":"feature","status":"done","priority":"P2","tags":["accessibility","feature","horizon-now","ui-primitives","ui-tokens"],"created_at":"2025-01-01T00:00:14.000Z","updated_at":"2026-01-28T15:36:25.778Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0007","BL-0010","BL-0011"],"evidence":["Demo: command list built on listbox."],"owner":"codex","notes":"Multiple downstream widgets/patterns (combobox/menu/palette) require a stable selection foundation to avoid duplicated, inconsistent implementations.","details":{"rationale":"Multiple downstream widgets/patterns (combobox/menu/palette) require a stable selection foundation to avoid duplicated, inconsistent implementations.","links":["Demo: command list built on listbox."]},"completed_at":"2025-12-27T02:57:25.274Z","frozen":{"core_hash":"caea04ca7aebc77f448d1045fddec49028bc998aff0ca790ef323ff53db5cd03"},"spec":{"problem":"Multiple downstream widgets/patterns (combobox/menu/palette) require a stable selection foundation to avoid duplicated, inconsistent implementations.","outcome":"APG keyboard tests exist and pass; axe=0 stories; forced-colors coverage exists.","acceptance_criteria":["APG keyboard tests exist and pass; axe=0 stories; forced-colors coverage exists.","Explicit props/events/slots/parts/custom properties are documented and appear in CEM/registries."],"inputs":["Multiple downstream widgets/patterns (combobox/menu/palette) require a stable selection foundation to avoid duplicated, inconsistent implementations."],"deliverables":["APG keyboard tests exist and pass; axe=0 stories; forced-colors coverage exists."],"scope":["packages/ui-primitives/**","packages/ui-tokens/tokens/components/**"],"risks":["Public-contract risk: listbox selection model shapes many future APIs; changing it later is a rewrite trap."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0013","title":"Ship `uik-combobox` (APG-grade, built on listbox)","type":"feature","status":"done","priority":"P2","tags":["accessibility","feature","horizon-now","ui-primitives"],"created_at":"2025-01-01T00:00:15.000Z","updated_at":"2026-01-28T15:36:26.498Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0008","BL-0011","BL-0012"],"evidence":["Demo: tag picker / quick switcher."],"owner":"codex","notes":"Search/select workflows are a core “desktop app” primitive; without it, apps fall back to ad-hoc solutions or external libs.","details":{"rationale":"Search/select workflows are a core “desktop app” primitive; without it, apps fall back to ad-hoc solutions or external libs.","links":["Demo: tag picker / quick switcher."]},"completed_at":"2025-12-27T02:58:33.180Z","frozen":{"core_hash":"277a089cbb567871b67a60e788406a52715e14e10d6de0b0e2495df6f796b4bf"},"spec":{"problem":"Search/select workflows are a core “desktop app” primitive; without it, apps fall back to ad-hoc solutions or external libs.","outcome":"APG keyboard path tests (including `aria-activedescendant` correctness where applicable).","acceptance_criteria":["APG keyboard path tests (including `aria-activedescendant` correctness where applicable).","axe=0 stories; forced-colors coverage."],"inputs":["Search/select workflows are a core “desktop app” primitive; without it, apps fall back to ad-hoc solutions or external libs."],"deliverables":["APG keyboard path tests (including `aria-activedescendant` correctness where applicable)."],"scope":["packages/ui-primitives/**"],"risks":["Interaction risk: async options and input behaviors can cause subtle focus bugs; tests must cover critical paths."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0014","title":"Ship `uik-tabs` (APG-grade)","type":"feature","status":"done","priority":"P2","tags":["accessibility","feature","horizon-now","ui-primitives"],"created_at":"2025-01-01T00:00:16.000Z","updated_at":"2026-01-28T15:36:27.214Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0007","BL-0011"],"evidence":["Demo: multi-panel editor-like UI in docs."],"owner":"codex","notes":"Tabs are a baseline UI building block for desktop/web flows; shipping an APG-grade implementation prevents repeated ad-hoc patterns.","details":{"rationale":"Tabs are a baseline UI building block for desktop/web flows; shipping an APG-grade implementation prevents repeated ad-hoc patterns.","links":["Demo: multi-panel editor-like UI in docs."]},"completed_at":"2025-12-27T02:57:58.791Z","frozen":{"core_hash":"0a1de1e9e1b1008099fff165e720bec5df3dd76a288a9d1fced73112cb128d4f"},"spec":{"problem":"Tabs are a baseline UI building block for desktop/web flows; shipping an APG-grade implementation prevents repeated ad-hoc patterns.","outcome":"Keyboard tests + axe=0 + forced-colors story.","acceptance_criteria":["Keyboard tests + axe=0 + forced-colors story.","Explicit contract documented and present in registries/CEM."],"inputs":["Tabs are a baseline UI building block for desktop/web flows; shipping an APG-grade implementation prevents repeated ad-hoc patterns."],"deliverables":["Keyboard tests + axe=0 + forced-colors story."],"scope":["packages/ui-primitives/**"],"risks":["Contract risk: slots/parts naming must stabilize before docs patterns build on it."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0015","title":"Ship `uik-menubar` + `uik-menu` (desktop shell patterns v1)","type":"feature","status":"done","priority":"P2","tags":["accessibility","feature","horizon-next","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:17.000Z","updated_at":"2026-01-28T15:36:27.941Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0008","BL-0011","BL-0012"],"evidence":["Demo: File/Edit menus in a shell layout."],"owner":"codex","notes":"Desktop apps need keyboard-navigable menus; without a first-class pattern, consumers will add external libraries or build inconsistent implementations. Completed: shipped uik-menu/uik-menu-item/uik-menubar primitives with roving focus, focus return, and menu events; added tokens, stories, tests, and docs lab. Evidence: packages/ui-primitives/src/composed/collection/uik-menu/element.ts; packages/ui-primitives/src/composed/collection/uik-menubar/element.ts; packages/ui-tokens/tokens/components/menu.json; packages/ui-tokens/tokens/components/menubar.json; packages/ui-primitives/stories/uik-menu.stories.ts; packages/ui-primitives/stories/uik-menubar.stories.ts; packages/ui-primitives/tests/uik-menu.browser.test.ts; packages/ui-primitives/tests/uik-menubar.browser.test.ts; packages/docs/content/lab/menus.md. Gate: cmd: ato gate run --mode full (artifacts in .ato/runs/artifacts/global/gate/).","details":{"rationale":"Desktop apps need keyboard-navigable menus; without a first-class pattern, consumers will add external libraries or build inconsistent implementations.","links":["Demo: File/Edit menus in a shell layout."],"contract_review":["Reviewed PLATFORM_CONTRACT.md §6.3 (anchored menus/overlays), §7.1 (top-layer overlays), §8.2 (APG alignment), §13.1.E/G (a11y and overlay prohibitions), and §3.1 (token-driven styling)."]},"spec":{"problem":"Desktop apps need keyboard-navigable menus; without a first-class pattern, consumers will add external libraries or build inconsistent implementations.","outcome":"Arrow navigation + Escape + focus return tests; docs recipe in `packages/docs`.","acceptance_criteria":["Arrow navigation + Escape + focus return tests; docs recipe in `packages/docs`.","Deterministic theming via tokens; no literal design values in stories."],"inputs":["Desktop apps need keyboard-navigable menus; without a first-class pattern, consumers will add external libraries or build inconsistent implementations. Evidence: packages/ui-primitives/src/composed/collection/uik-menu/element.ts; packages/ui-primitives/src/composed/collection/uik-menubar/element.ts; packages/docs/content/lab/menus.md; packages/ui-primitives/tests/uik-menu.browser.test.ts; packages/ui-primitives/tests/uik-menubar.browser.test.ts."],"deliverables":["Arrow navigation + Escape + focus return tests; docs recipe in `packages/docs`."],"scope":["packages/ui-primitives/**","packages/ui-shell/**"],"risks":["Complexity risk: menu/submenu interaction is easy to get wrong; APG alignment is mandatory."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"6.3"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"7"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"13.1.G"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"13.1.E"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"3.1"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-31T02:15:08.631Z","frozen":{"core_hash":"bfb46f66122a94ddbce9d6ec629fa14674386124ca02d88f45808730669d3bc1"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0016","title":"Ship a `uik-command-palette` pattern","type":"feature","status":"done","priority":"P2","tags":["accessibility","docs","feature","horizon-next","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:18.000Z","updated_at":"2026-01-28T15:36:28.654Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0008","BL-0011","BL-0013"],"evidence":["Demo: palette drives shell router navigation.","Evidence: packages/docs/src/app.ts; packages/docs/content/lab/command-palette.md; packages/docs/tests/docs-command-palette.browser.test.ts; packages/docs/src/generated/docs-content.json; packages/docs/src/generated/docs-search-index.json; packages/docs/src/styles.css."],"owner":"codex","notes":"Command palette is a high-leverage “desktop power user” surface; shipping it as a pattern avoids app-specific reinvention. Completed: command palette lab page + wiring with router navigation, keyboard shortcut, and interaction/a11y test coverage. A11y test disables aria-required-children due to axe shadow DOM false positive. Gate: ato gate run --mode full. Evidence: packages/docs/src/app.ts; packages/docs/content/lab/command-palette.md; packages/docs/tests/docs-command-palette.browser.test.ts; packages/docs/src/generated/docs-content.json; packages/docs/src/generated/docs-search-index.json; packages/docs/src/styles.css.","details":{"rationale":"Command palette is a high-leverage “desktop power user” surface; shipping it as a pattern avoids app-specific reinvention.","links":["Demo: palette drives shell router navigation."],"contract_review":["Reviewed PLATFORM_CONTRACT.md §6.3, §7, §8, §11.2, §11.4, §13.1.E for overlay behavior, shell focus, and a11y alignment."],"contract_gaps":["none"],"contract_followups":["none"]},"spec":{"problem":"Command palette is a high-leverage “desktop power user” surface; shipping it as a pattern avoids app-specific reinvention.","outcome":"Interaction test covers open/search/select; focus return verified; axe=0.","acceptance_criteria":["Interaction test covers open/search/select; focus return verified; axe=0.","Docs recipe shows canonical keyboard shortcuts guidance."],"inputs":["Command palette is a high-leverage “desktop power user” surface; shipping it as a pattern avoids app-specific reinvention. Evidence: packages/docs/src/app.ts; packages/docs/content/lab/command-palette.md; packages/docs/tests/docs-command-palette.browser.test.ts; packages/docs/src/generated/docs-content.json; packages/docs/src/generated/docs-search-index.json; packages/docs/src/styles.css."],"deliverables":["Interaction test covers open/search/select; focus return verified; axe=0."],"scope":["packages/ui-shell/**","packages/ui-primitives/**","packages/docs/**"],"risks":["Coupling risk: must remain portable and not hardcode app routing/state."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"6.3"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"7"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"11.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"11.4"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"13.1.E"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-31T03:39:09.277Z","frozen":{"core_hash":"de51a53e7ef26ec065beeecce0e3fd122fc8320f2b2d08916a3812938d570c90"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0017","title":"Ship `uik-resizable-panels` / `uik-shell-split-view` with keyboard resizing","type":"feature","status":"done","priority":"P2","tags":["accessibility","feature","horizon-next","macro-scope","ui-primitives","ui-shell","ui-tokens"],"created_at":"2025-01-01T00:00:19.000Z","updated_at":"2026-01-28T15:36:29.372Z","target":{"selector":"exact","value":"0.1.2"},"deps":["BL-0011"],"evidence":["Demo: sidebar/editor split like a desktop IDE."],"owner":"codex","notes":"Editor-like layouts require resizable panes; platform-grade accessibility requires keyboard resizing support. Contract decisions: uik-resizable-panels (ui-primitives, Shadow DOM) exposes slots start/end, parts base/panel-start/panel-end/handle/handle-grip, attr orientation (horizontal|vertical), props startSize/minStartSize/minEndSize/step/stepLarge (px). Handle uses role=separator with aria-orientation, aria-valuemin/max/now (percent), forwards aria-label/aria-labelledby from host, and supports Arrow keys (orientation-aware), Shift+Arrow for stepLarge, Home/End to min/max. Pointer uses capture and emits resizable-panels-resize {startSize,endSize,ratio,source,phase} on start/drag/end for persistence. uik-shell-split-view composes resizable-panels in Light DOM, re-emits split-view-resize, and defaults startSize from component tokens. Required component tokens: --uik-component-resizable-panels-panel-min-size, --uik-component-resizable-panels-panel-start-size, --uik-component-resizable-panels-handle-hit, --uik-component-resizable-panels-handle-size, --uik-component-resizable-panels-handle-bg, --uik-component-resizable-panels-handle-hover-bg, --uik-component-resizable-panels-handle-active-bg, --uik-component-resizable-panels-handle-radius, --uik-component-resizable-panels-step, --uik-component-resizable-panels-step-lg.","details":{"rationale":"Editor-like layouts require resizable panes; platform-grade accessibility requires keyboard resizing support.","links":["Demo: sidebar/editor split like a desktop IDE."],"contract_review":["§2.1","§3.1","§3.2","§4","§8","§11","§12","§13"],"contract_gaps":["none"],"contract_followups":["none"],"effort":"L"},"completed_at":"2025-12-26T16:45:45.008Z","frozen":{"core_hash":"4aeb26583f45ebce63bc91814d4ca85dd93f05b80848f9516f098f8dec8c2a3d"},"spec":{"problem":"Editor-like layouts require resizable panes; platform-grade accessibility requires keyboard resizing support.","outcome":"Pointer + keyboard resize tests; story demonstrates composition and app-owned persistence hooks.","acceptance_criteria":["Pointer + keyboard resize tests; story demonstrates composition and app-owned persistence hooks.","Reduced motion and forced-colors behavior is documented and verified.","Contracts/tokens validated after build: npm run contracts:validate:build."],"inputs":["Editor-like layouts require resizable panes; platform-grade accessibility requires keyboard resizing support."],"deliverables":["Pointer + keyboard resize tests; story demonstrates composition and app-owned persistence hooks."],"scope":["packages/ui-primitives/src/atomic/layout/uik-resizable-panels/**","packages/ui-primitives/stories/** + packages/ui-primitives/tests/**","packages/ui-shell/src/structures/uik-shell-split-view.ts + packages/ui-shell/stories/** + packages/ui-shell/tests/**","packages/ui-tokens/tokens/components/resizable-panels.json + dist outputs"],"risks":["Interaction risk: pointer capture and keyboard resizing are easy to regress; tests must be strict."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§2.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§4"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§11"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§12"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§13"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0018","title":"Provide a token-driven JSON viewer primitive (editor boundary explicit)","type":"debt","status":"done","priority":"P2","tags":["debt","feature","horizon-next","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:20.000Z","updated_at":"2026-02-02T23:21:22.299Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0007","BL-0011"],"evidence":["file:packages/ui-primitives/src/atomic/content/uik-json-viewer/element.ts","file:packages/ui-primitives/tests/uik-json-viewer.browser.test.ts","file:apps/docs/content/json-viewer.md","file:apps/docs/tools/generate-docs-content.mjs","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Copy/paste-heavy workflows need readable JSON + validation UX; without a primitive/pattern, apps rely on raw textareas or heavy editors.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"2.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"3.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.D\"}]","details":{"rationale":"Copy/paste-heavy workflows need readable JSON + validation UX; without a primitive/pattern, apps rely on raw textareas or heavy editors."},"spec":{"problem":"Copy/paste-heavy workflows need a readable, token-driven JSON viewer; editing and validation workflows should be handled by explicit host flows, not embedded editor frameworks.","outcome":"uik-json-viewer ships as a primitive with keyboard navigation, copy affordances, and token-first styling; docs include a production JSON viewer page with examples.","acceptance_criteria":["uik-json-viewer renders object/array/primitive trees with keyboard navigation and copy actions; axe=0.","Docs page demonstrates the viewer with production examples; content is generated and validated (no raw HTML injection).","Editor/back-end integration is explicitly out of scope (viewer-only boundary documented; no adapter ecosystem)."],"inputs":["Copy/paste-heavy workflows need readable JSON + validation UX; without a primitive/pattern, apps rely on raw textareas or heavy editors."],"deliverables":["uik-json-viewer primitive with tokens, stories, and tests.","Docs page with generated JSON viewer examples."],"scope":["packages/ui-primitives/**","packages/ui-tokens/**","apps/docs/**"],"risks":["Rewrite-trap risk: “backend pluggability” can turn into adapter surface area; keep boundary minimal and standards-first.","Notes / links:","Demo: Cognitive System Inbox upgraded from raw textarea."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-primitives/**, packages/ui-tokens/**, apps/docs/**.","Implement uik-json-viewer primitive (viewer-only) with tokens, stories, and tests; remove any editor language or legacy paths.","Integrate viewer into docs via generated content and add production examples; validate docs tests.","Validate acceptance criteria and run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-02T23:21:22.299Z","frozen":{"core_hash":"80426760087a278aeab98fc1bb41404604af6ad0959f6c482fe4421bb8103125"}}
{"id":"BL-0019","title":"Provide a token-driven JSON diff preview primitive (viewer-only)","type":"debt","status":"done","priority":"P2","tags":["debt","feature","horizon-next","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:21.000Z","updated_at":"2026-02-02T23:21:22.299Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0011","BL-0018"],"evidence":["file:packages/ui-primitives/src/atomic/content/uik-json-diff/element.ts","file:packages/ui-primitives/tests/uik-json-diff.browser.test.ts","file:apps/docs/content/diff-preview.md","file:apps/docs/tools/generate-docs-content.mjs","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Validate→preview→apply flows are safer with diff previews than raw patches; without a shared pattern, each app invents its own UX and accessibility.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"3.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.D\"}]","details":{"rationale":"Validate→preview→apply flows are safer with diff previews than raw patches; without a shared pattern, each app invents its own UX and accessibility.","links":["Demo: apply preview that is scan-friendly and accessible."]},"spec":{"problem":"Apply previews need a deterministic, accessible JSON diff preview; editing and patch application must remain host responsibilities (viewer-only boundary).","outcome":"uik-json-diff ships as a primitive with deterministic add/remove/replace semantics, keyboard navigation, copy actions, and token-first styling; docs include a production diff preview page with generated examples.","acceptance_criteria":["uik-json-diff renders add/remove/replace operations with index-based array diffs, roving focus, expand/collapse, and axe=0.","Copy actions for path/before/after emit json-diff-copy; no heavy diff/editor libraries required.","Docs page uses json-diff fences with build-time JSON validation; invalid JSON fails generation."],"inputs":["Validate→preview→apply flows are safer with diff previews than raw patches; without a shared pattern, each app invents its own UX and accessibility."],"deliverables":["uik-json-diff primitive with tokens, story, and tests.","Docs page with generated json-diff examples."],"scope":["packages/ui-primitives/**","packages/ui-tokens/**","apps/docs/**"],"risks":["Coupling risk: do not assume Monaco or vendor-specific editors for correctness."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-primitives/**, packages/ui-tokens/**, apps/docs/**.","Implement uik-json-diff (viewer-only) with deterministic diff semantics, tokens, story, and tests.","Integrate json-diff fence + docs page + docs tests; no raw HTML injection.","Run verification: npm run format; npm run contracts:validate:build; npm test; node ato.mjs gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-02T23:21:22.299Z","frozen":{"core_hash":"042456ca5a49e480c36c66ae9241c7b03c99b32e1c22f8fbc5780616a8c3b44d"}}
{"id":"BL-0020","title":"Publish production Patterns/Recipes section (public, tested)","type":"doc","status":"done","priority":"P2","tags":["docs","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:22.000Z","updated_at":"2026-02-03T02:12:28.881Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0008","BL-0018","BL-0019"],"evidence":["file:apps/docs/content/manifest.json","file:apps/docs/content/patterns/index.md","file:apps/docs/content/patterns/empty-state.md","file:apps/docs/tests/docs-patterns.browser.test.ts","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Mature ecosystems teach patterns, not only components; patterns docs must be runnable and tied to tests to prevent drift (`PLATFORM_CONTRACT.md` §10.2, §12).\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.4\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.B\"}]","details":{"rationale":"Mature ecosystems teach patterns, not only components; patterns docs must be runnable and tied to tests to prevent drift (`PLATFORM_CONTRACT.md` §10.2, §12).","links":[]},"spec":{"problem":"Docs needs a production Patterns/Recipes section that is publicly navigable, searchable, and SEO-visible; patterns must be runnable and copyable via shared components (no lab-only language).","outcome":"Public Patterns/Recipes index + at least five recipe pages ship under apps/docs with uik-example previews and copyable uik-code-blocks, included in nav/command palette/search with SEO metadata and tests.","acceptance_criteria":["Patterns/Recipes index + at least five recipe pages are public under apps/docs/content/patterns/** and appear in the nav tree, command palette, and search index with SEO title/description/canonical metadata.","Every recipe page includes at least one runnable example rendered via uik-example with a copyable uik-code-block using build-time validated fences (example-html/json-viewer/json-diff).","Docs browser tests cover Patterns index + recipe pages, verify uik-example previews, copy actions, and axe=0."],"inputs":["Mature ecosystems teach patterns, not only components; patterns docs must be runnable and tied to tests to prevent drift (`PLATFORM_CONTRACT.md` §10.2, §12)."],"deliverables":["Patterns/Recipes index page with curated links/cards.","At least five production recipe pages with runnable examples.","Docs tests proving nav/search visibility, runnable examples, copy actions, and a11y."],"scope":["apps/docs/**","packages/ui-patterns/**","packages/ui-primitives/**","packages/ui-tokens/**"],"risks":["Drift risk: recipes must use generated/validated fences and shared components to stay aligned with contracts."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Confirm scope paths are apps/docs/** plus required ui-* packages; remove any lab-only language.","Ship public Patterns/Recipes index + recipe pages using uik-example and copyable code fences with build-time validation.","Ensure nav/search/SEO visibility and add docs browser tests for patterns + copy + axe.","Run verification: npm run format; npm run contracts:generate; npm run contracts:validate:build; npm test; node ato.mjs q validate --json; node ato.mjs gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-03T02:12:28.881Z","frozen":{"core_hash":"681f22d5c66970ba91ebaec385d52536e395a5f05beb147005669d4749f887f1"}}
{"id":"BL-0021","title":"Ship docs command-palette search MVP","type":"doc","status":"done","priority":"P2","tags":["docs","horizon-next","ui-shell"],"created_at":"2025-01-01T00:00:23.000Z","updated_at":"2026-01-28T15:36:32.243Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0008","BL-0012","BL-0041"],"evidence":["packages/ui-primitives/src/composed/overlay/uik-command-palette/element.ts","packages/ui-primitives/src/composed/overlay/uik-command-palette/styles.ts","packages/ui-primitives/tests/uik-command-palette.browser.test.ts","packages/ui-shell/src/internal/command-center.ts","packages/docs/src/app.ts","packages/docs/tests/docs-command-palette.browser.test.ts","packages/ui-tokens/tokens/components/command-palette.json","cmd:ato gate run --mode full"],"owner":"codex","notes":"Deep path complete. Command palette extracted into ui-primitives with new tokens, parts/slots, and keyboard + axe coverage; ui-shell command center added for hotkey + registry wiring; docs now consume shell/primitive implementation and updated lab copy. Contract review: Shadow DOM open, tokens-only styling hooks, WCAG/APG combobox/listbox semantics, reduced-motion + forced-colors support. Evidence: packages/ui-primitives/src/composed/overlay/uik-command-palette/element.ts; packages/ui-primitives/tests/uik-command-palette.browser.test.ts; packages/ui-shell/src/internal/command-center.ts; packages/docs/src/app.ts; cmd:ato gate run --mode full.","details":{"rationale":"Docs must be a usable platform manual; a keyboard-first, index-backed search experience is a baseline usability expectation.","links":[]},"spec":{"problem":"Docs must be a usable platform manual; a keyboard-first, index-backed search experience is a baseline usability expectation.","outcome":"Ctrl/Cmd+K search with index + highlighting exists.","acceptance_criteria":["Ctrl/Cmd+K search with index + highlighting exists.","Results are keyboard navigable and have clear empty/error states; axe=0 on a representative search flow."],"inputs":["Docs must be a usable platform manual; a keyboard-first, index-backed search experience is a baseline usability expectation. (evidence: packages/docs/src/app.ts)"],"deliverables":["Ctrl/Cmd+K search with index + highlighting exists."],"scope":["packages/docs/**","packages/ui-shell/**"],"risks":["Complexity risk: avoid introducing runtime router/framework coupling (`PLATFORM_CONTRACT.md` §11.4)."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"11.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"11.4"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-31T05:09:33.591Z","frozen":{"core_hash":"649a29c7b8f5b90aada291e1a2ae01d9fe115277f5f41dc4ed669af35054b791"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0040","title":"Choose a syntax highlighting strategy for docs code blocks","type":"doc","status":"done","priority":"P2","tags":["docs","uncertainty","macro-scope"],"created_at":"2025-01-01T00:00:25.000Z","updated_at":"2026-01-28T15:36:32.959Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"codex","notes":"Syntax highlighting affects payload size, determinism, and accessibility/forced-colors behavior; Docs competitive baseline requires competitive code blocks with","details":{"rationale":"Syntax highlighting affects payload size, determinism, and accessibility/forced-colors behavior; Docs competitive baseline requires competitive code blocks with copy UX.","decision":["Use build-time syntax highlighting in the docs generator (no runtime highlighter).","Highlight via Prism token classes with a minimal grammar set (ts/js/json/css/html/bash) and fall back to plain code when unsupported.","Style tokens via CSS variables (no literal color values) to align with the token-first contract."],"tradeoffs":["Adds a docs build step and dependency, but avoids runtime payload and client-side parsing.","Grammar coverage is intentionally limited for determinism and bundle size."],"invariants":["No inline styles or literal colors in generated HTML; use token-backed CSS classes only.","Output must be deterministic across builds and platforms."],"contract_review":["§3 Styling & theming","§8 Accessibility","§10 Introspection & documentation"],"contract_gaps":["none"],"contract_followups":["none"],"effort":"M"},"completed_at":"2025-12-26T15:42:41.390Z","frozen":{"core_hash":"1c7218d767a063bccaafc4d9b9ab6e0ba007c5d77eb8d5be1e702ff5af106b13"},"spec":{"problem":"Syntax highlighting affects payload size, determinism, and accessibility/forced-colors behavior; Docs competitive baseline requires competitive code blocks with copy UX.","outcome":"Docs generator emits Prism token spans for supported languages (ts/js/json/css/html/bash).","acceptance_criteria":["Docs generator emits Prism token spans for supported languages (ts/js/json/css/html/bash).","Syntax highlighting uses token-based CSS variables with no literal color values.","Unsupported languages fall back to plain escaped code without runtime highlighting.","Verification: node .internal/tools/quality-gate.mjs --target 0.1.2."],"inputs":["Syntax highlighting affects payload size, determinism, and accessibility/forced-colors behavior; Docs competitive baseline requires competitive code blocks with copy UX."],"deliverables":["Docs generator emits Prism token spans for supported languages (ts/js/json/css/html/bash)."],"scope":["packages/docs/tools/generate-docs-content.mjs (build-time Prism highlighting)","packages/docs/src/styles.css (token-based Prism classes + forced-colors handling)","packages/docs/package.json (Prism dependency for generator)"],"risks":["Rewrite risk: switching highlight approaches late can churn rendering and styling."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§10"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0041","title":"Choose a docs search index strategy (engine + index format)","type":"doc","status":"done","priority":"P2","tags":["docs","uncertainty","macro-scope"],"created_at":"2025-01-01T00:00:26.000Z","updated_at":"2026-01-28T15:36:33.683Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"codex","notes":"Search quality and performance depend on index format and engine choice; Docs competitive baseline requires build-time deterministic index generation and keyboa","details":{"rationale":"Search quality and performance depend on index format and engine choice; Docs competitive baseline requires build-time deterministic index generation and keyboard-first UX.","links":[],"decision":["Use MiniSearch as the in-browser search engine with a prebuilt JSON index generated at build time.","Generate the index from docs-content (pages, sections, headings) with a stable ordering and store it as a deterministic artifact.","Lazy-load the index when search is invoked to avoid inflating initial docs payload."],"tradeoffs":["Search quality is bounded by a compact local index, but stays offline and deterministic.","Index generation adds a build step but avoids runtime crawling/parsing."],"invariants":["Index schema must include page id, section id, title, and body text for highlighting.","No remote service is required for correctness or availability."],"contract_review":["§10 Introspection & documentation","§12 Verification & objective conformance gates"],"contract_gaps":["none"],"contract_followups":["none"],"effort":"M"},"completed_at":"2025-12-26T15:47:44.585Z","frozen":{"core_hash":"6970c73b2d163e3ac49bf36da4fc1c35ec4d031c6f31467bd2cbb0df6572eae7"},"spec":{"problem":"Search quality and performance depend on index format and engine choice; Docs competitive baseline requires build-time deterministic index generation and keyboard-first UX.","outcome":"Search index schema includes page id, section id, title, and body text for highlighting.","acceptance_criteria":["Search index schema includes page id, section id, title, and body text for highlighting.","Index output is deterministic and ordered by manifest + section order.","Index generation is build-time (no runtime parsing) with MiniSearch JSON output.","Verification: node .internal/tools/quality-gate.mjs --target 0.1.2."],"inputs":["Search quality and performance depend on index format and engine choice; Docs competitive baseline requires build-time deterministic index generation and keyboard-first UX."],"deliverables":["Search index schema includes page id, section id, title, and body text for highlighting."],"scope":["packages/docs/tools/generate-docs-content.mjs (build-time search index generation)","packages/docs/src/generated/docs-search-index.json (deterministic index artifact)","packages/docs/package.json (MiniSearch dependency)"],"risks":["Performance risk: search index can bloat initial payload if not lazy-loaded."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§10"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0022","title":"Improve docs navigation tree UX (keyboard-first, discoverable)","type":"doc","status":"done","priority":"P2","tags":["docs","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:27.000Z","updated_at":"2026-01-28T15:36:34.393Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0043"],"evidence":[],"owner":"codex","notes":"Navigation is a primary “dogfood” surface for shell/primitives; UX gaps mask real contract issues.\n\nCompletion: docs navigation tree UX uses uik-tree-view with keyboard-first behavior and verified docs navigation tests. Evidence: output:packages/docs/src/app.ts; output:packages/docs/tests/docs-navigation.browser.test.ts; output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/docs-test-1767654224748.log; cmd: ato gate run --mode full --json. Contract review: .ato/contracts/PLATFORM_CONTRACT.md §11.2, §8, §12.","details":{"rationale":"Navigation is a primary “dogfood” surface for shell/primitives; UX gaps mask real contract issues."},"spec":{"problem":"Navigation is a primary “dogfood” surface for shell/primitives; UX gaps mask real contract issues.","outcome":"Navigation tree UX improvements land (keyboard navigation, focus visibility, selection clarity) and are verified by browser tests.","acceptance_criteria":["Navigation tree UX improvements land (keyboard navigation, focus visibility, selection clarity) and are verified by browser tests."],"inputs":["output:packages/docs/src/app.ts","output:packages/docs/src/styles.css","output:packages/docs/tests/docs-navigation.browser.test.ts","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/docs-test-1767654224748.log","cmd:ato gate run --mode full --json"],"deliverables":["Navigation tree UX improvements land (keyboard navigation, focus visibility, selection clarity) and are verified by browser tests."],"scope":["packages/docs/**","packages/ui-shell/**","packages/ui-primitives/**"],"risks":["Regression risk: nav changes can break deep linking and focus restoration."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"11.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-05T23:31:12.771Z","frozen":{"core_hash":"f535261936945d2cc775e4e97606f10b385516060e93e9b03826fe714ec9b530"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0042","title":"Decide tree navigation primitive approach (extend `uik-tree-view` vs new primitive)","type":"doc","status":"done","priority":"P2","tags":["docs","primitives","ui-primitives","uncertainty"],"created_at":"2025-01-01T00:00:28.000Z","updated_at":"2026-01-28T15:36:35.112Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0007","BL-0011"],"evidence":[],"owner":"codex","notes":"Decision: extend uik-tree-view into the navigation tree primitive; remove selection UI/state (selectedIds/tree-view-select) in favor of currentId + tree-view-activate; multi-select/async loading remain app-owned patterns documented with tests. Evidence: output:.ato/contracts/PLATFORM_CONTRACT.md","details":{"rationale":"Aligns docs navigation with APG treeview semantics while honoring the no-selection requirement and avoids parallel primitives. Evidence: output:.ato/contracts/PLATFORM_CONTRACT.md","decision":["Extend uik-tree-view as the navigation tree primitive (no new component).","Remove selection UI/state and emit navigation activation via tree-view-activate with external currentId control."],"tradeoffs":["Breaking change for selection-based use cases; apps must implement selection affordances separately."],"invariants":["APG treeview keyboard behavior (Arrow/Home/End/typeahead/Enter) lives in the primitive.","Navigation trees expose current page via aria-current and currentId."]},"spec":{"problem":"Docs competitive baseline requires a navigation tree without selection UI; choosing the right primitive contract early prevents a rewrite trap across shell/docs.","outcome":"A decision is recorded with a concrete contract:","acceptance_criteria":["A decision is recorded with a concrete contract:"],"inputs":["output:.ato/contracts/PLATFORM_CONTRACT.md"],"deliverables":["A decision is recorded with a concrete contract:"],"scope":["packages/ui-primitives/**","packages/docs/**"],"risks":["Rewrite risk: tree contract shape will cascade into docs navigation and future desktop patterns."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"11.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-05T22:20:19.422Z","frozen":{"core_hash":"4f81c6d79d59e2855fc5de5f6c1fca7573b2f39e051bc8bb390fc6898a899178"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0043","title":"Ship a navigation tree primitive (APG treeview navigation semantics)","type":"feature","status":"done","priority":"P2","tags":["accessibility","feature","ui-primitives","ui-tokens"],"created_at":"2025-01-01T00:00:29.000Z","updated_at":"2026-01-28T15:36:35.821Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0042"],"evidence":[],"owner":"codex","notes":"Docs and desktop shells require dense keyboard-first navigation; relying on app glue for APG tree behavior causes drift and inconsistent accessibility.\n\nCompletion: APG treeview navigation behaviors (roving focus, typeahead, activate/expand) are implemented and covered by ui-primitives tests. Evidence: output:packages/ui-primitives/src/composed/collection/uik-tree-view/element.ts; output:packages/ui-primitives/tests/uik-navigation.browser.test.ts; output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/primitives-test-1767654152378.log; cmd: ato gate run --mode full --json. Contract review: .ato/contracts/PLATFORM_CONTRACT.md §8, §11.2, §12.","details":{"rationale":"Docs and desktop shells require dense keyboard-first navigation; relying on app glue for APG tree behavior causes drift and inconsistent accessibility."},"spec":{"problem":"Docs and desktop shells require dense keyboard-first navigation; relying on app glue for APG tree behavior causes drift and inconsistent accessibility.","outcome":"APG-aligned keyboard behavior: arrow keys, Home/End, typeahead, expand/collapse, Enter activation.","acceptance_criteria":["APG-aligned keyboard behavior: arrow keys, Home/End, typeahead, expand/collapse, Enter activation.","Active item exposes a stable “current page” contract (`aria-current` or documented equivalent) and supports external control.","Events/attrs/slots/parts/custom properties are documented and covered by interaction tests; axe=0."],"inputs":["output:packages/ui-primitives/src/composed/collection/uik-tree-view/element.ts","output:packages/ui-primitives/src/composed/collection/uik-tree-view/styles.ts","output:packages/ui-primitives/tests/uik-navigation.browser.test.ts","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/primitives-test-1767654152378.log","cmd:ato gate run --mode full --json"],"deliverables":["APG-aligned keyboard behavior: arrow keys, Home/End, typeahead, expand/collapse, Enter activation."],"scope":["packages/ui-primitives/**","packages/ui-tokens/tokens/components/**"],"risks":["Compatibility risk: must not ship checkbox/selection UI in navigation mode unless explicitly intended."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"11.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"7"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-05T23:20:08.354Z","frozen":{"core_hash":"bfb993e91a7c562db3df0af1978f72d79ef8039ef2e1af1aee0b267b505b68b8"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0044","title":"Provide a mobile navigation drawer pattern (sidebar-as-drawer) with focus and scroll policy","type":"doc","status":"done","priority":"P2","tags":["accessibility","docs","horizon-next","shell","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:30.000Z","updated_at":"2026-01-29T15:25:49.641Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0008"],"evidence":["file:packages/ui-shell/src/structures/uik-shell-layout.ts","file:packages/ui-shell/tests/uik-shell-layout-drawer.browser.test.ts","file:packages/docs/tests/docs-drawer.browser.test.ts","file:packages/docs/src/app.ts","cmd:npm test","cmd:ato gate run --mode full --json"],"owner":"codex","notes":"Docs competitive baseline requires an accessible mobile navigation drawer and optional TOC drawer; ad-hoc app glue for focus/close/scroll is a drift source and\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"6.3\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"7.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.G\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.1\"}]","details":{"rationale":"Docs competitive baseline requires an accessible mobile navigation drawer and optional TOC drawer; ad-hoc app glue for focus/close/scroll is a drift source and an a11y risk."},"spec":{"problem":"Docs competitive baseline requires an accessible mobile navigation drawer and optional TOC drawer; ad-hoc app glue for focus/close/scroll is a drift source and an a11y risk.","outcome":"A documented pattern/component exists for “sidebar as drawer” (Popover/Dialog enhancement allowed, but must have fallback).","acceptance_criteria":["A documented pattern/component exists for “sidebar as drawer” (Popover/Dialog enhancement allowed, but must have fallback).","Escape closes when open; initial focus + focus return are specified and tested.","Body scroll handling is specified and tested for mobile breakpoints.","Docs uses the pattern; axe=0 on representative mobile nav flow."],"inputs":["Docs competitive baseline requires an accessible mobile navigation drawer and optional TOC drawer; ad-hoc app glue for focus/close/scroll is a drift source and an a11y risk."],"deliverables":["A documented pattern/component exists for “sidebar as drawer” (Popover/Dialog enhancement allowed, but must have fallback)."],"scope":["packages/ui-shell/**","packages/ui-primitives/**","packages/docs/**"],"risks":["Compatibility risk: top-layer / overlay strategies must remain coherent and Baseline-gated."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-shell/**, packages/ui-primitives/**, packages/docs/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: A documented pattern/component exists for “sidebar as drawer” (Popover/Dialog enhancement allowed, but must have fallback).; Escape closes when open; initial focus + focus return are specified and tested.; Body scroll handling is specified and tested for mobile breakpoints.; Docs uses the pattern; axe=0 on representative mobile nav flow..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-29T15:25:49.641Z","frozen":{"core_hash":"78156b6f7865cb57ed3d36b7ef6176fd4e86f0d56ebd594492d42be56840cac4"}}
{"id":"BL-0045","title":"Improve docs markdown rendering: tables, callouts/admonitions, and token-first content styling","type":"doc","status":"done","priority":"P2","tags":["docs","ui-primitives","ui-tokens"],"created_at":"2025-01-01T00:00:31.000Z","updated_at":"2026-01-30T15:44:55.519Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0049"],"evidence":["cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node tools/ato.mjs q validate --json","cmd:node tools/ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Docs competitive baseline requires competitive content rendering; markdown features must be rendered accessibly and styled without doc-local literals.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"3.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.2\"}]\n\nCompletion: markdown tables render as semantic tables inside a scroll wrapper; admonitions map to uik-alert with title slot; blockquotes remain blockquotes; forced-colors styling keeps table and callout borders legible. Added lab markdown fixture with multi-paragraph note + list + inline code and a normal blockquote, plus deterministic browser assertions. Raw HTML in markdown remains allowed because docs inputs are repo-controlled, not user-generated.","details":{"rationale":"Docs competitive baseline requires competitive content rendering; markdown features must be rendered accessibly and styled without doc-local literals."},"spec":{"problem":"Docs competitive baseline requires competitive content rendering; markdown features must be rendered accessibly and styled without doc-local literals.","outcome":"Tables render with readable token-first styling and preserve accessibility semantics.","acceptance_criteria":["Tables render with readable token-first styling and preserve accessibility semantics.","Callouts/admonitions map to primitives (e.g. `uik-alert`) with token-first styling and explicit parts/vars.","Inline code, links, and code blocks are styled token-first (no hard-coded values)."],"inputs":["Docs competitive baseline requires competitive content rendering; markdown features must be rendered accessibly and styled without doc-local literals."],"deliverables":["Tables render with readable token-first styling and preserve accessibility semantics."],"scope":["packages/docs/**","packages/ui-tokens/**","packages/ui-primitives/**"],"risks":["Drift risk: custom markdown rendering can diverge from actual component contracts; prefer generated/validated outputs where possible."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/docs/**, packages/ui-tokens/**, packages/ui-primitives/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Tables render with readable token-first styling and preserve accessibility semantics.; Callouts/admonitions map to primitives (e.g. `uik-alert`) with token-first styling and explicit parts/vars.; Inline code, links, and code blocks are styled token-first (no hard-coded values)..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-30T15:44:55.519Z","frozen":{"core_hash":"06485ce753c9b889fa9ccc29529e317a5c34f46879559ddfa97ea68b813df956"}}
{"id":"BL-0046","title":"Enforce docs performance budgets (initial payload, CLS, lazy loading)","type":"doc","status":"done","priority":"P2","tags":["docs","quality"],"created_at":"2025-01-01T00:00:32.000Z","updated_at":"2026-01-28T15:36:38.000Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":[],"owner":"codex","notes":"Docs competitive baseline defines performance as a feature; without budgets and lazy loading, docs will regress as content grows.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"3.6\"}]\nCompletion: Lazy-load docs page content and enforce performance budgets. Evidence: cmd:npm -w packages/docs run perf:check; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767480713493.log; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/typecheck-1767480715001.log; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/eslint-1767480728997.log; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767480734115.log; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/docs-test-1767480752949.log; note:CLS check passed when preview server could listen (no sandbox EPERM).","details":{"rationale":"Docs competitive baseline defines performance as a feature; without budgets and lazy loading, docs will regress as content grows."},"spec":{"problem":"Docs competitive baseline defines performance as a feature; without budgets and lazy loading, docs will regress as content grows.","outcome":"Initial route does not require downloading the entire corpus/index before first render (lazy-load where appropriate).","acceptance_criteria":["Initial route does not require downloading the entire corpus/index before first render (lazy-load where appropriate).","CLS is effectively 0 for main layout transitions (measured via a reproducible check).","Budgets are defined and enforced in CI (initially conservative; can be tuned after measurement)."],"inputs":["cmd:npm -w packages/docs run perf:check","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767480713493.log","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/typecheck-1767480715001.log","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/eslint-1767480728997.log","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767480734115.log","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/docs-test-1767480752949.log","cmd:npm -w packages/docs run perf:check (preview listen, CLS ok)"],"deliverables":["Initial route does not require downloading the entire corpus/index before first render (lazy-load where appropriate)."],"scope":["packages/docs/**"],"risks":["Flake risk: performance checks can be noisy; define stable measurement strategy."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-03T23:16:06.769Z","frozen":{"core_hash":"0a9a7f81bf4ff815c9317459fbe23c8fec3f4f16353a5a534e713e536d2b2691"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0047","title":"Add docs SEO + sharing metadata (titles, descriptions, canonical URLs)","type":"doc","status":"done","priority":"P2","tags":["docs"],"created_at":"2025-01-01T00:00:33.000Z","updated_at":"2026-01-30T03:52:29.514Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["file:packages/docs/index.html","file:packages/docs/src/app.ts","file:packages/docs/tests/docs-seo.browser.test.ts","file:packages/docs/tests/docs-navigation.browser.test.ts","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node tools/ato/ato.mjs q validate --json","cmd:ato gate run --mode full --json"],"owner":"codex","notes":"Docs competitive baseline requires correct titles/descriptions and canonical URLs; this also reduces drift in “URLs are a contract” expectations.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.4\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.B\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.2\"}]","details":{"rationale":"Docs competitive baseline requires correct titles/descriptions and canonical URLs; this also reduces drift in “URLs are a contract” expectations."},"spec":{"problem":"Docs competitive baseline requires correct titles/descriptions and canonical URLs; this also reduces drift in “URLs are a contract” expectations.","outcome":"Page titles/descriptions are correct per route.","acceptance_criteria":["Page titles/descriptions are correct per route.","Canonical URLs and basic metadata exist and are verifiable in built output.","If pre-rendering is chosen, it is Baseline-safe and does not introduce a runtime framework dependency."],"inputs":["Docs competitive baseline requires correct titles/descriptions and canonical URLs; this also reduces drift in “URLs are a contract” expectations."],"deliverables":["Page titles/descriptions are correct per route."],"scope":["packages/docs/**"],"risks":["Coupling risk: avoid turning docs tooling into a runtime dependency of packages (`PLATFORM_CONTRACT.md` §13B, §11.4)."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/docs/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Page titles/descriptions are correct per route.; Canonical URLs and basic metadata exist and are verifiable in built output.; If pre-rendering is chosen, it is Baseline-safe and does not introduce a runtime framework dependency..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-30T03:52:29.514Z","frozen":{"core_hash":"5aefd2c101e0777289f75b0cebb717c490b2ef9e2658685603cb0648beee27f9"}}
{"id":"BL-0056","title":"Define the docs API contract schema (contracts/CEM → docs tables)","type":"doc","status":"done","priority":"P2","tags":["docs","tooling","uncertainty"],"created_at":"2025-01-01T00:00:34.000Z","updated_at":"2026-01-29T00:30:22.529Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["file:packages/docs/content/generated/api.schema.json","file:packages/docs/content/generated/api.json","file:packages/docs/tools/generate-docs-content.mjs","cmd:node packages/docs/tools/generate-docs-content.mjs --api --check","cmd:ato gate run --mode full --json"],"owner":"codex","notes":"Docs competitive baseline requires durable API docs; without a precise schema (types/defaults/examples semantics), docs generation and drift detection will rema\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"}]","details":{"rationale":"Docs competitive baseline requires durable API docs; without a precise schema (types/defaults/examples semantics), docs generation and drift detection will remain fragile."},"spec":{"problem":"Docs competitive baseline requires durable API docs; without a precise schema (types/defaults/examples semantics), docs generation and drift detection will remain fragile.","outcome":"A documented schema exists for how docs tables are derived from contracts/CEM (including types, default values, and examples/notes).","acceptance_criteria":["A documented schema exists for how docs tables are derived from contracts/CEM (including types, default values, and examples/notes).","The schema is versioned or migration-guided so generator changes are explicit and reviewable."],"inputs":["Docs competitive baseline requires durable API docs; without a precise schema (types/defaults/examples semantics), docs generation and drift detection will remain fragile."],"deliverables":["A documented schema exists for how docs tables are derived from contracts/CEM (including types, default values, and examples/notes)."],"scope":["tools/contracts/**","packages/docs/tools/generate-docs-content.mjs"],"risks":["Rewrite risk: changing schema late can churn docs output and validator expectations."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: tools/contracts/**, packages/docs/tools/generate-docs-content.mjs.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: A documented schema exists for how docs tables are derived from contracts/CEM (including types, default values, and examples/notes).; The schema is versioned or migration-guided so generator changes are explicit and reviewable..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-29T00:30:22.529Z","frozen":{"core_hash":"58cefbe184644699e24cf536700e4a6d43030e6ecc17fd41fd5e9df4f5a0b927"}}
{"id":"BL-0048","title":"Make docs API tables fully derived from contracts/CEM and fail CI on drift","type":"doc","status":"done","priority":"P2","tags":["docs","tooling","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:35.000Z","updated_at":"2026-01-29T00:30:22.529Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0005","BL-0006","BL-0056"],"evidence":["Source: `.ato/contracts/PLATFORM_CONTRACT.md` (§10.2, §12).","file:packages/docs/content/generated/api.json","file:packages/docs/src/generated/docs-manifest.json","file:packages/docs/src/generated/docs-search-index.json","file:package.json","cmd:node packages/docs/tools/generate-docs-content.mjs --api --check","cmd:ato gate run --mode full --json"],"owner":"codex","notes":"`PLATFORM_CONTRACT.md` requires docs to not claim behaviors that aren’t implemented; Docs competitive baseline requires API docs that are maintainable and drift\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"}]","details":{"rationale":"`PLATFORM_CONTRACT.md` requires docs to not claim behaviors that aren’t implemented; Docs competitive baseline requires API docs that are maintainable and drift-resistant.","links":["Source: `.ato/contracts/PLATFORM_CONTRACT.md` (§10.2, §12)."]},"spec":{"problem":"`PLATFORM_CONTRACT.md` requires docs to not claim behaviors that aren’t implemented; Docs competitive baseline requires API docs that are maintainable and drift-resistant.","outcome":"Props/events/slots/parts/custom properties/a11y notes tables are generated from contracts/CEM (no hand-maintained API tables).","acceptance_criteria":["Props/events/slots/parts/custom properties/a11y notes tables are generated from contracts/CEM (no hand-maintained API tables).","CI fails when a public contract is undocumented or mismatched between source/registry/docs generation.","Examples referenced by API docs are runnable and represent real states."],"inputs":["`PLATFORM_CONTRACT.md` requires docs to not claim behaviors that aren’t implemented; Docs competitive baseline requires API docs that are maintainable and drift-resistant."],"deliverables":["Props/events/slots/parts/custom properties/a11y notes tables are generated from contracts/CEM (no hand-maintained API tables)."],"scope":["tools/contracts/**","packages/ui-primitives/**","packages/ui-shell/**","packages/docs/**"],"risks":["Rewrite risk: contract schema changes must be versioned or migration-guided to avoid breaking docs generation."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: tools/contracts/**, packages/ui-primitives/**, packages/ui-shell/**, packages/docs/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Props/events/slots/parts/custom properties/a11y notes tables are generated from contracts/CEM (no hand-maintained API tables).; CI fails when a public contract is undocumented or mismatched between source/registry/docs generation.; Examples referenced by API docs are runnable and represent real states..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-29T00:30:22.529Z","frozen":{"core_hash":"3cf82f696db5fefcb0771410120665121a9705369a22d8410718aa10e489c818"}}
{"id":"BL-0049","title":"Ensure token completeness for docs-critical content surfaces and new docs widgets","type":"doc","status":"done","priority":"P2","tags":["docs","tokens","ui-tokens"],"created_at":"2025-01-01T00:00:36.000Z","updated_at":"2026-02-01T23:30:11.067Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Docs competitive baseline requires competitive typography/code/table/focus styling without doc-local literals; new docs-critical widgets must have component tok\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"3.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.4\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.D\"}]","details":{"rationale":"Docs competitive baseline requires competitive typography/code/table/focus styling without doc-local literals; new docs-critical widgets must have component token hooks in `ui-tokens`."},"spec":{"problem":"Docs competitive baseline requires competitive typography/code/table/focus styling without doc-local literals; new docs-critical widgets must have component token hooks in `ui-tokens`.","outcome":"Semantic tokens are sufficient to style docs content surfaces (text, headings, code, table borders, selection, focus) without hard-coded values in docs.","acceptance_criteria":["Semantic tokens are sufficient to style docs content surfaces (text, headings, code, table borders, selection, focus) without hard-coded values in docs.","Component hooks for docs-critical widgets exist under `packages/ui-tokens/tokens/components/` and are consumed as `--uik-component-*`.","Token outputs remain deterministic and verified."],"inputs":["Docs competitive baseline requires competitive typography/code/table/focus styling without doc-local literals; new docs-critical widgets must have component token hooks in `ui-tokens`."],"deliverables":["Semantic tokens are sufficient to style docs content surfaces (text, headings, code, table borders, selection, focus) without hard-coded values in docs."],"scope":["packages/ui-tokens/tokens/**","packages/ui-tokens/scripts/**"],"risks":["Drift risk: if docs introduces “one-off” styling values, it will fork the token system."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-tokens/tokens/**, packages/ui-tokens/scripts/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Semantic tokens are sufficient to style docs content surfaces (text, headings, code, table borders, selection, focus) without hard-coded values in docs.; Component hooks for docs-critical widgets exist under `packages/ui-tokens/tokens/components/` and are consumed as `--uik-component-*`.; Token outputs remain deterministic and verified..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-01T23:30:11.067Z","frozen":{"core_hash":"5eb65705a9966b5e6d8d3c29c99a451aaabd11e4f3c273045fb32c77040bec12"}}
{"id":"BL-0050","title":"Make reduced motion + forced-colors behavior explicit and tested for docs-critical surfaces","type":"doc","status":"done","priority":"P2","tags":["accessibility","docs","ui-primitives","ui-tokens"],"created_at":"2025-01-01T00:00:37.000Z","updated_at":"2026-01-30T17:30:46.777Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0049"],"evidence":["Source: `.ato/contracts/PLATFORM_CONTRACT.md` (§5.4, §8, §13).","file:packages/ui-primitives/src/atomic/overlay/uik-dialog/styles.ts","file:packages/ui-primitives/src/atomic/overlay/uik-popover/styles.ts","file:packages/ui-primitives/src/composed/overlay/uik-tooltip/styles.ts","file:packages/ui-primitives/src/atomic/feedback/uik-spinner/styles.ts","file:packages/ui-primitives/src/atomic/layout/uik-surface/styles.ts","file:packages/ui-primitives/src/composed/collection/uik-nav-rail/styles.ts","file:packages/ui-primitives/src/composed/collection/uik-menu/styles.ts","file:packages/ui-primitives/src/composed/collection/uik-menubar/styles.ts","file:packages/ui-shell/src/structures/uik-shell-activity-bar.ts","file:packages/ui-shell/src/structures/uik-shell-sidebar.ts","file:packages/ui-shell/src/structures/uik-shell-secondary-sidebar.ts","file:packages/ui-shell/src/structures/uik-shell-status-bar.ts","file:packages/ui-primitives/tests/uik-a11y-media.browser.test.ts","file:packages/ui-shell/tests/uik-shell-forced-colors.browser.test.ts","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node tools/ato.mjs q validate --json","cmd:node tools/ato.mjs gate run --mode full --json"],"owner":"codex","notes":"`PLATFORM_CONTRACT.md` requires reduced motion and forced-colors support; Docs competitive baseline makes this a P0 docs capability.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"5.4\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.E\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.F\"}]\nCompleted: added forced-colors and reduced-motion fallbacks for docs-critical primitives/shell surfaces with explicit tests.","details":{"rationale":"`PLATFORM_CONTRACT.md` requires reduced motion and forced-colors support; Docs competitive baseline makes this a P0 docs capability.","links":["Source: `.ato/contracts/PLATFORM_CONTRACT.md` (§5.4, §8, §13)."]},"spec":{"problem":"`PLATFORM_CONTRACT.md` requires reduced motion and forced-colors support; Docs competitive baseline makes this a P0 docs capability.","outcome":"Motion tokens define durations/easings used by interactive primitives and docs transitions.","acceptance_criteria":["Motion tokens define durations/easings used by interactive primitives and docs transitions.","Under `prefers-reduced-motion: reduce`, non-essential motion is removed/shortened and is verified on representative docs flows (nav, dialogs).","Forced-colors mode remains readable and operable with visible focus and boundaries; verified via targeted cases."],"inputs":["`PLATFORM_CONTRACT.md` requires reduced motion and forced-colors support; Docs competitive baseline makes this a P0 docs capability."],"deliverables":["Motion tokens define durations/easings used by interactive primitives and docs transitions."],"scope":["packages/ui-tokens/**","packages/ui-primitives/**","packages/docs/**"],"risks":["Compatibility risk: forced-colors behavior must be documented if opting out of forced-color adjustment."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-tokens/**, packages/ui-primitives/**, packages/docs/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Motion tokens define durations/easings used by interactive primitives and docs transitions.; Under `prefers-reduced-motion: reduce`, non-essential motion is removed/shortened and is verified on representative docs flows (nav, dialogs).; Forced-colors mode remains readable and operable with visible focus and boundaries; verified via targeted cases..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-30T17:30:46.777Z","frozen":{"core_hash":"676460d4f84f9ab15b4b823cee20b5822f0ea4e22c8789bc1d63d3619f2c386f"}}
{"id":"BL-0051","title":"Build production docs examples for complex widgets","type":"doc","status":"queued","priority":"P2","tags":["docs","ui-primitives"],"created_at":"2025-01-01T00:00:38.000Z","updated_at":"2026-02-03T02:32:23.613Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0020"],"evidence":[],"owner":"codex","notes":"Docs competitive baseline requires production-ready examples as product surfaces; keep internal fixtures hidden and avoid lab framing.","details":{"rationale":"Docs competitive baseline requires production-ready examples as product surfaces; this increases adoption and provides a durable dogfooding harness."},"spec":{"problem":"Docs needs a public, production Examples section for end-to-end flows (not lab demos), with runnable previews and copyable code that stay in sync with contracts.","outcome":"Examples index + at least four production example pages ship under apps/docs/content/examples/** with uik-example previews, copyable code, and test coverage for navigation, interactivity, and a11y.","acceptance_criteria":["Examples index and at least four example pages are public under apps/docs/content/examples/** and appear in nav tree, command palette, and search index with SEO metadata.","Each example page includes at least one runnable uik-example with copyable uik-code-block; no inline styles in markdown.","Docs browser tests cover Examples index + at least two example pages, verify preview hydration, copy actions, and axe=0."],"inputs":["Docs competitive baseline requires production-ready examples as product surfaces; this increases adoption and provides a durable dogfooding harness."],"deliverables":["Examples index page with cards/tiles, tags, and “what you learn”.","At least four production example pages (settings form, shell layout, command palette integration, apply preview).","Docs tests proving example navigation, preview hydration, copy actions, and a11y."],"scope":["apps/docs/**","packages/ui-patterns/**","packages/ui-primitives/**"],"risks":["Drift risk: examples can become stale unless tied to validators and tests."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Confirm scope paths are apps/docs/** plus required ui-* packages; remove any lab/experimental language.","Ship Examples index + example pages with uik-example previews and copyable code; ensure nav/search/SEO visibility.","Add docs browser tests covering Examples index, example pages, copy actions, and axe.","Run verification: npm run format; npm run contracts:generate; npm run contracts:validate:build; npm test; node ato.mjs q validate --json; node ato.mjs gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0052","title":"Add a safe interactive examples panel for production docs","type":"doc","status":"queued","priority":"P2","tags":["docs"],"created_at":"2025-01-01T00:00:39.000Z","updated_at":"2026-02-03T02:32:23.613Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0046","BL-0051"],"evidence":[],"owner":"codex","notes":"A live playground improves understanding and adoption, but must remain deterministic and production-safe without framework lock-in.","details":{"rationale":"A live playground improves understanding and adoption, but must remain deterministic and production-safe without framework lock-in."},"spec":{"problem":"Examples need production-safe interactivity without executing arbitrary code; interactivity must be deterministic and component-driven.","outcome":"A safe interactive examples panel ships via ui-patterns (uik-example controls or equivalent) so examples can switch predefined variants without runtime code execution.","acceptance_criteria":["Interactive examples use predefined variants (tabs/select) and update previews deterministically without script execution from markdown.","Controls are implemented in ui-patterns (or ui-primitives if necessary), exported via contracts/CEM, and used by docs examples.","Docs browser tests verify control interaction changes preview state and copy output, with axe=0."],"inputs":["An interactive examples panel improves understanding and adoption, but must remain deterministic and avoid framework lock-in."],"deliverables":["Safe interactive examples panel capability (controls slot/parts on uik-example or equivalent).","Docs examples that use the interactive panel for variant switching."],"scope":["apps/docs/**","packages/ui-patterns/**","packages/ui-primitives/**"],"risks":["Security risk: arbitrary code execution must be avoided; restrict to structured inputs."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Confirm scope paths are apps/docs/** plus required ui-* packages; avoid lab/experimental language.","Implement a safe interactive examples panel in ui-patterns (tabs/select variants) and consume it in docs examples.","Add docs tests proving deterministic variant switching, copy actions, and axe.","Run verification: npm run format; npm run contracts:generate; npm run contracts:validate:build; npm test; node ato.mjs q validate --json; node ato.mjs gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0053","title":"Add shell extension points for docs global controls and active-state patterns","type":"doc","status":"done","priority":"P2","tags":["docs","shell","ui-shell"],"created_at":"2025-01-01T00:00:40.000Z","updated_at":"2026-01-31T01:27:17.498Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["file:packages/ui-shell/tests/uik-shell-layout-extension.browser.test.ts","file:packages/docs/tests/docs-preferences.browser.test.ts","file:packages/docs/tests/docs-navigation.browser.test.ts","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node tools/ato.mjs q validate --json","cmd:node tools/ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Docs needs global controls (search, theme/density toggles) and reliable active-state patterns without turning `ui-shell` into docs-only runtime.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.4\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.K\"}]\nCycleAborted: CY-0001 reason: Targeting BL-0045 per task; cycle selection chose BL-0053. evidence: file:.ato/cycles/CY-0001/cycle-abort.json\nCycleAborted: CY-0001 reason: Auto-selected BL-0053, which is unrelated to requested BL-0045/tooling tasks; aborting to avoid mismatched cycle. evidence: file:.ato/cycles/CY-0001/cycle-abort.json","details":{"rationale":"Docs needs global controls (search, theme/density toggles) and reliable active-state patterns without turning `ui-shell` into docs-only runtime."},"spec":{"problem":"Docs needs global controls (search, theme/density toggles) and reliable active-state patterns without turning `ui-shell` into docs-only runtime.","outcome":"Layout provides clear slots/parts for global controls without breaking semantics.","acceptance_criteria":["Layout provides clear slots/parts for global controls without breaking semantics.","Documented patterns exist for active state, breadcrumbs, and page-level landmark structure, without hardcoding docs routing."],"inputs":["Docs needs global controls (search, theme/density toggles) and reliable active-state patterns without turning `ui-shell` into docs-only runtime."],"deliverables":["Layout provides clear slots/parts for global controls without breaking semantics."],"scope":["packages/ui-shell/**","packages/docs/**"],"risks":["Coupling risk: keep `ui-shell` general-purpose and avoid bundling routers or site generators (`PLATFORM_CONTRACT.md` §11.4)."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-shell/**, packages/docs/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Layout provides clear slots/parts for global controls without breaking semantics.; Documented patterns exist for active state, breadcrumbs, and page-level landmark structure, without hardcoding docs routing..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-30T19:31:56.537Z","frozen":{"core_hash":"ac133f67fab47550c516a3f1a3edd30a3e100210775ea09f865733c5e9f27052"}}
{"id":"BL-0055","title":"Add docs theme + density controls (token-first, optionally persistent)","type":"doc","status":"done","priority":"P2","tags":["docs","tokens","ui-shell","ui-tokens"],"created_at":"2025-01-01T00:00:41.000Z","updated_at":"2026-01-30T16:20:26.343Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0049","BL-0053"],"evidence":["cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node tools/ato.mjs q validate --json","cmd:node tools/ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Docs competitive baseline treats theme/density as P0 capabilities; docs must expose controls that dogfood token-driven theming without introducing doc-local sty\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"3.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.5\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.3\"}]\nCompleted: theme/density controls wired through ui-tokens preferences controller with optional persistence and docs tests covering defaults, updates, and reload restore.","details":{"rationale":"Docs competitive baseline treats theme/density as P0 capabilities; docs must expose controls that dogfood token-driven theming without introducing doc-local styling drift."},"spec":{"problem":"Docs competitive baseline treats theme/density as P0 capabilities; docs must expose controls that dogfood token-driven theming without introducing doc-local styling drift.","outcome":"Docs provides theme (light/dark) and density (comfortable/compact) controls in a keyboard-accessible way.","acceptance_criteria":["Docs provides theme (light/dark) and density (comfortable/compact) controls in a keyboard-accessible way.","Surfaces remain readable and token-first across modes; no hard-coded values are introduced in docs CSS.","Persistence behavior is either implemented (and tested) or explicitly documented as app-owned with a clear contract."],"inputs":["Docs competitive baseline treats theme/density as P0 capabilities; docs must expose controls that dogfood token-driven theming without introducing doc-local styling drift."],"deliverables":["Docs provides theme (light/dark) and density (comfortable/compact) controls in a keyboard-accessible way."],"scope":["packages/docs/**","packages/ui-shell/**","packages/ui-tokens/**"],"risks":["Drift risk: if docs introduces special-casing instead of tokens, it will fork theming semantics."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/docs/**, packages/ui-shell/**, packages/ui-tokens/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Docs provides theme (light/dark) and density (comfortable/compact) controls in a keyboard-accessible way.; Surfaces remain readable and token-first across modes; no hard-coded values are introduced in docs CSS.; Persistence behavior is either implemented (and tested) or explicitly documented as app-owned with a clear contract..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-30T16:20:26.343Z","frozen":{"core_hash":"23a7127a7d3622c58fcd78f0705fadf45ce13266cf6de2a25c75c85f346c7e5c"}}
{"id":"BL-0054","title":"Expand docs a11y gates and interaction tests for nav tree, search, and drawers","type":"doc","status":"done","priority":"P2","tags":["accessibility","docs","testing"],"created_at":"2025-01-01T00:00:42.000Z","updated_at":"2026-01-28T15:36:45.323Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0021","BL-0022","BL-0044"],"evidence":[],"owner":"codex","notes":"Docs competitive baseline requires axe=0 on representative routes and interaction tests for critical paths; without explicit gates, regressions will slip in.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.E\"}]\n\nCompletion: docs a11y gate covers home/components/markdown routes and drawer focus management with supporting test updates and component a11y fixes. Evidence: output:packages/docs/tests/docs-a11y.browser.test.ts; output:packages/docs/tests/docs-drawer.browser.test.ts; output:packages/docs/tools/generate-docs-content.mjs; output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/docs-test-1767654224748.log; cmd: ato gate run --mode full --json. Contract review: .ato/contracts/PLATFORM_CONTRACT.md §8, §12, §11.2, §7.","details":{"rationale":"Docs competitive baseline requires axe=0 on representative routes and interaction tests for critical paths; without explicit gates, regressions will slip in."},"spec":{"problem":"Docs competitive baseline requires axe=0 on representative routes and interaction tests for critical paths; without explicit gates, regressions will slip in.","outcome":"Docs key pages (home, at least one “components” page, one markdown page) pass axe=0 in automated runs.","acceptance_criteria":["Docs key pages (home, at least one “components” page, one markdown page) pass axe=0 in automated runs.","Interaction tests cover: nav tree keyboard navigation, search open/close/navigation/activation, and drawer focus management (initial focus + return focus + Escape)."],"inputs":["output:packages/docs/tests/docs-a11y.browser.test.ts","output:packages/docs/tests/docs-drawer.browser.test.ts","output:packages/docs/tools/generate-docs-content.mjs","output:packages/ui-primitives/src/atomic/overlay/uik-dialog/element.ts","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/docs-test-1767654224748.log","cmd:ato gate run --mode full --json"],"deliverables":["Docs key pages (home, at least one “components” page, one markdown page) pass axe=0 in automated runs."],"scope":["packages/docs/tests/**",".storybook/**"],"risks":["Flake risk: browser/a11y tests can be flaky; keep cases small and deterministic."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-05T23:46:24.221Z","frozen":{"core_hash":"4b8a9f52ee5a3835c7451920cb156d3f65d4808747982e85555ac0133e913c83"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0023","title":"Add syntax highlighting for docs code blocks (deterministic, no drift)","type":"doc","status":"done","priority":"P2","tags":["docs"],"created_at":"2025-01-01T00:00:43.000Z","updated_at":"2026-02-01T06:32:54.533Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0020","BL-0040"],"evidence":["file:.ato/runs/artifacts/docs-test-loop-devtools-20260201-045143/run-1.log","file:.ato/runs/artifacts/docs-test-loop-devtools-20260201-045143/run-2.log","file:.ato/runs/artifacts/docs-test-loop-devtools-20260201-045143/run-3.log","file:.ato/runs/artifacts/docs-test-loop-devtools-20260201-045143/run-4.log","file:.ato/runs/artifacts/docs-test-loop-devtools-20260201-045143/run-5.log","file:.ato/runs/artifacts/verification-20260201-050700/npm-run-format.log","file:.ato/runs/artifacts/verification-20260201-050700/npm-run-contracts-generate.log","file:.ato/runs/artifacts/verification-20260201-050700/npm-run-contracts-validate-build.log","file:.ato/runs/artifacts/verification-20260201-050700/npm-test.log","file:.ato/runs/artifacts/verification-20260201-050700/ato-q-validate.json","file:.ato/runs/artifacts/verification-20260201-050700/ato-gate-full.json","file:.ato/runs/artifacts/docs-test-loop-20260201-072223/run-1.log","file:.ato/runs/artifacts/docs-test-loop-20260201-072223/run-2.log","file:.ato/runs/artifacts/docs-test-loop-20260201-072223/run-3.log","file:.ato/runs/artifacts/docs-test-loop-20260201-072223/run-4.log","file:.ato/runs/artifacts/docs-test-loop-20260201-072223/run-5.log"],"owner":"codex","notes":"Code samples are core to adoption; highlighting must not introduce nondeterminism or vendor/tooling coupling.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"5.4\"}]\nUpdate: build-time Shiki highlighting, token-based styles, simulated Lighthouse throttling for deterministic perf checks, and command-center prefetch on palette trigger.\nUpdate: restored Lighthouse devtools throttling, stabilized perf fixtures (select instead of radio group), deferred prefetch/mobile-nav work to interaction, reduced shell layout update churn, cached tree view items, and avoided redundant radio-group sync writes.\nUpdate: perf-shell fixture simplified (text/badge in place of description list/progress) and prefetch now starts on pointer interaction only to avoid command palette delays.","details":{"rationale":"Code samples are core to adoption; highlighting must not introduce nondeterminism or vendor/tooling coupling."},"spec":{"problem":"Code samples are core to adoption; highlighting must not introduce nondeterminism or vendor/tooling coupling.","outcome":"Code blocks render with syntax highlighting deterministically across builds.","acceptance_criteria":["Code blocks render with syntax highlighting deterministically across builds.","Reduced-motion/forced-colors remain legible; axe=0."],"inputs":["Code samples are core to adoption; highlighting must not introduce nondeterminism or vendor/tooling coupling."],"deliverables":["Code blocks render with syntax highlighting deterministically across builds."],"scope":["packages/docs/**"],"risks":["Tooling risk: avoid heavy runtime dependencies; prefer build-time processing where possible."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/docs/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Code blocks render with syntax highlighting deterministically across builds.; Reduced-motion/forced-colors remain legible; axe=0..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-01T04:14:20.446Z","frozen":{"core_hash":"5998b2011b7e512f6c1f2094f1c7c648809b17e35fe91b7e686c5c1e133438a8"}}
{"id":"BL-0024","title":"Add visual regression testing across themes/density/forced-colors","type":"tooling","status":"done","priority":"P2","tags":["horizon-later","quality","testing"],"created_at":"2025-01-01T00:00:44.000Z","updated_at":"2026-02-01T18:27:36.874Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0010"],"evidence":["file:tools/visual/run-storybook-visuals.mjs","file:tools/visual/__snapshots__","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"`PLATFORM_CONTRACT.md` recommends objective proof gates (§12) and `ui-shell` must support viewing across preference modes (§11.3); visual regression prevents si\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.3\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"8\"}]\nContract review: sections 11.3 and 12 applied; root gate includes visual regression step.","details":{"rationale":"`PLATFORM_CONTRACT.md` recommends objective proof gates (§12) and `ui-shell` must support viewing across preference modes (§11.3); visual regression prevents silent style drift.","links":["Demo: a deliberate visual regression is caught as a diff."]},"spec":{"problem":"`PLATFORM_CONTRACT.md` recommends objective proof gates (§12) and `ui-shell` must support viewing across preference modes (§11.3); visual regression prevents silent style drift.","outcome":"Screenshot baselines exist across themes/density/forced-colors; low flake budget enforced.","acceptance_criteria":["Screenshot baselines exist across themes/density/forced-colors; low flake budget enforced.","Visual diffs are reviewable and deterministic."],"inputs":["`PLATFORM_CONTRACT.md` recommends objective proof gates (§12) and `ui-shell` must support viewing across preference modes (§11.3); visual regression prevents silent style drift."],"deliverables":["Screenshot baselines exist across themes/density/forced-colors; low flake budget enforced."],"scope":["Storybook/docs test harness","CI configuration","token/theme fixtures"],"risks":["Flake risk: fonts/rendering variance; must design the pipeline to be stable."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: Storybook/docs test harness, CI configuration, token/theme fixtures.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Screenshot baselines exist across themes/density/forced-colors; low flake budget enforced.; Visual diffs are reviewable and deterministic..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-01T18:24:57.464Z","frozen":{"core_hash":"0d0492dcfec1bb7af769408b56bbcf01b96d341342a44690bfec50e8b2dc1e70"}}
{"id":"BL-0025","title":"Publish standards-first host integration guide (no adapters)","type":"doc","status":"done","priority":"P2","tags":["contract","docs","horizon-next","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:45.000Z","updated_at":"2026-02-02T02:16:10.007Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0004"],"evidence":["apps/docs/content/guides/installation.md","apps/docs/content/guides/usage.md","apps/docs/content/guides/tokens.md","apps/docs/content/guides/theme-density.md","apps/docs/content/manifest.json","tools/docs/validate-docs-imports.mjs","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Without clear host recipes, consumers build wrapper stacks; `PLATFORM_CONTRACT.md` forbids framework runtime requirements and encourages import-map/no-bundler p\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"§2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"§10\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"§13\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"§15\"}]","details":{"rationale":"Without clear host recipes, consumers build wrapper stacks; `PLATFORM_CONTRACT.md` forbids framework runtime requirements and encourages import-map/no-bundler paths (§2, §10, §13B, §15).","links":[],"effort":"M"},"spec":{"problem":"Without clear host recipes, consumers build wrapper stacks; `PLATFORM_CONTRACT.md` forbids framework runtime requirements and encourages import-map/no-bundler paths (§2, §10, §13B, §15).","outcome":"Integration docs cover: events/value patterns, form-associated controls, CEM consumption, import-map/no-bundler usage, and SSR-safe loading guidance.","acceptance_criteria":["Integration docs cover: events/value patterns, form-associated controls, CEM consumption, import-map/no-bundler usage, and SSR-safe loading guidance.","Examples are runnable and tested (at least smoke coverage)."],"inputs":["Without clear host recipes, consumers build wrapper stacks; `PLATFORM_CONTRACT.md` forbids framework runtime requirements and encourages import-map/no-bundler paths (§2, §10, §13B, §15)."],"deliverables":["Integration docs cover: events/value patterns, form-associated controls, CEM consumption, import-map/no-bundler usage, and SSR-safe loading guidance."],"scope":["apps/docs/**","packages/ui-primitives/**","packages/ui-shell/**"],"risks":["Drift risk: docs must derive from manifests/registries when possible."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: apps/docs/**, packages/ui-primitives/**, packages/ui-shell/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Integration docs cover: events/value patterns, form-associated controls, CEM consumption, import-map/no-bundler usage, and SSR-safe loading guidance.; Examples are runnable and tested (at least smoke coverage)..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-02T02:16:10.007Z","frozen":{"core_hash":"0644c6422186ffa0d41dacdf5e414089e1edbc0a790fee31e478f0f6748e5f41"}}
{"id":"BL-0026","title":"Define an “external apps” convention and validation policy","type":"tooling","status":"done","priority":"P2","tags":["horizon-next","tooling","governance","external-apps"],"created_at":"2025-01-01T00:00:46.000Z","updated_at":"2026-01-28T15:36:48.206Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"codex","notes":"External apps stay under external/ and are untracked; only touched when the user explicitly instructs or asks to create a queue item for dogfooding.","details":{"rationale":"Dogfooding apps outside workspaces should not destabilize monorepo gates; conventions prevent lint/build drift.","links":[]},"completed_at":"2025-12-26T05:42:27.013Z","frozen":{"core_hash":"16b4fa502f75e22e94dd10ecf825142e2b03d69de43a941fd21117ffb2b82b0f"},"spec":{"problem":"Dogfooding apps outside workspaces should not destabilize monorepo gates; conventions prevent lint/build drift.","outcome":"Policy states external apps (external/, suno-studio, llm-context-studio) remain untracked and out of repo scope by default.","acceptance_criteria":["Policy states external apps (external/, suno-studio, llm-context-studio) remain untracked and out of repo scope by default.","Agents open/modify external/ only when the user explicitly instructs or when executing a queue item created at the user's request.","Workspace lint/typecheck/test/build remain deterministic and ignore external apps by default."],"inputs":["Dogfooding apps outside workspaces should not destabilize monorepo gates; conventions prevent lint/build drift."],"deliverables":["Policy states external apps (external/, suno-studio, llm-context-studio) remain untracked and out of repo scope by default."],"scope":["repo root conventions","external/ policy and ignore rules","agent access rules for external apps","queue policy for dogfooding apps"],"risks":["Unclear policy leads to accidental coupling and noisy CI/lint."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0027","title":"Add a release workflow (tagging, changelog, version bumps)","type":"tooling","status":"queued","priority":"P2","tags":["horizon-next","tooling"],"created_at":"2025-01-01T00:00:47.000Z","updated_at":"2026-01-28T15:36:48.933Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":[],"owner":"codex","notes":"Manual releases increase drift risk and make it hard to maintain monotonic npm versions.","details":{"rationale":"Manual releases increase drift risk and make it hard to maintain monotonic npm versions.","links":[]},"spec":{"problem":"Manual releases increase drift risk and make it hard to maintain monotonic npm versions.","outcome":"A reproducible release workflow exists (tag + changelog + version bump automation).","acceptance_criteria":["A reproducible release workflow exists (tag + changelog + version bump automation).","It respects npm monotonic version requirements."],"inputs":["Manual releases increase drift risk and make it hard to maintain monotonic npm versions."],"deliverables":["A reproducible release workflow exists (tag + changelog + version bump automation)."],"scope":["repo scripts/CI","package versioning policies"],"risks":["Compatibility risk: release automation can break publish flows if not tested in dry-run mode."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"9"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Review scope paths: repo scripts/CI, package versioning policies.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: A reproducible release workflow exists (tag + changelog + version bump automation).; It respects npm monotonic version requirements..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0028","title":"Decide where `llm-context-studio` should live and enforce policy","type":"investigation","status":"done","priority":"P2","tags":["governance","horizon-next","uncertainty","external-apps"],"created_at":"2025-01-01T00:00:48.000Z","updated_at":"2026-01-28T15:36:49.654Z","target":{"selector":"exact","value":"0.1.2"},"deps":["BL-0026"],"evidence":[],"owner":"codex","notes":"Decision: llm-context-studio stays under external/ and untracked; only touched on explicit user instruction or user-requested queue item.","details":{"rationale":"Repo determinism and tooling scope depend on whether `llm-context-studio` is a workspace member, a submodule, or an external sandbox.","links":[]},"completed_at":"2025-12-26T05:42:32.959Z","frozen":{"core_hash":"ff6fd03c6fdddfde67856c699b96d0ff2039c5f417ccc660c08b99f27a152461"},"spec":{"problem":"Repo determinism and tooling scope depend on whether `llm-context-studio` is a workspace member, a submodule, or an external sandbox.","outcome":"llm-context-studio remains under external/ and untracked by default.","acceptance_criteria":["llm-context-studio remains under external/ and untracked by default.","Agents access external/ only on explicit user instruction or a queue item created at the user's request.","Monorepo gates remain deterministic and do not depend on external apps by default."],"inputs":["Repo determinism and tooling scope depend on whether `llm-context-studio` is a workspace member, a submodule, or an external sandbox."],"deliverables":["llm-context-studio remains under external/ and untracked by default."],"scope":["repo root structure","external/ policy and ignore rules","dogfooding queue requirements"],"risks":["Drift risk: unclear policy leads to accidental coupling and noisy CI/lint."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0029","title":"Resolve docs axe landmark “top-level” rule policy (justify or restructure)","type":"debt","status":"done","priority":"P2","tags":["accessibility","debt","docs","ui-shell"],"created_at":"2025-01-01T00:00:49.000Z","updated_at":"2026-02-01T19:49:00.524Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0031"],"evidence":["Source: internal consolidation notes + `.internal/views/RELEASES.md` (a11y gate decision).","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Axe landmark “top-level” rules can conflict with componentized layouts; policy must be explicit to keep a11y gates meaningful (`PLATFORM_CONTRACT.md` §8, §12).","details":{"rationale":"Axe landmark “top-level” rules can conflict with componentized layouts; policy must be explicit to keep a11y gates meaningful (`PLATFORM_CONTRACT.md` §8, §12).","links":["Source: internal consolidation notes + `.internal/views/RELEASES.md` (a11y gate decision)."]},"spec":{"problem":"Axe landmark “top-level” rules can conflict with componentized layouts; policy must be explicit to keep a11y gates meaningful (`PLATFORM_CONTRACT.md` §8, §12).","outcome":"Either:","acceptance_criteria":["Either:"],"inputs":["Axe landmark “top-level” rules can conflict with componentized layouts; policy must be explicit to keep a11y gates meaningful (`PLATFORM_CONTRACT.md` §8, §12)."],"deliverables":["Either:"],"scope":["packages/docs/**","packages/ui-shell/**"],"risks":["Compatibility risk: changes may impact screen reader navigation patterns."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Review scope paths: packages/docs/**, packages/ui-shell/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Either:.","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-02-01T19:49:00.524Z","frozen":{"core_hash":"60e611a003dea57b4bdd4663cdefc974509cee1f3a65d0a7ccf793cb72188a53"}}
{"id":"BL-0030","title":"Ship an optional “semantic app mapping” token output (utility semantics layer)","type":"debt","status":"queued","priority":"P2","tags":["debt","docs","tokens","ui-tokens"],"created_at":"2025-01-01T00:00:50.000Z","updated_at":"2026-02-02T01:24:21.168Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["Demo: remove per-app semantic mapping glue in a minimal sample.","Source: internal consolidation notes (“Missing first-class Tailwind theme mapping for app semantics”)."],"owner":"codex","notes":"External apps often use semantic utility naming (background/foreground/border/ring/etc); a mapping layer reduces glue while keeping tokens-first discipline.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.4\"}]","details":{"rationale":"External apps often use semantic utility naming (background/foreground/border/ring/etc); a mapping layer reduces glue while keeping tokens-first discipline.","links":["Source: internal consolidation notes (“Missing first-class Tailwind theme mapping for app semantics”).","Demo: remove per-app semantic mapping glue in a minimal sample."]},"spec":{"problem":"External apps often use semantic utility naming (background/foreground/border/ring/etc); a mapping layer reduces glue while keeping tokens-first discipline.","outcome":"A new optional tokens output maps common semantic names to UIK tokens deterministically.","acceptance_criteria":["A new optional tokens output maps common semantic names to UIK tokens deterministically.","Docs show a minimal consumer example that works via a single import."],"inputs":["External apps often use semantic utility naming (background/foreground/border/ring/etc); a mapping layer reduces glue while keeping tokens-first discipline."],"deliverables":["A new optional tokens output maps common semantic names to UIK tokens deterministically."],"scope":["packages/ui-tokens/**","apps/docs/**"],"risks":["Compatibility risk: naming must avoid synonym drift and remain optional (do not redefine core token ontology)."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-tokens/**, packages/docs/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: A new optional tokens output maps common semantic names to UIK tokens deterministically.; Docs show a minimal consumer example that works via a single import..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0031","title":"Document and (optionally) support shell landmark roles/labels as explicit contracts","type":"doc","status":"done","priority":"P2","tags":["accessibility","docs","horizon-now","shell","ui-shell"],"created_at":"2025-01-01T00:00:51.000Z","updated_at":"2026-01-28T15:36:51.804Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["Demo: screen reader region navigation in docs shell."],"owner":"codex","notes":"Landmarks must be predictable and operable; shell should not rely on host markup guesswork for region navigation (`PLATFORM_CONTRACT.md` §8, §11).","details":{"rationale":"Landmarks must be predictable and operable; shell should not rely on host markup guesswork for region navigation (`PLATFORM_CONTRACT.md` §8, §11).","links":["Demo: screen reader region navigation in docs shell."]},"completed_at":"2025-12-26T03:45:38.814Z","frozen":{"core_hash":"3e47ef111be4f8a0abd835146fde46c90d7dc7b0185cfa45d114544280d5edba"},"spec":{"problem":"Landmarks must be predictable and operable; shell should not rely on host markup guesswork for region navigation (`PLATFORM_CONTRACT.md` §8, §11).","outcome":"Landmark guidance exists (recommended roles/labels per region) and is demonstrated in docs.","acceptance_criteria":["Landmark guidance exists (recommended roles/labels per region) and is demonstrated in docs.","If optional attributes/helpers are added, they are documented and covered by at least one a11y-focused test."],"inputs":["Landmarks must be predictable and operable; shell should not rely on host markup guesswork for region navigation (`PLATFORM_CONTRACT.md` §8, §11)."],"deliverables":["Landmark guidance exists (recommended roles/labels per region) and is demonstrated in docs."],"scope":["packages/ui-shell/**","packages/docs/**"],"risks":["Compatibility risk: landmark semantics must not be hardcoded in ways that conflict with app layouts."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0032","title":"Add advanced tree view affordances (typeahead, multi-select patterns, async loading)","type":"feature","status":"done","priority":"P2","tags":["feature","horizon-later","ui-primitives","ui-shell"],"created_at":"2025-01-01T00:00:52.000Z","updated_at":"2026-01-28T15:36:52.523Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0007","BL-0011"],"evidence":[],"owner":"codex","notes":"Dogfooding apps and shell navigation benefit from richer tree affordances; shipping shared patterns prevents fragmentation.\n\nCompletion: tree view affordances (typeahead, app-owned selection guidance, async loading notes) are documented in component docs and contracts. Evidence: output:packages/ui-primitives/README.md; output:packages/ui-primitives/contracts/components.json; output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/primitives-test-1767654152378.log; cmd: ato gate run --mode full --json. Contract review: .ato/contracts/PLATFORM_CONTRACT.md §8, §11.2, §12.","details":{"rationale":"Dogfooding apps and shell navigation benefit from richer tree affordances; shipping shared patterns prevents fragmentation.","links":[]},"spec":{"problem":"Dogfooding apps and shell navigation benefit from richer tree affordances; shipping shared patterns prevents fragmentation.","outcome":"Affordances are documented as patterns (what’s supported vs app-owned) and covered by interaction tests.","acceptance_criteria":["Affordances are documented as patterns (what’s supported vs app-owned) and covered by interaction tests."],"inputs":["output:packages/ui-primitives/src/composed/collection/uik-tree-view/element.ts","output:packages/ui-primitives/README.md","output:packages/ui-primitives/contracts/components.json","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/primitives-test-1767654152378.log","cmd:ato gate run --mode full --json"],"deliverables":["Affordances are documented as patterns (what’s supported vs app-owned) and covered by interaction tests."],"scope":["packages/ui-primitives/**","packages/ui-shell/**"],"risks":["Scope risk: avoid building a monolithic tree “mega component”; keep orthogonal, testable pieces."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"11.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"7"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-05T23:24:28.417Z","frozen":{"core_hash":"c2153a38de16e162ca8e3490a670f4e15630366919e75a133639b7bde3d4ce6a"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0033","title":"Ship advanced widgets only when dogfooding justifies them (`uik-toast`, `uik-virtual-list`, `uik-data-table`)","type":"feature","status":"queued","priority":"P2","tags":["feature","ui-primitives"],"created_at":"2025-01-01T00:00:53.000Z","updated_at":"2026-01-28T15:36:53.238Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0008","BL-0011"],"evidence":[],"owner":"codex","notes":"Advanced widgets should be proven by real usage to avoid overbuilding; when shipped, they must meet APG/testability expectations.","details":{"rationale":"Advanced widgets should be proven by real usage to avoid overbuilding; when shipped, they must meet APG/testability expectations."},"spec":{"problem":"Advanced widgets should be proven by real usage to avoid overbuilding; when shipped, they must meet APG/testability expectations.","outcome":"Each shipped widget has APG/keyboard coverage where applicable, axe=0, and documented contracts.","acceptance_criteria":["Each shipped widget has APG/keyboard coverage where applicable, axe=0, and documented contracts.","Performance baselines exist for virtualized surfaces."],"inputs":["Advanced widgets should be proven by real usage to avoid overbuilding; when shipped, they must meet APG/testability expectations."],"deliverables":["Each shipped widget has APG/keyboard coverage where applicable, axe=0, and documented contracts."],"scope":["packages/ui-primitives/**"],"risks":["Rewrite-trap risk: shipping “half widgets” creates long-term maintenance debt."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"6.4"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-primitives/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Each shipped widget has APG/keyboard coverage where applicable, axe=0, and documented contracts.; Performance baselines exist for virtualized surfaces..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0034","title":"Publish platform integration guides for Electron/webviews/mobile web","type":"doc","status":"queued","priority":"P2","tags":["docs","horizon-later"],"created_at":"2025-01-01T00:00:54.000Z","updated_at":"2026-02-02T01:24:21.168Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0025"],"evidence":[],"owner":"codex","notes":"Adoption depends on clear guidance for real host environments; docs should remain standards-first and avoid framework coupling.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"9\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.2\"}]","details":{"rationale":"Adoption depends on clear guidance for real host environments; docs should remain standards-first and avoid framework coupling.","links":[]},"spec":{"problem":"Adoption depends on clear guidance for real host environments; docs should remain standards-first and avoid framework coupling.","outcome":"Guides exist for Electron/webview/mobile web, with verified recipes and caveats.","acceptance_criteria":["Guides exist for Electron/webview/mobile web, with verified recipes and caveats."],"inputs":["Adoption depends on clear guidance for real host environments; docs should remain standards-first and avoid framework coupling."],"deliverables":["Guides exist for Electron/webview/mobile web, with verified recipes and caveats."],"scope":["apps/docs/**"],"risks":["Drift risk: keep guidance tied to verified dogfooding surfaces."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/docs/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Guides exist for Electron/webview/mobile web, with verified recipes and caveats..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0035","title":"Define “edge adapters” policy and optional modules boundary (without ecosystem split)","type":"tooling","status":"queued","priority":"P2","tags":["governance","horizon-later"],"created_at":"2025-01-01T00:00:55.000Z","updated_at":"2026-01-28T15:36:54.677Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0025"],"evidence":[],"owner":"codex","notes":"The platform forbids framework runtime requirements, but may allow edge adapters at boundaries; policy must prevent a second ecosystem surface.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.4\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.B\"}]","details":{"rationale":"The platform forbids framework runtime requirements, but may allow edge adapters at boundaries; policy must prevent a second ecosystem surface.","links":[]},"spec":{"problem":"The platform forbids framework runtime requirements, but may allow edge adapters at boundaries; policy must prevent a second ecosystem surface.","outcome":"A written policy exists: what adapters are allowed (if any), where they live, and how they preserve contracts.","acceptance_criteria":["A written policy exists: what adapters are allowed (if any), where they live, and how they preserve contracts."],"inputs":["The platform forbids framework runtime requirements, but may allow edge adapters at boundaries; policy must prevent a second ecosystem surface."],"deliverables":["A written policy exists: what adapters are allowed (if any), where they live, and how they preserve contracts."],"scope":["repo governance docs","package boundaries","docs recipes"],"risks":["Rewrite-trap risk: adapters can become a parallel API surface and drift faster than core contracts."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: repo governance docs, package boundaries, docs recipes.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: A written policy exists: what adapters are allowed (if any), where they live, and how they preserve contracts..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0036","title":"Ship Tooling Pack v1 (generators + contract validators)","type":"contract","status":"queued","priority":"P2","tags":["tooling"],"created_at":"2025-01-01T00:00:56.000Z","updated_at":"2026-01-28T15:36:55.395Z","target":{"selector":"range","value":"0.1.x"},"deps":["BL-0005","BL-0006","BL-0010"],"evidence":["Demo: generate a new primitive skeleton and run tests unchanged."],"owner":"codex","notes":"“Pit of success” tooling reduces contract drift and speeds compliant component creation.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"10.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"12\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"15\"}]","details":{"rationale":"“Pit of success” tooling reduces contract drift and speeds compliant component creation.","links":["Demo: generate a new primitive skeleton and run tests unchanged."]},"spec":{"problem":"“Pit of success” tooling reduces contract drift and speeds compliant component creation.","outcome":"Generator scaffolds a compliant primitive + tokens + story + tests with zero manual edits.","acceptance_criteria":["Generator scaffolds a compliant primitive + tokens + story + tests with zero manual edits.","Validator fails CI if public contracts are undocumented or drift from registries/CEM."],"inputs":["“Pit of success” tooling reduces contract drift and speeds compliant component creation."],"deliverables":["Generator scaffolds a compliant primitive + tokens + story + tests with zero manual edits."],"scope":["tools/**"],"risks":["Coupling risk: generators must use public exports only and follow tokens-first conventions."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: tools/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Generator scaffolds a compliant primitive + tokens + story + tests with zero manual edits.; Validator fails CI if public contracts are undocumented or drift from registries/CEM..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0037","title":"Validate scaffolder token hook conventions against `ui-tokens` component tokens","type":"debt","status":"queued","priority":"P2","tags":["debt","tooling","ui-tokens"],"created_at":"2025-01-01T00:00:57.000Z","updated_at":"2026-01-28T15:36:56.118Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":[],"owner":"codex","notes":"If scaffolding emits token hooks that drift from `ui-tokens` conventions, it creates systemic naming debt and forces renames (a rewrite trap).\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"4.4\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.D\"}]","details":{"rationale":"If scaffolding emits token hooks that drift from `ui-tokens` conventions, it creates systemic naming debt and forces renames (a rewrite trap).","links":[]},"spec":{"problem":"If scaffolding emits token hooks that drift from `ui-tokens` conventions, it creates systemic naming debt and forces renames (a rewrite trap).","outcome":"Scaffolder-generated token paths match actual `tokens/components/**` conventions.","acceptance_criteria":["Scaffolder-generated token paths match actual `tokens/components/**` conventions.","Naming/casing rules are documented and enforced by tests or validation."],"inputs":["If scaffolding emits token hooks that drift from `ui-tokens` conventions, it creates systemic naming debt and forces renames (a rewrite trap)."],"deliverables":["Scaffolder-generated token paths match actual `tokens/components/**` conventions."],"scope":["tools/contracts/scaffold-primitive.mjs","packages/ui-tokens/tokens/components/**"],"risks":["Drift risk: mismatched conventions spread rapidly once generators are used."],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: tools/contracts/scaffold-primitive.mjs, packages/ui-tokens/tokens/components/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Scaffolder-generated token paths match actual `tokens/components/**` conventions.; Naming/casing rules are documented and enforced by tests or validation..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0001","title":"Upgrade `.internal/` workflow so `PLATFORM_CONTRACT.md` governs and drift is eliminated","type":"contract","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:00:58.000Z","updated_at":"2026-01-28T15:36:56.834Z","completed_at":"2025-01-01T00:00:58.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Changed `.internal/` cognitive system model to: `queue store + generated views` (long-term future), `queue store (version-targeted)` (medium-term future), `.internal/views/STATE_PRESENT.md` (present pointers), `.internal/views/RELEASES.md` (past resolved work), with `PLATFORM_CONTRACT.md` as the highest authority.","Consolidated actionable items into `queue store + generated views` and removed the parallel risk register to avoid duplicate planning surfaces.","Recorded the missing `v1.0.0` criteria as a blocked uncertainty (BL-0002) rather than inventing assumptions.","Updated `.gitignore` to reduce drift and noise by ignoring `external/`, local routers (`AGENTS.md`), generated docs content, and the local docs plan file (canonical planning is in `.internal/`)."],"tradeoffs":["Legacy planning files remain as historical sources, but are no longer authoritative for planning."],"invariants":["`.internal/views/STATE_PRESENT.md` MUST NOT contain plans; it only references backlog IDs.","`.internal/views/RELEASES.md` MUST contain only resolved backlog entries.","Any uncertainty MUST be captured as a backlog entry (tagged `Uncertainty`) and blocks dependent work."]},"frozen":{"core_hash":"5ed4bbbaed17bb9a3a6b14673bdb43a487b07fae41294a242f7687cef601d07e"},"spec":{"problem":"Upgrade `.internal/` workflow so `PLATFORM_CONTRACT.md` governs and drift is eliminated","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Upgrade `.internal/` workflow so `PLATFORM_CONTRACT.md` governs and drift is eliminated"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0002","title":"Define `v1.0.0` acceptance criteria as a verifiable checklist","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:00:59.000Z","updated_at":"2026-01-28T15:36:57.553Z","completed_at":"2025-01-01T00:00:59.000Z","target":{"selector":"milestone","value":"1.0.0"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Populated `milestone:1.0.0 criteria (queue items)` with an explicit, verifiable checklist (V1-A…V1-F) aligned to `PLATFORM_CONTRACT.md`.","Updated `.internal/views/STATE_PRESENT.md` to report 1.0.0 progress from those checklist items (no assumptions; defaults remain unchecked until verified)."],"tradeoffs":["Progress is conservative by default (unchecked) until evidence is explicitly attached and/or items are verified."],"invariants":["`.internal/views/STATE_PRESENT.md` derives “Progress to 1.0.0” only from `milestone:1.0.0 criteria (queue items)` checkboxes; do not guess completion."]},"frozen":{"core_hash":"bbd18c0571f0804560f19b8fe7d40f77133a1c15bd16b72f5865c66cde65d173"},"spec":{"problem":"Define `v1.0.0` acceptance criteria as a verifiable checklist","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Define `v1.0.0` acceptance criteria as a verifiable checklist"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0005","title":"Add a JSON Schema for contract registries and validate in CI + editors","type":"contract","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:00.000Z","updated_at":"2026-01-28T15:36:58.267Z","completed_at":"2025-01-01T00:01:00.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added JSON Schemas for primitives and shell contract registries and stored them under `tools/contracts/schemas/`.","Wired `$schema` references into `packages/ui-primitives/contracts/components.json` and `packages/ui-shell/contracts/entries.json`, and updated the generator to keep them stable.","Added schema validation to `tools/contracts/validate.mjs` (Ajv) so malformed registries fail contract validation early."],"tradeoffs":["Added Ajv as a dev dependency and enforced stricter registry shape checks."],"invariants":["Contract registries must include `$schema` and conform to the schema during `contracts:validate`.","Registry schema files are the source of truth for contract shape."]},"frozen":{"core_hash":"0cf88a545b7b28c39c80eade27add85a1bd70fc3ee7b4b3634f4dc544c7f43a1"},"spec":{"problem":"Add a JSON Schema for contract registries and validate in CI + editors","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Add a JSON Schema for contract registries and validate in CI + editors"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0006","title":"Decouple contract validation from `dist/` artifacts (or provide explicit `:build` path)","type":"contract","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:01.000Z","updated_at":"2026-01-28T15:36:58.995Z","completed_at":"2025-01-01T00:01:01.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added explicit build-artifact checks to contract generation and validation, with a single documented recovery path (`npm run contracts:validate:build`).","Contract scripts now fail fast with clear missing-artifact lists instead of cryptic file errors when `dist/` or token outputs are absent."],"tradeoffs":["Validation still depends on build outputs, but failures are now explicit and deterministic."],"invariants":["Contract tooling must emit a clear “build required” message with the canonical build path when artifacts are missing."]},"frozen":{"core_hash":"5e793a2411c05359ecab74f9a91dacb206204f6599d8dc7c4c8fe3d21b3bde2e"},"spec":{"problem":"Decouple contract validation from `dist/` artifacts (or provide explicit `:build` path)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Decouple contract validation from `dist/` artifacts (or provide explicit `:build` path)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0121","title":"Add a11y gating scripts and fix Storybook accessibility violations","type":"bug","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:02.000Z","updated_at":"2026-01-28T15:36:59.715Z","completed_at":"2025-01-01T00:01:02.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added Storybook a11y scripts for CI and developer workflows; `test-storybook` now runs the a11y-focused runner.","Enforced document-level a11y checks (lang/title/main landmark) alongside canvas checks and standardized preview wrapper semantics.","Applied `interactionStory` to shell and tokens stories; updated shell layout/status semantics to avoid nested landmarks; adjusted token samples to pass contrast."],"tradeoffs":["`uik-shell-layout` no longer wraps content in an implicit landmark role; `uik-shell-status-bar` now uses `role=\"status\"` instead of `<footer>`."],"invariants":["Storybook a11y checks are a first-class test target (`npm run a11y:storybook`) and run in `npm run test`."]},"frozen":{"core_hash":"d1bdd3a6ceb06923ecc27677b9ade8eb5f0549ab8e8690ebb24787b5584f3c13"},"spec":{"problem":"Add a11y gating scripts and fix Storybook accessibility violations","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Add a11y gating scripts and fix Storybook accessibility violations"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0122","title":"Fix Storybook a11y issues in core primitives and prevent regressions","type":"bug","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:03.000Z","updated_at":"2026-01-28T15:37:00.432Z","completed_at":"2025-01-01T00:01:03.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Enabled shadow DOM traversal for Storybook a11y checks to surface component-internal violations.","Forwarded `aria-describedby` for `uik-button`, added modal semantics for `uik-dialog`, and added default labels for nav/tree/progress to avoid unlabeled landmark/control failures.","Defaulted `uik-icon` to `aria-hidden` when unlabeled to prevent stray icon exposure."],"tradeoffs":["Some components now provide fallback accessible names; consumers should still supply explicit labels for context-specific meaning."],"invariants":["Storybook a11y checks must include shadow DOM (`shadowDom: true`).","Unlabeled icons are hidden by default; meaningful icons require explicit labels."]},"frozen":{"core_hash":"fbae25e96be99d23e1b6d1b320990b69143e0475c1324acaf868d3c24f97d1b2"},"spec":{"problem":"Fix Storybook a11y issues in core primitives and prevent regressions","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Fix Storybook a11y issues in core primitives and prevent regressions"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0010","title":"Remove Storybook non-tokenized backgrounds and Tailwind artifacts; standardize interaction story templates","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:04.000Z","updated_at":"2026-01-28T15:37:01.159Z","completed_at":"2025-01-01T00:01:04.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Removed the non-tokenized Storybook background option and ensured background choices rely on `--uik-*` variables only.","Dropped unused Tailwind artifacts from `.storybook/` and replaced Tailwind class usage in token stories with token-driven CSS.","Centralized interaction story behavior via a shared `interactionStory` template and applied it across primitive stories."],"tradeoffs":["Story files now depend on the shared Storybook helper, which is a small coupling to `.storybook/`."],"invariants":["Storybook backgrounds and story styling must use `--uik-*` tokens only.","Interaction stories should use the shared `interactionStory` template instead of local `play` definitions."]},"frozen":{"core_hash":"1956a77d9edc2a4b65fde77b6db19d742cadda68dcbd24645495586498042233"},"spec":{"problem":"Remove Storybook non-tokenized backgrounds and Tailwind artifacts; standardize interaction story templates","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Remove Storybook non-tokenized backgrounds and Tailwind artifacts; standardize interaction story templates"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0116","title":"Add deterministic context-pack + internal tooling for the cognitive system","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:05.000Z","updated_at":"2026-01-28T15:37:01.893Z","completed_at":"2025-01-01T00:01:05.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added deterministic internal tools (`repo-index`, `context-pack`, `internal-lint`) under `.internal/tools/` with cached outputs in `.internal/.cache/`.","Added machine-parseable backlog metadata (`BL_META`) for all backlog entries and a deterministic lint gate for internal docs.","Documented roles and commands in `.internal/INDEX.md` and updated workflow/rules to start tasks with `context-pack`.","Added a worked example context pack under `.internal/examples/`."],"tradeoffs":["Introduces additional internal tooling and cache artifacts that must remain deterministic and minimal."],"invariants":["Backlog entries include `BL_META` and must pass `internal-lint`.","Tasks start with a budgeted `context-pack`; extra file reads require evidence or an `Uncertainty` entry."]},"frozen":{"core_hash":"7198414108ad71866131f3ec906940276deeb7304294d8f2f4e391194b152fd6"},"spec":{"problem":"Add deterministic context-pack + internal tooling for the cognitive system","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Add deterministic context-pack + internal tooling for the cognitive system"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0117","title":"No partial clipping: omit whole sections or fail on budget","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:06.000Z","updated_at":"2026-01-28T15:37:02.609Z","completed_at":"2025-01-01T00:01:06.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Removed truncation from context pack sections; budget enforcement omits whole sections by priority only.","If the pack still exceeds the budget after dropping sections, the tool exits non-zero with required size.","Updated the example pack to reflect “no partial clipping” behavior."],"tradeoffs":["Small budgets may omit more context; consumers must increase budget when necessary."],"invariants":["Context packs never truncate included sections; budget enforcement omits whole sections or fails."]},"frozen":{"core_hash":"7455a4f4b7e0a9f55ebfcaf2f1dd297807e2f694d28c374806d80ed5f145a640"},"spec":{"problem":"No partial clipping: omit whole sections or fail on budget","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["No partial clipping: omit whole sections or fail on budget"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0119","title":"Budgeting contract for context packs (non-droppable units + atomic drops)","type":"contract","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:07.000Z","updated_at":"2026-01-28T15:37:03.339Z","completed_at":"2025-01-01T00:01:07.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added non-droppable essentials (router + contract intros + state) and MIN_BUDGET checks with explicit errors.","Split PLATFORM_CONTRACT excerpts into atomic intro/subsection units for deterministic dropping without clipping.","Added deterministic drop order and regression checks (budget failure + deterministic output) in internal lint.","Documented the budgeting contract in `.internal/INDEX.md` and updated the example pack."],"tradeoffs":["Strict budgets can omit more context or fail; users must supply a sufficient budget for essentials."],"invariants":["No partial clipping; budget enforcement omits whole units or fails with required_min + essentials.","Context packs are deterministic for identical inputs and repo state."]},"frozen":{"core_hash":"75e3e87b9bf5ea678d37706bcd4dba151f74c974e4cfbc28d7f3a17fa2cc5c5b"},"spec":{"problem":"Budgeting contract for context packs (non-droppable units + atomic drops)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Budgeting contract for context packs (non-droppable units + atomic drops)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0120","title":"Align cognitive-system improvements to project + community efficiency","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:08.000Z","updated_at":"2026-01-28T15:37:04.063Z","completed_at":"2025-01-01T00:01:08.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Codified that `.internal/` tool improvements target project/community efficiency (correctness, determinism, speed) over personal preference."],"tradeoffs":["Requires stating the community-facing benefit for cognitive-system changes."],"invariants":["Cognitive-system changes must justify improvements in project/community efficiency."]},"frozen":{"core_hash":"594f639222ce084f38a95f4cd967a6764623e8666883a72bfba673e3175529dd"},"spec":{"problem":"Align cognitive-system improvements to project + community efficiency","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Align cognitive-system improvements to project + community efficiency"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0118","title":"Treat `.internal/` tools as a perception layer and improve on limitations","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:09.000Z","updated_at":"2026-01-28T15:37:04.787Z","completed_at":"2025-01-01T00:01:09.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added explicit perception-layer maintenance steps to the workflow and codified the rule in knowledge + index.","Added a perception-layer example and enforced it via `internal-lint` checks."],"tradeoffs":["Internal lint is stricter and will fail if perception-layer guidance/examples drift."],"invariants":["When a tool limitation appears, it must be named, fixed in `.internal/`, and protected by a regression check."]},"frozen":{"core_hash":"82d89a4915713f5784cbdd03a48f4a38d9b5637e22d4bd88b6809c60d56ae0aa"},"spec":{"problem":"Treat `.internal/` tools as a perception layer and improve on limitations","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Treat `.internal/` tools as a perception layer and improve on limitations"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0064","title":"Rename `.internal/` files for role/scope clarity","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:10.000Z","updated_at":"2026-01-28T15:37:05.504Z","completed_at":"2025-01-01T00:01:10.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Renamed the cognitive system files to explicit role/scope names (`queue store + generated views`, `queue store (version-targeted)`, `.internal/views/STATE_PRESENT.md`, `.internal/views/RELEASES.md`, `blocked queue items + evidence`, `quality gates + platform contract`, `internal-confidence + queue + gates`, `WORKFLOW_LOOP.md`, `.internal/tools/internal-gc.mjs`, `workflow loop + confidence + gates`, `milestone:1.0.0 criteria (queue items)`).","Updated document titles and added Purpose headers to mirror filenames and reduce ambiguity.","Updated internal references and router docs to the new names.","Removed redundant planning artifacts after consolidating actionable items into the long/medium-term and resolved-work models."],"tradeoffs":["Rename churn: existing links and muscle memory must be updated."],"invariants":["`.internal/` filenames and titles must explicitly state role + scope.","Any rename must update all references and router checklists."]},"frozen":{"core_hash":"f4de8e882ecf7e1abd453bc818f120e5bc246411b605fbf6cc47afc3512be50a"},"spec":{"problem":"Rename `.internal/` files for role/scope clarity","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Rename `.internal/` files for role/scope clarity"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0062","title":"Add milestone meta-cognitive checkpoints and a 3-task self-observation experiment (governance)","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:11.000Z","updated_at":"2026-01-28T15:37:06.223Z","completed_at":"2025-01-01T00:01:11.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Defined backlog milestones (entries tagged `Milestone`) and required a meta-cognitive checkpoint at milestone start/completion (read `DECISIONS/STATE/next/BACKLOG` and output a “trajectory review”).","Started a 3-task self-observation experiment template in `internal-confidence + queue + gates` and enforced it via `AGENTS.md`.","Kept `AGENTS.md` routers as local-only workspace constraints (gitignored) and enforced triggers via behavioral requirements when the files exist locally."],"tradeoffs":["Adds process overhead; mitigated by keeping the checkpoint review short and evidence-based."],"invariants":["Milestone boundaries must trigger a trajectory review (per `.internal/WORKFLOW_LOOP.md`).","The next 3 implementation tasks must record pre-code info needs and post-task postmortems in `internal-confidence + queue + gates`."]},"frozen":{"core_hash":"0fc42dad1793b28ce14578e3d28195f7090b908cc30f35187d2ae5f5696f09f3"},"spec":{"problem":"Add milestone meta-cognitive checkpoints and a 3-task self-observation experiment (governance)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Add milestone meta-cognitive checkpoints and a 3-task self-observation experiment (governance)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0090","title":"Tokenized breakpoints + `createBreakpointObserver()` helper","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:12.000Z","updated_at":"2026-01-28T15:37:06.946Z","completed_at":"2025-01-01T00:01:12.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Implemented token-driven breakpoints and a `createBreakpointObserver()` helper that sets `data-uik-breakpoint`, enabling responsive docs UI without literal `@media` breakpoints."],"tradeoffs":["Adds a small runtime observer in exchange for token-driven responsive behavior."],"invariants":["Prefer token-driven responsive strategies over literal breakpoints where feasible."]},"frozen":{"core_hash":"471b32c3394cc0a3d35dba09c061dca15e11609e1b8e20c9afcf6658b1934870"},"spec":{"problem":"Tokenized breakpoints + `createBreakpointObserver()` helper","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Tokenized breakpoints + `createBreakpointObserver()` helper"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0091","title":"Overlay component tokens for dialog/popover/tooltip","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:13.000Z","updated_at":"2026-01-28T15:37:07.671Z","completed_at":"2025-01-01T00:01:13.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added component token hooks for dialog/popover/tooltip and consumed them in overlay primitives to avoid foundation-token leakage."],"tradeoffs":["Expands the component-token surface area and its maintenance cost."],"invariants":["Component-level styling hooks live in `ui-tokens` and are consumed as `--uik-component-*`."]},"frozen":{"core_hash":"23f08bb2a5d43c0ec46a1b143da1a1c13c1f1cb6ba2f5715984d574aaae93547"},"spec":{"problem":"Overlay component tokens for dialog/popover/tooltip","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Overlay component tokens for dialog/popover/tooltip"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0092","title":"Nav rail primitive owns roving focus; shell activity bar composes it","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:14.000Z","updated_at":"2026-01-28T15:37:08.384Z","completed_at":"2025-01-01T00:01:14.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added `uik-nav-rail` as the roving-focus primitive and rebased `uik-shell-activity-bar` on it, delegating keyboard behavior to primitives."],"tradeoffs":["Shell becomes thinner; behavior evolution happens in primitives first."],"invariants":["Roving focus logic belongs in primitives; shell composes and maps tokens/contracts."]},"frozen":{"core_hash":"cc3944778edd41a60a496abfcd081eab49393faaa392525d7bf87cf5ed81fda7"},"spec":{"problem":"Nav rail primitive owns roving focus; shell activity bar composes it","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Nav rail primitive owns roving focus; shell activity bar composes it"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0093","title":"No framework adapters as a primary DX strategy","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:15.000Z","updated_at":"2026-01-28T15:37:09.111Z","completed_at":"2025-01-01T00:01:15.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Rejected framework adapter ecosystems as the default integration path; integration guidance should be standards-first."],"tradeoffs":["Some consumers require recipes rather than turn-key wrappers."],"invariants":["DX improvements ship as standards-first primitives/patterns/tests/docs, not wrapper stacks."]},"frozen":{"core_hash":"49cf1a0e1d79a6384252054660b681cc6006207cf7b24e6cd5abdd9042375ef0"},"spec":{"problem":"No framework adapters as a primary DX strategy","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["No framework adapters as a primary DX strategy"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0094","title":"Package `AGENTS.md` are routers and “mind triggers”","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:16.000Z","updated_at":"2026-01-28T15:37:09.828Z","completed_at":"2025-01-01T00:01:16.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Adopted per-package `AGENTS.md` to reduce repeated context reads and consistently trigger the learning loop."],"tradeoffs":["Router docs must be kept aligned with the true workflow to avoid drift (tracked as BL-0003)."],"invariants":["Always use the nearest in-scope `AGENTS.md` as the minimal context router."]},"frozen":{"core_hash":"c8fef5304d35a301cd16db6ba9266cb679a4d84fae45d04a5a4f304d33d0e326"},"spec":{"problem":"Package `AGENTS.md` are routers and “mind triggers”","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Package `AGENTS.md` are routers and “mind triggers”"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0095","title":"Suno Studio lives under `apps/` and is not an npm workspace member","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:17.000Z","updated_at":"2026-01-28T15:37:10.553Z","completed_at":"2025-01-01T00:01:17.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Implemented `apps/suno-studio` outside npm workspaces, with dependencies pinned to published UIK versions."],"tradeoffs":["Separate build scripts/tooling; less shared infra."],"invariants":["Non-workspace apps must not destabilize workspace lint/test/build gates."]},"frozen":{"core_hash":"2ca4fa810b066755b3d4b2441a54751e1717514cadec0e20ad7c3138d76c2605"},"spec":{"problem":"Suno Studio lives under `apps/` and is not an npm workspace member","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Suno Studio lives under `apps/` and is not an npm workspace member"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0096","title":"Contract outputs carry `runId` for audit linking","type":"contract","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:18.000Z","updated_at":"2026-01-28T15:37:11.274Z","completed_at":"2025-01-01T00:01:18.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Included `runId` in contract input/output payloads so pasted JSON can be linked deterministically to stored runs and audits."],"tradeoffs":["Requires propagating `runId` through pipelines and storage."],"invariants":["Contract workflows that support copy/paste must remain auditable without heuristics."]},"frozen":{"core_hash":"c7be626f555d349bb726c5856534617055b146984f405c48744937132234be38"},"spec":{"problem":"Contract outputs carry `runId` for audit linking","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Contract outputs carry `runId` for audit linking"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0097","title":"Release numbering follows npm history (monotonic versions)","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:19.000Z","updated_at":"2026-01-28T15:37:11.993Z","completed_at":"2025-01-01T00:01:19.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Chose monotonic npm versioning (e.g. publish next compatible version as `0.1.1`) and updated consumers to depend on `^0.1.1`."],"tradeoffs":["Version numbers may not match informal internal labels."],"invariants":["Published versions must be monotonic with npm history."]},"frozen":{"core_hash":"f3b1f49b86c4429815f381ee4510bbc21c175577758ced5421526cfe31d27cb1"},"spec":{"problem":"Release numbering follows npm history (monotonic versions)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Release numbering follows npm history (monotonic versions)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0098","title":"Exclude non-workspace apps from monorepo lint","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:20.000Z","updated_at":"2026-01-28T15:37:12.713Z","completed_at":"2025-01-01T00:01:20.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Ignored `llm-context-studio/**` in the monorepo ESLint config so workspace lint reflects only workspace packages."],"tradeoffs":["Non-workspace apps must enforce their own linting separately."],"invariants":["Workspace gates must remain deterministic and scoped."]},"frozen":{"core_hash":"4f1e22568cc43e2d803ba0685eee138b7ef6f636391b5d63f95c65fdcca7c842"},"spec":{"problem":"Exclude non-workspace apps from monorepo lint","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Exclude non-workspace apps from monorepo lint"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0099","title":"Align tree data vocabulary on “item”","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:21.000Z","updated_at":"2026-01-28T15:37:13.430Z","completed_at":"2025-01-01T00:01:21.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Standardized tree data vocabulary to “item” to prevent synonym drift across tree/nav contracts."],"tradeoffs":["Consumer type/name updates may be required."],"invariants":["One concept → one term; “item” is canonical for tree data."]},"frozen":{"core_hash":"86f2b2137f45ee991acf725a4d3ace1dd813f3981affb077226e3d587384f365"},"spec":{"problem":"Align tree data vocabulary on “item”","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Align tree data vocabulary on “item”"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0100","title":"Move navigation + tree view into `ui-primitives`","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:22.000Z","updated_at":"2026-01-28T15:37:14.152Z","completed_at":"2025-01-01T00:01:22.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Decided to build shared tree/navigation foundations in `ui-primitives` so APG semantics and reuse are centralized.","Note: historical notes are treated as non-actionable history if they cannot be validated; this decision is based on current repo constraints and goals."],"tradeoffs":["Expands primitives surface area; requires strict contract discipline."],"invariants":["Shared navigation semantics should live in primitives, not app-specific shells."]},"frozen":{"core_hash":"8429e2f603fa6992a47f24ec1c7bb1cf557cfc728ffea6266ca1c1104ab20b51"},"spec":{"problem":"Move navigation + tree view into `ui-primitives`","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Move navigation + tree view into `ui-primitives`"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0101","title":"Internal cognitive system lifecycle stages + GC checklist","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:23.000Z","updated_at":"2026-01-28T15:37:14.875Z","completed_at":"2025-01-01T00:01:23.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Adopted lifecycle stages (EPHEMERAL/CANDIDATE/VALIDATED) and a GC checklist to keep the cognitive system compact and restartable."],"tradeoffs":["Requires deliberate pruning instead of append-only logs."],"invariants":["Cognitive system updates must replace contradictions and prune duplicates; no append-only drift."]},"frozen":{"core_hash":"2390412471ee5ad0a648c089b35f9b634aa30ce17ffa534c09fc48d71e12ded8"},"spec":{"problem":"Internal cognitive system lifecycle stages + GC checklist","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Internal cognitive system lifecycle stages + GC checklist"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0102","title":"Reward system + Adjacent-Wins gate","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:24.000Z","updated_at":"2026-01-28T15:37:15.591Z","completed_at":"2025-01-01T00:01:24.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Adopted explicit optimization targets and required an Adjacent-Wins scan at task start."],"tradeoffs":["Limits opportunistic refactors; requires discipline in scoping."],"invariants":["Adjacent improvements must tie directly to acceptance criteria or be logged as backlog work."]},"frozen":{"core_hash":"8330230264fb4eeecd184de2b2cc48f00788483314fa370d37187001a3c205b7"},"spec":{"problem":"Reward system + Adjacent-Wins gate","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Reward system + Adjacent-Wins gate"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0103","title":"Ship tree view as a `ui-shell` structure (superseded)","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:25.000Z","updated_at":"2026-01-28T15:37:16.308Z","completed_at":"2025-01-01T00:01:25.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Initially shipped tree view in shell; later superseded by the primitives-first tree view direction."],"tradeoffs":["Some shell contracts may be legacy; requires explicit deprecation paths."],"invariants":["Prefer primitives for reusable interaction widgets; shell structures should compose them."]},"frozen":{"core_hash":"033a5754c2a4f292ed117efc457a2e5ac47fe88f3d37254139d52199986120aa"},"spec":{"problem":"Ship tree view as a `ui-shell` structure (superseded)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Ship tree view as a `ui-shell` structure (superseded)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0104","title":"Docs site as Vite + UIK components (no framework runtime)","type":"doc","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:26.000Z","updated_at":"2026-01-28T15:37:17.033Z","completed_at":"2025-01-01T00:01:26.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added `packages/docs` as a Vite app that consumes `ui-tokens/base.css` and composes `ui-primitives` + `ui-shell`."],"tradeoffs":["Must implement routing/nav UX directly without a framework router."],"invariants":["Docs must not introduce framework coupling into runtime packages."]},"frozen":{"core_hash":"31a36a3b161d4875a6c6528ae90acd7c4b40f69004922010c1fe75d2d263ec06"},"spec":{"problem":"Docs site as Vite + UIK components (no framework runtime)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Docs site as Vite + UIK components (no framework runtime)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0105","title":"Docs content generated from package sources","type":"doc","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:27.000Z","updated_at":"2026-01-28T15:37:17.765Z","completed_at":"2025-01-01T00:01:27.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Generated docs content from markdown sources into deterministic JSON consumed by the docs frontend; wired generation into docs build/dev/test."],"tradeoffs":["Adds a generation pipeline that must remain deterministic."],"invariants":["Docs content source-of-truth lives in package/doc markdown, not hand-authored frontend data."]},"frozen":{"core_hash":"f32efec64dc1460145cc7976a74d9b51587285126d076627c07de0f5291e9e19"},"spec":{"problem":"Docs content generated from package sources","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Docs content generated from package sources"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0106","title":"Contract registry + validation pipeline","type":"contract","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:28.000Z","updated_at":"2026-01-28T15:37:18.479Z","completed_at":"2025-01-01T00:01:28.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added package-level contract registries for primitives/shell, plus a validator and primitive scaffolder."],"tradeoffs":["Requires continued investment in validation correctness (see BL-0005 and BL-0006)."],"invariants":["Public contracts must be validated against registries/CEM/tokens/docs before release."]},"frozen":{"core_hash":"60b5685ee200c30f812ba8042da86787f5568741e6e2a0652033c4445bc4e600"},"spec":{"problem":"Contract registry + validation pipeline","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Contract registry + validation pipeline"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0107","title":"Contracts generated from JSDoc annotations","type":"contract","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:29.000Z","updated_at":"2026-01-28T15:37:19.201Z","completed_at":"2025-01-01T00:01:29.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Chose JSDoc-in-source authoring plus deterministic generation for contract registries to reduce manual drift."],"tradeoffs":["Requires annotation discipline and tooling upkeep."],"invariants":["Contract metadata should live close to implementation and be generated deterministically."]},"frozen":{"core_hash":"9db3dc2ced931489aa3b90b54aae824640c60ed14407daf10383229f85b646f7"},"spec":{"problem":"Contracts generated from JSDoc annotations","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Contracts generated from JSDoc annotations"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0108","title":"External apps sandbox (`external/`) to avoid workspace drift","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:30.000Z","updated_at":"2026-01-28T15:37:19.912Z","completed_at":"2025-01-01T00:01:30.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added a gitignored `external/` sandbox (except README) for non-workspace apps."],"tradeoffs":["External apps are less integrated with workspace tooling."],"invariants":["Non-workspace apps must not affect workspace scripts or CI gates."]},"frozen":{"core_hash":"34340b11b2a17e0cabee741fa7a7e8a05712c9828d16918fecd515cdba5f90ca"},"spec":{"problem":"External apps sandbox (`external/`) to avoid workspace drift","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["External apps sandbox (`external/`) to avoid workspace drift"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0109","title":"Shell router for docs navigation","type":"doc","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:31.000Z","updated_at":"2026-01-28T15:37:20.637Z","completed_at":"2025-01-01T00:01:31.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Used `createUikShellRouter` with activity bar + tree view navigation and a mobile page selector to keep docs framework-light while dogfooding shell patterns."],"tradeoffs":["Requires explicit state/history handling without framework routing."],"invariants":["Routing must remain standards-first and framework-light."]},"frozen":{"core_hash":"0a1fcf1469f44d6b799fd81bec9fa18e2189b456f3b320d7cfb6ee75c4c41b9e"},"spec":{"problem":"Shell router for docs navigation","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Shell router for docs navigation"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0110","title":"Internal working cognitive system is local-only","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:32.000Z","updated_at":"2026-01-28T15:37:21.405Z","completed_at":"2025-01-01T00:01:32.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Kept the cognitive system in `.internal/` and kept public docs limited to package `README.md` files."],"tradeoffs":["Internal docs must be maintained separately from published docs/contracts."],"invariants":["Public docs surface is package READMEs; the cognitive system is not a published contract."]},"frozen":{"core_hash":"2dd707629ba9fd1a6ae78449613a181c6e16dab3bb506c0a6ca9c2dedb2e58d2"},"spec":{"problem":"Internal working cognitive system is local-only","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Internal working cognitive system is local-only"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0111","title":"Docs URLs are a contract (History API routing)","type":"doc","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:33.000Z","updated_at":"2026-01-28T15:37:22.134Z","completed_at":"2025-01-01T00:01:33.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Driven docs routing from `window.location.pathname` and updated it via `history.pushState/replaceState`, keeping heading anchors as hash links."],"tradeoffs":["Requires careful popstate handling and deep-link stability."],"invariants":["Docs URLs must be deep-linkable and reloadable; headings must be linkable."]},"frozen":{"core_hash":"75465476ef54a03532fde634f5a9d8e2c4d4e6b29b14f398d814b3c7ef4edb06"},"spec":{"problem":"Docs URLs are a contract (History API routing)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Docs URLs are a contract (History API routing)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0112","title":"Docs generator emits nested TOC + deterministic heading anchors","type":"doc","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:34.000Z","updated_at":"2026-01-28T15:37:22.851Z","completed_at":"2025-01-01T00:01:34.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Generated deterministic slugs for sections + headings and emitted a nested `toc` array per page."],"tradeoffs":["Any slug algorithm change becomes a compatibility concern for deep links."],"invariants":["Heading anchors must be deterministic and stable."]},"frozen":{"core_hash":"d55b3b4062f06b78d8f6ed9f2d6a44b2ed3339e05539f9c5350413dd280d9b73"},"spec":{"problem":"Docs generator emits nested TOC + deterministic heading anchors","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Docs generator emits nested TOC + deterministic heading anchors"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0113","title":"Docs axe gate disables landmark “top-level” rules (temporary policy)","type":"doc","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:35.000Z","updated_at":"2026-01-28T15:37:23.564Z","completed_at":"2025-01-01T00:01:35.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Disabled `landmark-*-is-top-level` axe rules for docs runs while keeping other rules enabled."],"tradeoffs":["Must maintain compensating a11y checks or revisit policy later (tracked as BL-0029)."],"invariants":["Disabled a11y rules require explicit rationale and a follow-up plan."]},"frozen":{"core_hash":"1f696e0226463176cbbb7777f2e30cc7908defb7eeda0542cc92f599c8420f9b"},"spec":{"problem":"Docs axe gate disables landmark “top-level” rules (temporary policy)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Docs axe gate disables landmark “top-level” rules (temporary policy)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0114","title":"Implement docs “URLs are a contract” slice (routing, anchors/TOC, code copy, axe smoke test)","type":"doc","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:36.000Z","updated_at":"2026-01-28T15:37:24.276Z","completed_at":"2025-01-01T00:01:36.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Implemented the first docs competitive baseline slice: History API routing (deep-linkable paths), deterministic heading anchors + nested TOC, code block copy UX, and an axe=0 smoke test.","Adjusted minimal shell layout/landmark surfaces used by docs to avoid drift and keep contracts explicit.","Changed (from a prior `.internal/views/STATE_PRESENT.md` record): `packages/docs/package.json`, `packages/docs/src/app.ts`, `packages/docs/src/content.ts`, `packages/docs/src/styles.css`, `packages/docs/tools/generate-docs-content.mjs`, `packages/docs/tests/docs-a11y.browser.test.ts`, `packages/docs/tests/docs-navigation.browser.test.ts`, `packages/ui-shell/src/structures/uik-shell-layout.ts`, `packages/ui-shell/src/structures/uik-shell-sidebar.ts`, `packages/ui-shell/src/structures/uik-shell-secondary-sidebar.ts`, `.internal/views/RELEASES.md`, `.internal/views/STATE_PRESENT.md`."],"tradeoffs":["Adds more “product” expectations to docs, increasing the maintenance surface for browser tests and a11y gates."],"invariants":["Docs navigation must be deep-linkable via pathname; headings must be linkable and appear in TOC.","Docs changes that affect navigation/a11y must ship with browser tests and remain axe=0."]},"frozen":{"core_hash":"c84f78f43842900596397ff246c9b69beb34c7d0bec956de0c0decf509d21112"},"spec":{"problem":"Implement docs “URLs are a contract” slice (routing, anchors/TOC, code copy, axe smoke test)","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Implement docs “URLs are a contract” slice (routing, anchors/TOC, code copy, axe smoke test)"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0115","title":"Add Escape dismissal + focus return to `<uik-shell-secondary-sidebar>`","type":"tooling","status":"done","priority":"P2","tags":["decision"],"created_at":"2025-01-01T00:01:37.000Z","updated_at":"2026-01-28T15:37:24.996Z","completed_at":"2025-01-01T00:01:37.000Z","target":{"selector":"unbounded"},"deps":[],"evidence":[],"owner":"codex","notes":"Resolved (see decision record).","details":{"decision":["Added Escape handling and a focus return mechanism to `<uik-shell-secondary-sidebar>` via `focusReturnTarget` (selector or element) with a fallback to the previously focused element.","Documented and tested the contract, ensuring keyboard users can dismiss and regain context.","Changed (from a prior `.internal/views/STATE_PRESENT.md` record): `packages/ui-shell/src/structures/uik-shell-secondary-sidebar.ts`, `packages/ui-shell/tests/uik-shell-secondary-sidebar.browser.test.ts`, `packages/ui-shell/README.md`, `packages/docs/src/content.ts`, `packages/docs/src/app.ts`, `.internal/views/STATE_PRESENT.md`."],"tradeoffs":["Adds more overlay-like semantics to a shell structure, requiring careful alignment with overlay contracts going forward."],"invariants":["Closable regions/overlays must be dismissible via keyboard (Escape where appropriate) and should restore focus to the opener when closed."]},"frozen":{"core_hash":"65295033209aae306f626900a7fbf0a4f19e0aa7c04c455f4e941e94fbbf27ca"},"spec":{"problem":"Add Escape dismissal + focus return to `<uik-shell-secondary-sidebar>`","outcome":"Resolved (see decision record).","acceptance_criteria":["Resolved (see decision record)."],"inputs":["Add Escape dismissal + focus return to `<uik-shell-secondary-sidebar>`"],"deliverables":["Resolved (see decision record)."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0123","title":"Cognitive system growth control + enforced quality gate","type":"tooling","status":"done","priority":"P1","tags":["governance","quality","tooling"],"created_at":"2025-12-26T01:34:46.372Z","updated_at":"2026-01-28T15:37:25.718Z","target":{"selector":"unbounded"},"deps":[],"evidence":[".internal/tools/internal-gc.mjs;.internal/tools/quality-gate.mjs;.internal/QUALITY_GATES.md"],"owner":"codex","notes":"Reduce .internal token growth with lossless archiving + enforce repo quality gates.","completed_at":"2025-12-26T02:11:33.843Z","frozen":{"core_hash":"cd63f033021b2a2174475524e1556a822ab2ea03cb234066489940fad5e4c27c"},"spec":{"problem":"Cognitive system growth control + enforced quality gate","outcome":"Reduce .internal token growth with lossless archiving + enforce repo quality gates.","acceptance_criteria":["Reduce .internal token growth with lossless archiving + enforce repo quality gates."],"inputs":["Cognitive system growth control + enforced quality gate"],"deliverables":["Reduce .internal token growth with lossless archiving + enforce repo quality gates."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0124","title":"Internal noise purge + confidence mechanism + 0.1.2 release policy","type":"tooling","status":"done","priority":"P1","tags":["governance","release","tooling"],"created_at":"2025-12-26T02:33:06.592Z","updated_at":"2026-01-28T15:37:26.444Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[".internal/INDEX.md;.internal/WORKFLOW_LOOP.md;.internal/tools/internal-gc.mjs;.internal/tools/internal-lint.mjs"],"owner":"codex","notes":"Reduce .internal noise while preserving structure; add deterministic confidence checks; enforce version-linked open queue items; prep 0.1.2 process.","completed_at":"2025-12-26T02:56:13.706Z","frozen":{"core_hash":"e9369edbd9419172b190999c01cf29a2c5e7af07441ba4fb06aef5686e2fe0f4"},"spec":{"problem":"Internal noise purge + confidence mechanism + 0.1.2 release policy","outcome":"Reduce .internal noise while preserving structure; add deterministic confidence checks; enforce version-linked open queue items; prep 0.1.2 process.","acceptance_criteria":["Reduce .internal noise while preserving structure; add deterministic confidence checks; enforce version-linked open queue items; prep 0.1.2 process."],"inputs":["Internal noise purge + confidence mechanism + 0.1.2 release policy"],"deliverables":["Reduce .internal noise while preserving structure; add deterministic confidence checks; enforce version-linked open queue items; prep 0.1.2 process."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0126","title":"0.1.2 major readiness gate (foundation + core widgets)","type":"contract","status":"done","priority":"P1","tags":["governance","release"],"created_at":"2025-12-26T03:29:15.679Z","updated_at":"2026-01-28T15:37:27.161Z","target":{"selector":"exact","value":"0.1.2"},"deps":["BL-0004","BL-0007","BL-0008","BL-0011","BL-0012","BL-0013","BL-0014","BL-0031","BL-0038","BL-0063","BL-0009","BL-0017","BL-0026","BL-0028","BL-0040","BL-0041","BL-0151","BL-0152","BL-0153"],"evidence":[],"owner":"codex","notes":"Treat 0.1.2 as a major bump; release stays blocked until these foundation + core widget items are done. Scope expanded to include BL-0009, BL-0017, BL-0026, BL-0028, BL-0039, BL-0040, BL-0041.","details":{"contract_reflection":{"delta_scan":{"inputs":["git status --short","rg -n \"createOutsideDismissController\" packages/ui-primitives/src"],"findings":["uik-combobox installs outside-dismiss listeners without disconnecting on detach (document listener leak)."],"evidence":["packages/ui-primitives/src/composed/collection/uik-listbox/uik-combobox.ts","packages/ui-primitives/src/internal/overlay/dismiss.ts"]},"system_scan":{"inputs":["rg -n \"attachInternals|formAssociated\" packages/ui-primitives/src","PLATFORM_CONTRACT §7.2"],"findings":["Form-associated primitives lack a documented/implemented ElementInternals fallback mode."],"evidence":["packages/ui-primitives/src/atomic/control/uik-input/element.ts","packages/ui-primitives/src/atomic/control/uik-select/element.ts","packages/ui-primitives/src/composed/collection/uik-listbox/uik-combobox.ts","packages/ui-primitives/README.md"]},"queue_items":["BL-0161","BL-0162"]}},"completed_at":"2025-12-27T02:59:38.978Z","frozen":{"core_hash":"87766536c93fd815b78a31dc4154d777a591465e17c10bc7120a5b497119ee39"},"spec":{"problem":"0.1.2 major readiness gate (foundation + core widgets)","outcome":"Treat 0.1.2 as a major bump; release stays blocked until these foundation + core widget items are done. Scope expanded to include BL-0009, BL-0017, BL-0026, BL-0028, BL-0039, BL-0040, BL-0041.","acceptance_criteria":["Treat 0.1.2 as a major bump; release stays blocked until these foundation + core widget items are done. Scope expanded to include BL-0009, BL-0017, BL-0026, BL-0028, BL-0039, BL-0040, BL-0041."],"inputs":["0.1.2 major readiness gate (foundation + core widgets)"],"deliverables":["Treat 0.1.2 as a major bump; release stays blocked until these foundation + core widget items are done. Scope expanded to include BL-0009, BL-0017, BL-0026, BL-0028, BL-0039, BL-0040, BL-0041."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0127","title":"Quality gate execution must surface failures consistently","type":"tooling","status":"done","priority":"P1","tags":["governance","quality","tooling"],"created_at":"2025-12-26T03:59:44.356Z","updated_at":"2026-01-28T15:37:27.885Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"codex","notes":"Acceptance: quality gate run (node .internal/tools/quality-gate.mjs --target 0.1.2) reports failures and exits non-zero; documented usage path is clear. Risks: regressions if gate silently ignores failures or missing scripts.","completed_at":"2025-12-26T04:20:30.739Z","frozen":{"core_hash":"2dbc286fa8904cb10d964de237af8b0b4fb9a5a92e3f57f1ca70d9e37d3c78d8"},"spec":{"problem":"Quality gate execution must surface failures consistently","outcome":"Acceptance: quality gate run (node .internal/tools/quality-gate.mjs --target 0.1.2) reports failures and exits non-zero; documented usage path is clear. Risks: regressions if gate silently ignores failures or missing scripts.","acceptance_criteria":["Acceptance: quality gate run (node .internal/tools/quality-gate.mjs --target 0.1.2) reports failures and exits non-zero; documented usage path is clear. Risks: regressions if gate silently ignores failures or missing scripts."],"inputs":["Quality gate execution must surface failures consistently"],"deliverables":["Acceptance: quality gate run (node .internal/tools/quality-gate.mjs --target 0.1.2) reports failures and exits non-zero; documented usage path is clear. Risks: regressions if gate silently ignores failures or missing scripts."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0128","title":"Fix docs build failures","type":"bug","status":"done","priority":"P1","tags":["build","docs","quality"],"created_at":"2025-12-26T03:59:48.769Z","updated_at":"2026-01-28T15:37:28.607Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"codex","notes":"Acceptance: npm -w packages/docs run build exits 0 on clean workspace. Risks: generator/build order or missing assets cause regressions.","completed_at":"2025-12-26T04:20:30.792Z","frozen":{"core_hash":"89b238719818ceb84e684b0f7e94310bf455bf94b4a211b27a36611fbcd9ae28"},"spec":{"problem":"Fix docs build failures","outcome":"Acceptance: npm -w packages/docs run build exits 0 on clean workspace. Risks: generator/build order or missing assets cause regressions.","acceptance_criteria":["Acceptance: npm -w packages/docs run build exits 0 on clean workspace. Risks: generator/build order or missing assets cause regressions."],"inputs":["Fix docs build failures"],"deliverables":["Acceptance: npm -w packages/docs run build exits 0 on clean workspace. Risks: generator/build order or missing assets cause regressions."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0129","title":"Resolve ESLint failures in repo lint gate","type":"quality-debt","status":"done","priority":"P1","tags":["lint","quality","tooling"],"created_at":"2025-12-26T03:59:52.435Z","updated_at":"2026-01-28T15:37:29.326Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"codex","notes":"Acceptance: npm run lint exits 0 with no warnings. Risks: fixing lint may require refactors or config changes; avoid masking errors with ignores.","completed_at":"2025-12-26T04:20:30.937Z","frozen":{"core_hash":"ed062bbb0d543f9b61091f345c6dfd96001aead6b22ae63b6b71dea1f5688db8"},"spec":{"problem":"Resolve ESLint failures in repo lint gate","outcome":"Acceptance: npm run lint exits 0 with no warnings. Risks: fixing lint may require refactors or config changes; avoid masking errors with ignores.","acceptance_criteria":["Acceptance: npm run lint exits 0 with no warnings. Risks: fixing lint may require refactors or config changes; avoid masking errors with ignores."],"inputs":["Resolve ESLint failures in repo lint gate"],"deliverables":["Acceptance: npm run lint exits 0 with no warnings. Risks: fixing lint may require refactors or config changes; avoid masking errors with ignores."],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0130","title":"Resolve contract warnings for non-component tokens (dialog/popover/tooltip/separator)","type":"debt","status":"done","priority":"P2","tags":["contract","tokens","ui-primitives"],"created_at":"2025-12-26T04:21:04.197Z","updated_at":"2026-01-29T00:30:22.529Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["Contracts validate warnings during npm run build (dialog/popover/tooltip/separator css vars not component tokens).","cmd:npm run contracts:validate:build"],"owner":"codex","notes":"Acceptance: component tokens exist for scrim/z/local/sep vars and components consume --uik-component-*; contract warnings are eliminated. Risks: token migration touches multiple primitives and ui-tokens outputs.","details":{"effort":"M","rationale":"Resolve contract warnings for non-component tokens by defining component hooks and updating consumers."},"spec":{"problem":"Resolve contract warnings for non-component tokens by defining component hooks and updating consumers.","outcome":"Component tokens exist for dialog/popover/tooltip/separator hooks and components consume --uik-component-*.","acceptance_criteria":["Component tokens exist for dialog/popover/tooltip/separator hooks and components consume --uik-component-*.","Contract warnings are eliminated during token build/validation."],"inputs":["Resolve contract warnings for non-component tokens by defining component hooks and updating consumers."],"deliverables":["Component tokens exist for dialog/popover/tooltip/separator hooks and components consume --uik-component-*."],"scope":["packages/ui-tokens/tokens/components/**","packages/ui-primitives/**"],"risks":["Token migration touches multiple primitives and ui-tokens outputs."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§4"}],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-tokens/tokens/components/**, packages/ui-primitives/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Component tokens exist for dialog/popover/tooltip/separator hooks and components consume --uik-component-*.; Contract warnings are eliminated during token build/validation..","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-29T00:30:22.529Z","frozen":{"core_hash":"46bb1a4476d8d0d2f2642eb9f7b0e62c3a6d4067f2323128e02002d64946515e"}}
{"id":"BL-0151","title":"Improve Baseline Support Matrix content","type":"doc","status":"done","priority":"P2","tags":["baseline","contract","docs"],"created_at":"2025-12-26T05:51:01.506Z","updated_at":"2026-01-28T15:37:30.767Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["Request: Baseline Support Matrix must be more competitive than a link table."],"owner":"codex","notes":"Expand baseline-support docs with policy, gating, and usage detail.","details":{"rationale":"Baseline documentation must explain gating policy and usage impact, not just list links.","effort":"S"},"completed_at":"2025-12-26T05:52:45.865Z","frozen":{"core_hash":"b089dd6e42d9589cbf27a28a21616834e3c107018aa877a84a250c9480b283b0"},"spec":{"problem":"Baseline documentation must explain gating policy and usage impact, not just list links.","outcome":"Baseline support page explains Baseline Widely/Newly/Not Baseline and the required gating/fallback policy.","acceptance_criteria":["Baseline support page explains Baseline Widely/Newly/Not Baseline and the required gating/fallback policy.","Matrix includes usage impact and explicit gating/fallback guidance where required.","Page highlights how UIK applies Baseline policy to docs/primitives/shell."],"inputs":["Baseline documentation must explain gating policy and usage impact, not just list links."],"deliverables":["Baseline support page explains Baseline Widely/Newly/Not Baseline and the required gating/fallback policy."],"scope":["packages/docs/content/baseline-support.md"],"risks":["If the policy is unclear, consumers may misuse non-baseline features without fallback."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§1"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0152","title":"Add UIK surface + gating metadata to baseline matrix data","type":"doc","status":"done","priority":"P2","tags":["baseline","docs"],"created_at":"2025-12-26T05:57:34.135Z","updated_at":"2026-01-28T15:37:31.495Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["Request: Baseline Support Matrix must be more competitive than link table."],"owner":"codex","notes":"Add surface/gating metadata to support-matrix.json to drive richer docs.","details":{"rationale":"The matrix should be driven by structured data so the docs stay consistent and competitive."},"completed_at":"2025-12-26T05:59:10.162Z","frozen":{"core_hash":"df9076b5a6b2f80b9b50e4f62d629dbb15d56ea1d54d0a11580e66af7cb390f9"},"spec":{"problem":"The matrix should be driven by structured data so the docs stay consistent and competitive.","outcome":"Each feature entry includes UIK surface metadata.","acceptance_criteria":["Each feature entry includes UIK surface metadata.","Entries that require gating/fallback provide explicit guidance."],"inputs":["The matrix should be driven by structured data so the docs stay consistent and competitive."],"deliverables":["Each feature entry includes UIK surface metadata."],"scope":["tools/baseline/support-matrix.json"],"risks":["Missing surface/gating data makes the matrix less actionable for consumers."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0153","title":"Generate Baseline Support Matrix from source data","type":"tooling","status":"done","priority":"P2","tags":["baseline","docs","tooling"],"created_at":"2025-12-26T05:57:38.517Z","updated_at":"2026-01-28T15:37:32.216Z","target":{"selector":"exact","value":"0.1.2"},"deps":["BL-0152"],"evidence":["Request: Matrix should be generated automatically or removed."],"owner":"codex","notes":"Update generator and regenerate outputs from support-matrix.json.","details":{"rationale":"Baseline Support Matrix should be generated from the canonical JSON source."},"completed_at":"2025-12-26T05:59:16.673Z","frozen":{"core_hash":"b36ba33c5b974920d32f788f444d5dabda1e93680cd51fa5d89858ee3bd8c966"},"spec":{"problem":"Baseline Support Matrix should be generated from the canonical JSON source.","outcome":"Generator outputs a richer matrix with policy guidance and UIK surface data.","acceptance_criteria":["Generator outputs a richer matrix with policy guidance and UIK surface data.","Docs markdown and public JSON regenerate from support-matrix.json."],"inputs":["Baseline Support Matrix should be generated from the canonical JSON source."],"deliverables":["Generator outputs a richer matrix with policy guidance and UIK surface data."],"scope":["tools/baseline/generate.mjs","packages/docs/content/baseline-support.md","packages/docs/public/baseline-support.json"],"risks":["Manual edits will drift if generation is not the only source of truth."],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0156","title":"Fix resizable panels drag continuity and panel clipping","type":"bug","status":"done","priority":"P1","tags":["macro-scope","ui-primitives|ui-shell|accessibility"],"created_at":"2025-12-26T18:42:26.425Z","updated_at":"2026-01-28T15:37:32.930Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["Storybook: resize handle moves once then stalls; end panel clipped at container edge."],"owner":"codex","notes":"","details":{"rationale":"Storybook inspection shows the resize handle stops after the pointer leaves the handle, and the end panel is clipped when min sizes exceed the container.","contract_review":["§3.1","§3.2","§8","§13.1"],"contract_gaps":["none"],"contract_followups":["none"],"effort":"M"},"completed_at":"2025-12-26T18:52:11.055Z","frozen":{"core_hash":"c0a6255e37b0597d8dfd60fb858c6d9948beae23b67f39154dc563141dadfbaa"},"spec":{"problem":"Storybook inspection shows the resize handle stops after the pointer leaves the handle, and the end panel is clipped when min sizes exceed the container.","outcome":"Dragging continues smoothly even when the pointer leaves the handle (pointer capture or global tracking).","acceptance_criteria":["Dragging continues smoothly even when the pointer leaves the handle (pointer capture or global tracking).","End panel remains fully visible within the container at small sizes (no clipping from min-size overflow).","Stories and interaction tests confirm resize behavior and a11y remains intact."],"inputs":["Storybook inspection shows the resize handle stops after the pointer leaves the handle, and the end panel is clipped when min sizes exceed the container."],"deliverables":["Dragging continues smoothly even when the pointer leaves the handle (pointer capture or global tracking)."],"scope":["packages/ui-primitives/src/atomic/layout/uik-resizable-panels/**","packages/ui-shell/src/structures/uik-shell-split-view.ts","packages/ui-primitives/tests/** and stories/**"],"risks":["Global pointer listeners must be cleaned up on disconnect to avoid leaks (PLATFORM_CONTRACT §13.1.H)."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§13.1"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0157","title":"Remove uik-shell-split-view to honor ui-shell boundaries","type":"contract","status":"done","priority":"P1","tags":["macro-scope","ui-shell|architecture"],"created_at":"2025-12-26T19:41:29.929Z","updated_at":"2026-01-28T15:37:33.650Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["User reported split view violates ui-shell responsibilities."],"owner":"codex","notes":"","details":{"rationale":"uik-shell should only provide shell layout scaffolding; split view duplicates a primitive and violates the shell responsibility boundary.","contract_review":["§11.4","§11.1","§3.1","§3.2","§13.1"],"contract_gaps":["none"],"contract_followups":["none"],"effort":"M"},"completed_at":"2025-12-26T19:45:02.687Z","frozen":{"core_hash":"a789e71a3c8227651e0640831e0e188f62e8dbade07763e9e8db75683465505e"},"spec":{"problem":"uik-shell should only provide shell layout scaffolding; split view duplicates a primitive and violates the shell responsibility boundary.","outcome":"uik-shell-split-view is removed from source, exports, stories, and tests.","acceptance_criteria":["uik-shell-split-view is removed from source, exports, stories, and tests.","Contracts/README no longer list split view; docs build passes.","Quality gate passes with no shell split-view references."],"inputs":["uik-shell should only provide shell layout scaffolding; split view duplicates a primitive and violates the shell responsibility boundary."],"deliverables":["uik-shell-split-view is removed from source, exports, stories, and tests."],"scope":["packages/ui-shell/src/structures/**","packages/ui-shell/README.md + stories/tests","packages/ui-shell/package.json + exports/contracts"],"risks":["Removing a shell component may require downstream story/demo updates."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§11.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§11.4"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§13.1"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0158","title":"Clamp resizable panels start size to available space on initial render","type":"bug","status":"done","priority":"P1","tags":["macro-scope","ui-primitives|layout"],"created_at":"2025-12-26T19:51:42.323Z","updated_at":"2026-01-28T15:37:34.365Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["User reports handle gets stuck and end panel is clipped in Storybook."],"owner":"codex","notes":"","details":{"rationale":"Resizable panels should not render with token start size that exceeds container width; this causes clipping and apparent drag lock in Storybook.","contract_review":["§1.1","§3.1","§3.2","§8","§9.1"],"contract_gaps":["none"],"contract_followups":["none"],"effort":"M"},"completed_at":"2025-12-26T20:02:02.666Z","frozen":{"core_hash":"e47d644093ce0021208aafd2b2a10d8f193cb1be3049804b41f653fd38f2ebf7"},"spec":{"problem":"Resizable panels should not render with token start size that exceeds container width; this causes clipping and apparent drag lock in Storybook.","outcome":"Initial render uses a computed start size based on container space (no clipping).","acceptance_criteria":["Initial render uses a computed start size based on container space (no clipping).","Dragging works smoothly without sticking at the initial token size.","Tests and quality gate pass."],"inputs":["Resizable panels should not render with token start size that exceeds container width; this causes clipping and apparent drag lock in Storybook."],"deliverables":["Initial render uses a computed start size based on container space (no clipping)."],"scope":["packages/ui-primitives/src/atomic/layout/uik-resizable-panels/element.ts","packages/ui-primitives/src/atomic/layout/uik-resizable-panels/styles.ts","packages/ui-primitives/tests/**"],"risks":["Incorrect sizing logic could regress panel layout in constrained containers; verify in story."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§1.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§9.1"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0159","title":"Ensure resizable panels story allows handle movement","type":"bug","status":"done","priority":"P2","tags":["macro-scope","ui-primitives|stories"],"created_at":"2025-12-26T20:08:49.832Z","updated_at":"2026-01-28T15:37:35.087Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["User report: Storybook width is too small and the resize bar is stuck."],"owner":"codex","notes":"","details":{"rationale":"The Storybook resizable panels demo uses layout panel width tokens while the default min sizes sum to more than the available width, so the handle appears stuck and the demo fails to show resizing.","contract_review":["§3.1","§3.2"],"contract_gaps":["none"],"contract_followups":["none"],"effort":"S"},"completed_at":"2025-12-26T20:11:43.572Z","frozen":{"core_hash":"628657ba1d1068767241e434adf17175cbdbd576390fb961d675e61dad88ed70"},"spec":{"problem":"The Storybook resizable panels demo uses layout panel width tokens while the default min sizes sum to more than the available width, so the handle appears stuck and the demo fails to show resizing.","outcome":"Storybook resizable panels story uses token overrides that allow the handle to move in the centered layout.","acceptance_criteria":["Storybook resizable panels story uses token overrides that allow the handle to move in the centered layout.","No literal design values are introduced; overrides use --uik-* tokens only.","Quality gate passes for target 0.1.2."],"inputs":["The Storybook resizable panels demo uses layout panel width tokens while the default min sizes sum to more than the available width, so the handle appears stuck and the demo fails to show resizing."],"deliverables":["Storybook resizable panels story uses token overrides that allow the handle to move in the centered layout."],"scope":["packages/ui-primitives/stories/uik-resizable-panels.stories.ts","packages/ui-tokens/tokens/foundation/layout.json","packages/ui-primitives/tests/uik-resizable-panels.browser.test.ts"],"risks":["Smaller demo min sizes could be mistaken for recommended defaults; keep the change scoped to the story only."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§3.2"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0160","title":"Test item from agent","type":"bug","status":"dropped","priority":"P2","tags":[],"created_at":"2025-12-26T22:44:38.004Z","updated_at":"2026-01-28T15:37:35.805Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"agent","notes":"","spec":{"problem":"Test item from agent","outcome":"Test item from agent","acceptance_criteria":["Test item from agent"],"inputs":["Test item from agent"],"deliverables":["Test item from agent"],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0161","title":"Disconnect combobox outside-dismiss listeners on disconnect","type":"bug","status":"done","priority":"P1","tags":["accessibility","ui-primitives"],"created_at":"2025-12-27T14:38:05.000Z","updated_at":"2026-01-28T15:37:36.517Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["Delta scan: uik-combobox outside-dismiss disconnect missing."],"owner":"codex","notes":"","details":{"rationale":"uik-combobox connects a document-level outside-dismiss listener but does not disconnect it when removed, leaving a global listener and violating the no-global-side-effects rule.","effort":"S"},"spec":{"problem":"uik-combobox connects a document-level outside-dismiss listener but does not disconnect it when removed, leaving a global listener and violating the no-global-side-effects rule.","outcome":"uik-combobox disconnects outside-dismiss listeners in disconnectedCallback.","acceptance_criteria":["uik-combobox disconnects outside-dismiss listeners in disconnectedCallback.","Removing an open combobox from the DOM leaves no active document pointerdown listener (verified via test/spies).","Open/close behavior remains unchanged (existing combobox tests pass)."],"inputs":["uik-combobox connects a document-level outside-dismiss listener but does not disconnect it when removed, leaving a global listener and violating the no-global-side-effects rule."],"deliverables":["uik-combobox disconnects outside-dismiss listeners in disconnectedCallback."],"scope":["packages/ui-primitives/src/composed/collection/uik-listbox/uik-combobox.ts","packages/ui-primitives/src/internal/overlay/dismiss.ts","packages/ui-primitives/tests/**"],"risks":[],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§2.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§13.1.H"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-29T00:48:00.884Z","frozen":{"core_hash":"074db33b2fbe7de8514539e01c8700124f13aff34ffee23325dfac1b62474bd0"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0162","title":"Add ElementInternals fallback for form-associated primitives","type":"contract","status":"done","priority":"P1","tags":["accessibility","contract","macro-scope","ui-primitives"],"created_at":"2025-12-27T14:38:05.000Z","updated_at":"2026-01-28T15:37:37.241Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":["System scan: ElementInternals used without fallback across form-associated primitives."],"owner":"codex","notes":"","details":{"rationale":"Form-associated primitives rely on ElementInternals without a fallback mode; the contract requires a documented fallback when ElementInternals is unavailable.","effort":"L","contract_review":["§2.1 Component model","§7.2 Form-associated custom elements"],"contract_gaps":["none"],"contract_followups":["none"]},"spec":{"problem":"Form-associated primitives rely on ElementInternals without a fallback mode; the contract requires a documented fallback when ElementInternals is unavailable.","outcome":"Components detect absence of ElementInternals and fall back to value reflection + custom events without throwing.","acceptance_criteria":["Components detect absence of ElementInternals and fall back to value reflection + custom events without throwing.","Fallback behavior and limitations are documented in packages/ui-primitives/README.md.","Tests cover fallback mode for at least uik-input and uik-combobox by stubbing attachInternals."],"inputs":["Form-associated primitives rely on ElementInternals without a fallback mode; the contract requires a documented fallback when ElementInternals is unavailable."],"deliverables":["Components detect absence of ElementInternals and fall back to value reflection + custom events without throwing."],"scope":["packages/ui-primitives/src/atomic/control/uik-input/element.ts","packages/ui-primitives/src/atomic/control/uik-select/element.ts","packages/ui-primitives/src/atomic/control/uik-checkbox/element.ts","packages/ui-primitives/src/atomic/control/uik-radio/element.ts","packages/ui-primitives/src/atomic/control/uik-switch/element.ts","packages/ui-primitives/src/atomic/control/uik-textarea/element.ts","packages/ui-primitives/src/atomic/control/uik-button/element.ts","packages/ui-primitives/src/composed/collection/uik-radio-group/element.ts","packages/ui-primitives/src/composed/collection/uik-listbox/uik-combobox.ts","packages/ui-primitives/README.md"],"risks":["Fallback semantics may diverge from native form submission/validation; document limitations and keep behavior explicit."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§7.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§2.1"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-29T00:49:21.833Z","frozen":{"core_hash":"c6ce6d43c4a4276404b626a427d8f0e790ff64207145ee05e30f9dc7c45cb108"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0163","title":"Implement ATO CLI + migrate .internal to .ato","type":"tooling","status":"dropped","priority":"P0","tags":["ato","macro-scope","migration","tooling"],"created_at":"2025-12-27T20:42:24.938Z","updated_at":"2026-01-28T15:37:37.956Z","target":{"selector":"milestone","value":"ato-v0"},"deps":[],"evidence":[],"owner":"agent","notes":"Removed per user request: ATO CLI testing item.","details":{"rationale":"Replace .internal tools with public ATO CLI and migrate repo state.","links":["spec: ato/docs/design.md"],"contract_review":["Reviewed .internal/ATO_SPEC.md sections 1-13 and evidence maps in required order.","Reviewed .ato/contracts/PLATFORM_CONTRACT.md, .internal/QUEUE_CONTRACT.md, .internal/QUALITY_GATES.md, .internal/WORKFLOW_LOOP.md, .internal/INDEX.md, and routed AGENTS.md files.","Confirmed protocol handshake, target resolution, migration, and removal steps align with the spec."],"effort":"L","blockers":["Full gate failed: Storybook a11y violation scrollable-region-focusable in uik-combobox Open story."]},"spec":{"problem":"Replace .internal tools with public ATO CLI and migrate repo state.","outcome":"ato target resolve succeeds","acceptance_criteria":["ato target resolve succeeds","ato q validate passes after contract index","Full gate passes","MIGRATION_REPORT.md written with verification results",".internal removed and no legacy references remain"],"inputs":["Replace .internal tools with public ATO CLI and migrate repo state."],"deliverables":["ato target resolve succeeds"],"scope":["Implement ATO CLI/package per spec","Migrate .internal data to .ato and validate","Update AGENTS routers to ato commands","Remove .internal after verification"],"risks":["Large migration/deletion risk; ensure verification before removal"],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§9"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"§12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0164","title":"Implement local ATO dashboard web UI","type":"feature","status":"done","priority":"P2","tags":["ato","ui-primitives","ui-shell","ui-tokens"],"created_at":"2025-12-27T23:32:23.530Z","updated_at":"2026-01-28T15:37:38.667Z","target":{"selector":"milestone","value":"ato-v0"},"deps":[],"evidence":[],"owner":"agent","notes":"","completed_at":"2025-12-28T00:40:36.637Z","frozen":{"core_hash":"7438f60aa358919c56fdf7dde6b9642059ad7480c008e29f49d2b7b0f3ac4854"},"spec":{"problem":"Implement local ATO dashboard web UI","outcome":"Implement local ATO dashboard web UI","acceptance_criteria":["Implement local ATO dashboard web UI"],"inputs":["Implement local ATO dashboard web UI"],"deliverables":["Implement local ATO dashboard web UI"],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0165","title":"Add token-driven tag input/multi-select primitive","type":"feature","status":"queued","priority":"P2","tags":["ui-primitives"],"created_at":"2025-12-27T23:43:47.150Z","updated_at":"2026-01-28T15:37:39.392Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"","spec":{"problem":"Add token-driven tag input/multi-select primitive","outcome":"Add token-driven tag input/multi-select primitive","acceptance_criteria":["Add token-driven tag input/multi-select primitive"],"inputs":["Add token-driven tag input/multi-select primitive"],"deliverables":["Add token-driven tag input/multi-select primitive"],"scope":[],"risks":[],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"7.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"4.1"}],"runbook":[],"plan":{"steps":["Review scope paths: identify concrete repo paths under packages/* or tools/* before edits.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Add token-driven tag input/multi-select primitive.","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0166","title":"Add timeline/log list primitive for run history","type":"feature","status":"queued","priority":"P2","tags":["ui-primitives"],"created_at":"2025-12-27T23:43:50.982Z","updated_at":"2026-01-31T23:55:27.856Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"CycleAborted: CY-0002 reason: Cycle auto-selected BL-0166; current task is BL-0023 (deterministic syntax highlighting). evidence: file:.ato/cycles/CY-0002/cycle-abort.json","spec":{"problem":"Add timeline/log list primitive for run history","outcome":"Add timeline/log list primitive for run history","acceptance_criteria":["Add timeline/log list primitive for run history"],"inputs":["Add timeline/log list primitive for run history"],"deliverables":["Add timeline/log list primitive for run history"],"scope":[],"risks":[],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"4.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"}],"runbook":[],"plan":{"steps":["Review scope paths: identify concrete repo paths under packages/* or tools/* before edits.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Add timeline/log list primitive for run history.","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0167","title":"Fix dashboard module resolution + import map for local UI","type":"bug","status":"done","priority":"P1","tags":["ato","dashboard"],"created_at":"2025-12-28T03:44:19.309Z","updated_at":"2026-01-28T15:37:40.924Z","target":{"selector":"milestone","value":"ato-v0"},"deps":[],"evidence":[],"owner":"agent","notes":"","spec":{"problem":"Dashboard loads blank because module specifiers resolve to missing vendor paths and lit-html import map targets a non-existent entry.","outcome":"Dashboard loads without module 404s and renders UI.","acceptance_criteria":["Dashboard loads with zero console errors","No 404s for ui-primitives subpaths or lit-html","Local server handles directory module requests"],"inputs":["Dashboard loads blank because module specifiers resolve to missing vendor paths and lit-html import map targets a non-existent entry."],"deliverables":["Import map includes ui-primitives subpaths and correct lit-html entry","Static server resolves directory module requests"],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-28T03:47:33.254Z","frozen":{"core_hash":"1c68edb8959fdc345eaa3cbbb1946ec5085d67e4f72ff4d5d27e9f23bc340554"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0168","title":"Add description list primitive for dashboard metadata","type":"feature","status":"done","priority":"P2","tags":["dashboard","ui-primitives"],"created_at":"2025-12-28T03:44:29.178Z","updated_at":"2026-01-28T15:37:41.645Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"agent","notes":"","spec":{"problem":"Dashboard metadata panels rely on bespoke key/value grids that are hard to standardize or reuse.","outcome":"Provide a uik-description-list primitive for dense label/value metadata.","acceptance_criteria":["Supports label/value pairs with dense + comfortable spacing","Handles long values and inline code styles","Docs include usage and a11y guidance"],"inputs":["Dashboard metadata panels rely on bespoke key/value grids that are hard to standardize or reuse."],"deliverables":["uik-description-list primitive with tokens + docs"],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-29T01:56:20.032Z","frozen":{"core_hash":"2eaef6ae08020d3f2ab15c0676e8f300b6de9b55091c86f63a3121ca0cbf8924"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0169","title":"Add pagination primitive for large dashboard tables","type":"feature","status":"done","priority":"P2","tags":["dashboard","ui-primitives"],"created_at":"2025-12-28T03:44:36.895Z","updated_at":"2026-01-28T15:37:42.362Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"agent","notes":"","spec":{"problem":"Dashboard lists can exceed hundreds of rows; rendering everything without paging/virtualization hurts performance and usability.","outcome":"Provide uik-pagination that pairs with data tables and list views.","acceptance_criteria":["Supports previous/next, page buttons, and total count","Keyboard/aria navigation is documented and tested","Docs show data-table integration"],"inputs":["Dashboard lists can exceed hundreds of rows; rendering everything without paging/virtualization hurts performance and usability."],"deliverables":["uik-pagination primitive with tokens + docs"],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-29T01:56:51.621Z","frozen":{"core_hash":"06aac1fa9fd8c1b6a822f01d3c276d278451385dc77a8d0a09546def62c483e6"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0170","title":"Add code-block primitive for dashboard log/JSON outputs","type":"feature","status":"done","priority":"P2","tags":["dashboard","ui-primitives"],"created_at":"2025-12-28T03:44:44.663Z","updated_at":"2026-01-28T15:37:43.083Z","target":{"selector":"exact","value":"0.1.2"},"deps":[],"evidence":[],"owner":"agent","notes":"","spec":{"problem":"Dashboard panels render JSON/log outputs in plain <pre> blocks without consistent tokens or copy support.","outcome":"Provide uik-code-block for read-only log/JSON display with optional copy action.","acceptance_criteria":["Supports read-only monospace display with overflow handling","Optional copy button and accessible label","Tokens cover background/foreground/border"],"inputs":["Dashboard panels render JSON/log outputs in plain <pre> blocks without consistent tokens or copy support."],"deliverables":["uik-code-block primitive with tokens + docs"],"scope":[],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-29T01:57:21.221Z","frozen":{"core_hash":"0a56c3a34bae0a70fa5f7c911cc15debdc23f182c2019af828cae416edaf7484"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0171","title":"Fix ATO dashboard ui-tokens export mismatch","type":"bug","status":"done","priority":"P1","tags":["ato","dashboard","ui-tokens"],"created_at":"2025-12-29T01:43:42.253Z","updated_at":"2026-01-28T15:37:43.817Z","target":{"selector":"milestone","value":"ato-v0"},"deps":[],"evidence":[],"owner":"agent","notes":"","spec":{"problem":"ATO dashboard fails to load because the vendor ui-tokens module served by the dashboard lacks createBreakpointObserver.","outcome":"Dashboard loads with the expected ui-tokens exports and no missing-export console errors.","acceptance_criteria":["ato dashboard serve renders UI without missing-export console errors","Import map vendor for ui-tokens resolves to a build that includes createBreakpointObserver or provides a fallback","Dashboard layout responds to breakpoint updates"],"inputs":["Chrome DevTools console: The requested module '@ismail-elkorchi/ui-tokens' does not provide an export named 'createBreakpointObserver'"],"deliverables":["Updated dashboard vendor mapping or dependency so ui-tokens exports createBreakpointObserver"],"scope":["ato/src/dashboard/app.js","ato/src/dashboard/server.js"],"risks":[],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2025-12-29T04:01:23.601Z","frozen":{"core_hash":"dea506a4e4f2425248ad2ab89f1bb676b00c5f1c6eb0b963dc589a9a24553095"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0172","title":"Add responsive layout mode for uik-description-list","type":"feature","status":"done","priority":"P2","tags":["layout","ui-primitives","ui-tokens"],"created_at":"2025-12-29T04:46:06.792Z","updated_at":"2026-01-30T01:56:12.954Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":["computed:viewport=768x1024 scrollWidth=788 gridTemplateColumns=252px 0px hostWidth=264","screenshot:/tmp/ato-dashboard-detail-768x1024-fold.png","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node tools/ato/ato.mjs q validate --json","cmd:ato gate run --mode full --json"],"owner":"agent","notes":"Affected packages: ui-primitives, ui-tokens. Proposed change: default responsive stacking for uik-description-list (auto switch when container is narrow). Why universal: metadata lists in any app need to stay readable in narrow layouts. Breaking change: narrow layouts will stack term/value pairs; call out in release notes.","spec":{"problem":"uik-description-list uses a fixed term column width; in narrow containers the value column collapses and the page horizontally overflows.","outcome":"Description lists support stacked or auto layout that preserves value readability without horizontal overflow in narrow containers.","acceptance_criteria":["When container width is below term width plus gap, term/value stack vertically with no horizontal overflow (default behavior)","Two-column layout remains for wide containers","Stories/docs show stacked and two-column examples with guidance"],"inputs":["Dashboard audit at 768x1024 shows scrollWidth 788>768 and gridTemplateColumns '252px 0px' for a 264px host","Screenshot /tmp/ato-dashboard-detail-768x1024-fold.png"],"deliverables":["New layout attribute or auto mode for uik-description-list","Token or container rule for responsive stacking","Stories/docs and regression coverage"],"scope":["packages/ui-primitives/src/atomic/content/uik-description-list/**","packages/ui-tokens/tokens/components/description-list.json","packages/ui-primitives/stories/uik-description-list.stories.ts"],"risks":["Breaking change for narrow layouts; call out in release notes and verify in narrow and wide containers"],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"6.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"4.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"}],"runbook":["Visual check in Storybook narrow container","Add visual regression for stacked mode"],"plan":{"steps":["Review scope paths: packages/ui-primitives/src/atomic/content/uik-description-list/**, packages/ui-tokens/tokens/components/description-list.json, packages/ui-primitives/stories/uik-description-list.stories.ts.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: When container width is below term width plus gap, term/value stack vertically with no horizontal overflow (default behavior); Two-column layout remains for wide containers; Stories/docs show stacked and two-column examples with guidance.","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-30T01:56:12.954Z","frozen":{"core_hash":"34cf69ab401c0b8cafd25ecd9b84daf7103376767578d11dd1db304c438e40df"}}
{"id":"BL-0173","title":"Normalize select control height with input/combobox sizes","type":"debt","status":"done","priority":"P2","tags":["forms","ui-primitives","ui-tokens"],"created_at":"2025-12-29T04:46:19.707Z","updated_at":"2026-01-30T00:54:45.962Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":["computed:viewport=1440x900 selectHeight=66 inputHeight=40 comboboxHeight=40","screenshot:/tmp/ato-dashboard-detail-1440x900-fold.png","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node tools/ato/ato.mjs q validate --json","cmd:ato gate run --mode full --json"],"owner":"agent","notes":"Affected packages: ui-primitives, ui-tokens. Proposed change: default select height aligns with size.control.md (40px) to match input/combobox. Why universal: all forms need aligned controls across layouts. Breaking change: select default height changes; call out in release notes.\nCycleAborted: CY-0001 reason: Selected unrelated item while working on BL-0058. evidence: file:.ato/cycles/CY-0001/cycle-abort.json","spec":{"problem":"uik-select renders taller than other form controls in the same layout, causing misaligned baselines and inconsistent vertical rhythm.","outcome":"Form controls share a consistent height system so select, input, and combobox align by default.","acceptance_criteria":["Default select height aligns with size.control.md (40px) like input/combobox","Select exposes size/density options consistent with other controls","Docs show aligned form row examples"],"inputs":["Dashboard audit at 1440x900 shows uik-select height 66px vs uik-input/combobox 40px","Screenshot /tmp/ato-dashboard-detail-1440x900-fold.png"],"deliverables":["Add select height token and wire to component styles","Align select sizing with input/combobox tokens","Docs/story updates"],"scope":["packages/ui-tokens/tokens/components/select.json","packages/ui-primitives/src/atomic/control/uik-select/**","packages/ui-primitives/stories/uik-select.stories.ts"],"risks":["Breaking change for layouts that relied on taller selects; call out in release notes and verify aligned form rows"],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"7.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"4.2"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"}],"runbook":["Storybook: form row alignment across input/select/combobox","Visual regression for size variants"],"plan":{"steps":["Review scope paths: packages/ui-tokens/tokens/components/select.json, packages/ui-primitives/src/atomic/control/uik-select/**, packages/ui-primitives/stories/uik-select.stories.ts.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Default select height aligns with size.control.md (40px) like input/combobox; Select exposes size/density options consistent with other controls; Docs show aligned form row examples.","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-30T00:54:45.962Z","frozen":{"core_hash":"1c29364277dfc8d488e3ddb3638c4efc42db08951268850c35c8dff31504d3ac"}}
{"id":"BL-0174","title":"Add compact heading line-height tokens and density option","type":"feature","status":"done","priority":"P3","tags":["typography","ui-primitives","ui-tokens"],"created_at":"2025-12-29T04:46:33.424Z","updated_at":"2026-01-30T02:28:16.458Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":["computed:h2 fontSize=30 lineHeight=75 h3 fontSize=24 lineHeight=54","screenshot:/tmp/ato-dashboard-detail-1440x900-fold.png","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node tools/ato/ato.mjs q validate --json","cmd:ato gate run --mode full --json"],"owner":"agent","notes":"Affected packages: ui-primitives, ui-tokens. Proposed change: shift default heading line-height to compact tokens; keep a roomy variant for display contexts. Why universal: dense dashboards and data-heavy UIs need tighter heading rhythm without per-app overrides. Breaking change: heading rhythm changes; call out in release notes.","spec":{"problem":"Heading line-heights are extremely tall in dense interfaces, creating excessive vertical gaps and reducing information density.","outcome":"Headings support a compact line-height option for dense UIs while keeping the current default as the roomy baseline.","acceptance_criteria":["Default heading line-height aligns to compact heading tokens (tighter than current)","Optional roomy heading line-height is documented for display contexts","Storybook shows default vs roomy heading rhythm"],"inputs":["Dashboard audit shows uik-heading computed line-height 75px for 30px (H2) and 54px for 24px (H3)","Screenshot /tmp/ato-dashboard-detail-1440x900-fold.png"],"deliverables":["Add compact line-height tokens for headings","Add uik-heading density or leading attribute","Docs/story updates"],"scope":["packages/ui-tokens/tokens/components/heading.json","packages/ui-primitives/src/atomic/content/uik-heading/**","packages/ui-primitives/stories/uik-heading.stories.ts"],"risks":["Breaking change to heading rhythm may affect layouts; call out in release notes and verify heading stacks"],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"3.1"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"4.2"}],"runbook":["Storybook: compare default vs compact heading stacks","Visual regression for heading rhythm"],"plan":{"steps":["Review scope paths: packages/ui-tokens/tokens/components/heading.json, packages/ui-primitives/src/atomic/content/uik-heading/**, packages/ui-primitives/stories/uik-heading.stories.ts.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: Default heading line-height aligns to compact heading tokens (tighter than current); Optional roomy heading line-height is documented for display contexts; Storybook shows default vs roomy heading rhythm.","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-30T02:28:16.458Z","frozen":{"core_hash":"b80b9adb95001f809680afed51d242b1868e5fee594c1111ad91465582b6d2e0"}}
{"id":"BL-0175","title":"Add responsive collapse behavior for uik-shell sidebars and activity bar","type":"feature","status":"done","priority":"P2","tags":["layout","responsive","ui-shell","ui-tokens"],"created_at":"2025-12-29T04:58:01.820Z","updated_at":"2026-01-29T17:37:37.819Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":["file:packages/ui-shell/src/structures/uik-shell-layout.ts","file:packages/ui-shell/tests/uik-shell-layout-drawer.browser.test.ts","file:packages/ui-tokens/tokens/foundation/layout.json","file:packages/ui-tokens/tokens/components/shell.json","file:packages/docs/src/app.ts","file:packages/docs/src/styles.css","cmd:npm test","cmd:ato gate run --mode full --json","cmd:npm test (2026-01-29)","cmd:ato gate run --mode full --json (2026-01-29)"],"owner":"agent","notes":"Affected packages: ui-shell, ui-tokens (and overlay primitives as needed). Proposed change: default responsive collapse of sidebars/activity bar at narrow widths. Why universal: shell layouts must remain usable on small screens. Breaking change: mobile shell layout behavior changes; call out in release notes.\nContractRefsOriginal: [{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"6.2\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"11.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"7.1\"},{\"doc\":\".ato/contracts/PLATFORM_CONTRACT.md\",\"section\":\"13.1.G\"}]","spec":{"problem":"uik-shell uses fixed sidebar/activity bar widths; at 360px wide layouts the main content collapses to ~32px, making the shell unusable on small screens.","outcome":"Shell layout collapses sidebars and activity bar into overlay/drawer or stacked modes at narrow widths so the main content fills the viewport without horizontal clipping.","acceptance_criteria":["At 360px width, main content fills the viewport with no persistent sidebars or horizontal clipping","Sidebar/activity bar are accessible via overlay/drawer with documented open/close + focus/scroll behavior","Responsive breakpoints and panel widths are tokenized and used by uik-shell"],"inputs":["Dashboard audit: viewport=360x800 mainWidth=32 sidebarWidth=384 activityWidth=56 (computed)","Screenshot /tmp/ato-dashboard-360x800-fold.png"],"deliverables":["Responsive shell collapse rules in ui-shell","Tokenized breakpoints/panel widths in ui-tokens","Docs/story showing wide vs collapsed shell"],"scope":["packages/ui-shell/src/structures/**","packages/ui-tokens/tokens/foundation/layout.json","packages/ui-shell/stories/**"],"risks":["Breaking change for narrow layouts; call out in release notes and verify overlay focus + scroll behavior"],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-shell/src/structures/**, packages/ui-tokens/tokens/foundation/layout.json, packages/ui-shell/stories/**.","Implement changes in the scoped paths to achieve the outcome; remove legacy behavior (no dual paths); comply with package boundary rules.","Validate acceptance criteria: At 360px width, main content fills the viewport with no persistent sidebars or horizontal clipping; Sidebar/activity bar are accessible via overlay/drawer with documented open/close + focus/scroll behavior; Responsive breakpoints and panel widths are tokenized and used by uik-shell.","Run verification: npm run format; npm run contracts:validate:build; ato gate run --mode full --json."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"},"completed_at":"2026-01-29T15:25:49.641Z","frozen":{"core_hash":"11ff5b7146d2ed6b287324f69976850381db2625d703fc88472ba9bf67ffcd96"}}
{"id":"BL-0176","title":"Fix docs theme/density controls + system default","type":"bug","status":"done","priority":"P1","tags":["docs","ui-primitives","ui-tokens"],"created_at":"2025-12-31T05:49:12.867Z","updated_at":"2026-01-28T15:37:47.463Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Evidence: packages/docs/index.html, packages/ui-primitives/tests/uik-controls.browser.test.ts, packages/ui-tokens/dist/base.css. Gate: cmd: ato gate run --mode full (failed; artifact: .ato/runs/artifacts/global/gate/tests-1767160834997.log).","spec":{"problem":"Docs theme/density controls don't update; default theme ignores system preference when data-uik-theme is absent.","outcome":"Form-associated controls emit composed change/input events; base theme follows prefers-color-scheme when no data-uik-theme is set.","acceptance_criteria":["uik-select change bubbles from host","docs updates data-uik-theme/data-uik-density","no attribute defaults to prefers-color-scheme"],"inputs":["Docs theme/density toggles not reacting (packages/docs/src/app.ts, packages/ui-primitives/src/internal/form.ts).","System default theme handling (packages/ui-tokens/scripts/build.mjs, packages/ui-tokens/README.md).","Regenerated outputs: cmd: node packages/ui-tokens/scripts/build.mjs; cmd: node packages/docs/tools/generate-docs-content.mjs; cmd: npm -w packages/ui-primitives run build.","file:/tmp/uik-ato-evidence/gate-full-escalated.txt","cmd:node /home/ismail-el-korchi/Documents/Projects/ato/dist/cli/main.js gate run --mode full --report-touched > /tmp/uik-ato-evidence/gate-full-escalated.txt 2>&1","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767317166514.log","cmd:node /home/ismail-el-korchi/Documents/Projects/ato/dist/cli/main.js gate run --mode full --report-touched"],"deliverables":["Update dispatchFormFallbackEvent","Update ui-tokens base theme selector","Update docs control sync"],"scope":["packages/ui-primitives/**","packages/ui-tokens/**","packages/docs/**"],"risks":["Default theme behavior changes when data-uik-theme is missing."],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"3.7"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"4.5"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"7.2"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-02T01:27:06.492Z","frozen":{"core_hash":"95b404e4399be795120a8d0dc10057bfaee1c03b1817e929f6e0bac918dc12fa"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0177","title":"PP6 missing evidence repro (temp)","type":"investigation","status":"dropped","priority":"P3","tags":["ato","tooling"],"created_at":"2026-01-01T04:28:07.597Z","updated_at":"2026-01-28T15:37:48.184Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Removed per user request: ATO CLI testing item.","spec":{"problem":"Need to verify q done evidence guidance output.","outcome":"Capture error output when q done runs without evidence citations.","acceptance_criteria":["q done emits evidence guidance with JSON pointers and template."],"inputs":["Run q done without evidence","file:/tmp/ui-kit-pp/gate-full.txt","cmd:ato gate run --mode full --report-touched"],"deliverables":["Log of q done error output"],"scope":[],"risks":[],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"details":{"blockers":["temp repro cleanup"]},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0178","title":"Gate artifacts missing stdout/stderr tail (PP1)","type":"bug","status":"dropped","priority":"P1","tags":["ato","quality","tooling"],"created_at":"2026-01-01T04:32:19.807Z","updated_at":"2026-01-28T15:37:48.904Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Removed per user request: ATO CLI testing item.","spec":{"problem":"Gate artifact logs for failed steps do not include stdout/stderr tails, making failures opaque.","outcome":"Failed gate artifacts include stdout/stderr tail output with error details.","acceptance_criteria":["Failed gate step artifacts include non-empty stdout/stderr tail or a clear note when output is empty","Gate run output links to artifact with error details"],"inputs":["cmd:node /home/ismail-el-korchi/Documents/Projects/ato/dist/cli/main.js gate run --mode full --report-touched > gate-full.txt 2>&1","file:gate-full.txt","file:.ato/runs/artifacts/global/gate/tests-1767245843575.log"],"deliverables":["Populate gate artifact logs with stdout/stderr tails for failed steps"],"scope":["ato gate artifact capture"],"risks":["None"],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0179","title":"Gate output missing heartbeat (PP4)","type":"bug","status":"dropped","priority":"P2","tags":["ato","quality","tooling"],"created_at":"2026-01-01T04:32:31.914Z","updated_at":"2026-01-28T15:37:49.633Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Removed per user request: ATO CLI testing item.","spec":{"problem":"Long-running gate steps only emit start/end markers; no heartbeat/progress output is printed, making long runs look stalled.","outcome":"Non-JSON gate output includes heartbeat/progress markers during long steps.","acceptance_criteria":["Gate output includes periodic heartbeat lines during long steps","Start/end markers remain"],"inputs":["cmd:ato gate run --mode full --report-touched","output:/tmp/ui-kit-pp/gate-full.txt"],"deliverables":["Add heartbeat/progress output to non-JSON gate runs"],"scope":["ato gate output"],"risks":["Low"],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0180","title":"Storybook a11y violations block gate","type":"bug","status":"done","priority":"P1","tags":["accessibility","blocker","quality","stories","ui-primitives"],"created_at":"2026-01-01T04:32:49.875Z","updated_at":"2026-01-28T15:37:50.348Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Evidence: .ato/runs/artifacts/global/gate/tests-1767160834997.log (uik-button menu trigger + code-block + combobox + menubar a11y violations).","spec":{"problem":"Storybook a11y gate fails (uik-code-block scrollable-region-focusable, uik-combobox listbox missing required children roles, uik-menubar aria-required-parent).","outcome":"Storybook a11y gate passes with zero violations for code-block, combobox, and menubar stories.","acceptance_criteria":["A11y gate passes for Storybook tests","Fix scrollable-region-focusable on uik-code-block story","Listbox/menubar ARIA structure passes axe"],"inputs":["cmd:ato gate run --mode full --report-touched","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767160834997.log","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767241535706.log","file:gate-full.txt","cmd:node /home/ismail-el-korchi/Documents/Projects/ato/dist/cli/main.js gate run --mode full --report-touched > gate-full.txt 2>&1"],"deliverables":["Update components/stories to satisfy axe (code-block scrollable region, combobox listbox children, menubar parent roles)"],"scope":["packages/ui-primitives/stories/**","packages/ui-primitives/src/**"],"risks":["Gate remains blocked until a11y violations are resolved"],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"8"},{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-01T07:04:43.722Z","frozen":{"core_hash":"62360422a525ce3dc4c71d884de2ec0ac6b1900061a643c4eda67139da4e93a5"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0181","title":"Closeout apply fails on unresolved contract refs","type":"bug","status":"dropped","priority":"P1","tags":["ato","closeout","tooling"],"created_at":"2026-01-01T04:40:35.916Z","updated_at":"2026-01-28T15:37:51.070Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Removed per user request: ATO CLI testing item.","spec":{"problem":"ato session closeout apply fails with unresolved contract ref errors when transferring ui-kit queue items to the ATO hub.","outcome":"Closeout apply succeeds or provides auto-mapping for contract refs between source and destination.","acceptance_criteria":["ato session closeout apply --target /home/ismail-el-korchi/Documents/Projects/ato succeeds without contract ref validation errors"],"inputs":["cmd:ato session closeout apply --target /home/ismail-el-korchi/Documents/Projects/ato --json","output:/tmp/ui-kit-pp/closeout-apply.json"],"deliverables":["Fix closeout apply contract ref validation across repos"],"scope":["ato session closeout transfer"],"risks":["Closeout cannot transfer items to hub until resolved"],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0182","title":"ATO CLI --target overloaded causes cross-store writes; need --dest + opt-in cross-store","type":"tooling","status":"dropped","priority":"P2","tags":[],"created_at":"2026-01-03T01:32:04.821Z","updated_at":"2026-01-28T15:37:51.790Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Removed per user request: ATO CLI testing item.","spec":{"problem":"Closeout and contract-refs fix interpret --target as destination and source, causing cross-store writes into /home/ismail-el-korchi/Documents/Projects/ato/.ato/queue/items.jsonl; those hub writes were not committed and were deleted manually. This creates unsafe defaults and confusing permission failures.","outcome":"CLI uses explicit --dest (or similar) for destination operations and requires opt-in to write across stores; default behavior never writes outside the source repo without explicit consent.","acceptance_criteria":["Closeout/apply from ui-kit does not write to hub unless --dest + --allow-cross-store is provided","contract-refs fix uses --dest and supports report-only without touching hub store","Help/examples updated to reflect new semantics"],"inputs":["/tmp/ui-kit-closeout-apply-success.json","/tmp/ui-kit-closeout-apply-after-fix-denied.json"],"deliverables":["CLI flag change (+ migration note)","Updated docs/help examples","Regression test covering cross-store write prevention"],"scope":[],"risks":[],"contract_refs":["6.4"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0183","title":"Fix docs components rendering","type":"bug","status":"done","priority":"P2","tags":[],"created_at":"2026-01-03T06:14:30.096Z","updated_at":"2026-01-28T15:37:52.513Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Summary: strip blank lines in component card HTML so markdown parsing does not convert cards into code blocks; regenerated docs content. Evidence: cmd:/home/ismail-el-korchi/.nvm/versions/node/v25.2.1/bin/ato gate run --mode fast; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767421031524.log; file:packages/docs/tools/generate-docs-content.mjs; file:packages/docs/src/generated/docs-content.json","spec":{"problem":"Docs components pages render most cards inside a code block, collapsing layout.","outcome":"Components pages render each component card as HTML, not as a single code block.","acceptance_criteria":["Primitives and shell docs pages show all component cards without code-block leakage."],"inputs":["packages/docs/tools/generate-docs-content.mjs","packages/ui-primitives/README.md","packages/ui-shell/README.md","cmd:/home/ismail-el-korchi/.nvm/versions/node/v25.2.1/bin/ato gate run --mode fast","cmd:node -e \"const data=require('./packages/docs/src/generated/docs-content.json');const page=data.docsPages.find(p=>p.id==='primitives');const section=page.sections.find(s=>s.title==='Components and contracts');if(section.body.includes('docs-code-block')){throw new Error('docs-code-block present');}console.log('ok');\"","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767421031524.log"],"deliverables":["Updated docs generator output; refreshed docs-content.json and docs-search-index.json"],"scope":[],"risks":[],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"10.2"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-03T06:19:16.264Z","frozen":{"core_hash":"77075f4d7a1665aa9d65c1c27960a1a2d4e85427534a67433ac8ffd2a624547f"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0184","title":"Fix docs component list HTML escaping","type":"bug","status":"done","priority":"P2","tags":[],"created_at":"2026-01-03T06:31:22.402Z","updated_at":"2026-01-28T15:37:53.228Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Summary: escape inline HTML in component list items to prevent <textarea> from swallowing the remaining cards; regenerated docs content and rebuilt preview. Evidence: cmd:npm -w packages/docs run build; cmd:node -e \"const data=require(\"./packages/docs/src/generated/docs-content.json\");const page=data.docsPages.find(p=>p.id===\"primitives\");const section=page.sections.find(s=>s.title===\"Components and contracts\");const body=section.body;const needed=[\"component-tooltip\",\"component-tree-view\",\"component-visually-hidden\"];const ok=needed.every(id=>body.includes(id));if(!ok){throw new Error(\"missing component ids\");}console.log(\"ok\");\"; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767421945609.log","spec":{"problem":"Component list items include raw HTML like <textarea>, which the browser parses as real elements and truncates the remaining cards.","outcome":"Inline markdown in component lists escapes raw HTML so all component cards render.","acceptance_criteria":["Primitives docs show tooltip/tree-view/visually-hidden cards after textarea with no HTML truncation."],"inputs":["packages/docs/tools/generate-docs-content.mjs","packages/ui-primitives/contracts/components.json","packages/docs/src/generated/docs-content.json","cmd:npm -w packages/docs run build","cmd:node -e \"const data=require('./packages/docs/src/generated/docs-content.json');const page=data.docsPages.find(p=>p.id==='primitives');const section=page.sections.find(s=>s.title==='Components and contracts');const body=section.body;const needed=['component-tooltip','component-tree-view','component-visually-hidden'];const ok=needed.every(id=>body.includes(id));if(!ok){throw new Error('missing component ids');}console.log('ok');\"","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767421945609.log"],"deliverables":["Updated docs generator output; rebuilt docs preview assets"],"scope":[],"risks":[],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"10.2"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-03T06:33:15.875Z","frozen":{"core_hash":"5ba8c0775c15e14d253d3eb8a2c3cd58cba4fc0df64322d63b830829ca805aab"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0185","title":"Add components portfolio to docs","type":"doc","status":"done","priority":"P2","tags":[],"created_at":"2026-01-03T06:55:08.468Z","updated_at":"2026-01-28T15:37:53.957Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Added a components portfolio grid with preview wiring and docs styling for primitives/shell pages. Evidence: cmd:node packages/docs/tools/generate-docs-content.mjs, cmd:ato gate run --mode fast, output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767424283261.log","spec":{"problem":"Primitives docs list components as long contract tables instead of a visual portfolio.","outcome":"Docs include a components portfolio grid with live previews that link to contract details.","acceptance_criteria":["Primitives docs show a component portfolio grid with previews for all primitives; each card links to its contract anchor."],"inputs":["packages/docs/tools/generate-docs-content.mjs","packages/docs/src/app.ts","packages/docs/src/styles.css","cmd:node packages/docs/tools/generate-docs-content.mjs","cmd:ato gate run --mode fast","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767424283261.log"],"deliverables":["Updated docs generator + styles + wiring for portfolio previews"],"scope":[],"risks":[],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"10.2"}],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-03T07:13:05.907Z","frozen":{"core_hash":"d5355af6a1fdbf3a23bb455422d01b2752a0017f35b6fb795832493b105537cf"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0186","title":"Redesign docs IA + primitives page","type":"doc","status":"done","priority":"P1","tags":[],"created_at":"2026-01-03T18:55:16.843Z","updated_at":"2026-01-28T15:37:54.681Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Completed docs IA + primitives redesign; navigation grouped by Guides/Foundations/Components with portfolio and contracts sections. Evidence: output:packages/docs/src/app.ts output:packages/docs/src/styles.css output:packages/docs/tools/generate-docs-content.mjs cmd:npm run test cmd:ato gate run --mode fast cmd:npm -w packages/docs run preview -- --host 127.0.0.1 --port 4173. Preview/tests required listen sockets; reran with escalated sandbox permissions.","spec":{"problem":"Docs IA/navigation is fragmented and primitives page is not competitive.","outcome":"Docs IA is coherent (Foundations/Components/Contracts/Guides/Lab), primitives page is production-grade and matches UIK contracts.","acceptance_criteria":["Updated docs nav + content structure reflect new IA","Primitives page layout/design updated using tokens/primitives only","Fast gate + a11y checks run with evidence"],"inputs":["output:.ato/contracts/PLATFORM_CONTRACT.md","output:packages/docs/content/manifest.json","output:packages/docs/src/app.ts","output:packages/docs/src/content.ts","output:packages/docs/src/styles.css","output:packages/docs/tools/generate-docs-content.mjs","cmd:npm -w packages/docs run build","cmd:npm run lint","cmd:npm run typecheck","cmd:npm run lint:style","cmd:npm run test","cmd:ato gate run --mode fast","cmd:npm -w packages/docs run preview -- --host 127.0.0.1 --port 4173","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767469455506.log","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/typecheck-1767469456910.log","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/eslint-1767469470793.log","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/stylelint-1767469476159.log"],"deliverables":["Updated docs app/IA + primitives redesign"],"scope":[],"risks":[],"contract_refs":["platform-contract-uik-governing-contract"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-03T19:47:33.954Z","frozen":{"core_hash":"4bada3e90fffcab4bface6bb3b2f4dd35511ca8c1aebc5e4a1d12f1ab1796d7c"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0187","title":"Fix docs LCP + render-blocking CSS","type":"quality-debt","status":"done","priority":"P1","tags":[],"created_at":"2026-01-03T20:05:09.335Z","updated_at":"2026-01-28T15:37:55.392Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Contract review: sections 3, 5, 6, 8, 12, 13, 14 checked; docs-only changes (no ui-tokens/ui-primitives/ui-shell edits). Evidence: cmd:ato gate run --mode full --json; cmd:npm -w packages/docs run test; output:.ato/runs/artifacts/global/gate/docs-test-1767471344081.log","spec":{"problem":"Docs pages show LCP render delay and render-blocking CSS/critical path chains per Chrome perf report.","outcome":"Docs initial render paints hero earlier, CSS/JS critical path shortened, and render-blocking chain addressed without workarounds.","acceptance_criteria":["Render path no longer blocks on JS-inserted DOM; CSS loads early without JS chain","Performance fixes implemented without deprecated/back-compat code","Fast gate and relevant build/tests run with evidence"],"inputs":["PLATFORM_CONTRACT.md (output:.ato/contracts/PLATFORM_CONTRACT.md)","packages/docs app sources (output:packages/docs/src/app.ts, output:packages/docs/src/main.ts, output:packages/docs/index.html, output:packages/docs/src/docs.css)","Chrome perf findings (output:.ato/notes/BL-0187-perf-findings.txt)"],"deliverables":["Docs performance fixes in docs package"],"scope":[],"risks":[],"contract_refs":["platform-contract-uik-governing-contract"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-03T20:19:58.331Z","frozen":{"core_hash":"ac0e21faa1ffe32ec2585b57b26c1fd494bf4f8e7b77d417fcf39fa4c7b11bd8"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0188","title":"Fix docs LCP regression from eager registration","type":"bug","status":"done","priority":"P1","tags":[],"created_at":"2026-01-03T20:41:07.500Z","updated_at":"2026-01-28T15:37:56.111Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Root cause: eager register + root shell import on critical path; switched to per-component imports and lazy command center load. Evidence: cmd:npm -w packages/docs run test; cmd:ato gate run --mode fast --json; output:.ato/notes/BL-0188-performance.txt","spec":{"problem":"Docs LCP render delay worsened; DevTools trace shows long critical chain caused by ui-primitives/ui-shell register imports on initial load.","outcome":"Docs initial render loads only required components; LCP render delay reduced; no full-register import on critical path.","acceptance_criteria":["DevTools trace shows reduced critical chain without ui-primitives/register on initial load","Docs still render with required components defined per page","Required gate(s) executed with evidence"],"inputs":["PLATFORM_CONTRACT.md (output:.ato/contracts/PLATFORM_CONTRACT.md)","DevTools performance trace (output:.ato/notes/BL-0188-performance.txt)","Docs app source updates (output:packages/docs/src/app.ts)"],"deliverables":["Docs app updates to scope component registration"],"scope":[],"risks":[],"contract_refs":["platform-contract-uik-governing-contract"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-03T20:53:45.771Z","frozen":{"core_hash":"6290571b79d2e98b6eaa513e76dd723c43290b746811b626eb512b5e3da162c1"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0189","title":"Add Lighthouse gate + perf fixtures for docs","type":"tooling","status":"done","priority":"P2","tags":[],"created_at":"2026-01-03T23:34:20.698Z","updated_at":"2026-01-28T15:37:56.837Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Contract review: PLATFORM_CONTRACT.md section 12 (performance budgets) and section 8.4 (automated a11y checks).\nCompletion: Added a Lighthouse gate and perf fixture routes for docs. Evidence: output:packages/docs/tools/check-docs-lighthouse.mjs; output:packages/docs/content/lab/perf-shell.md; output:packages/docs/content/lab/perf-primitives.md; output:packages/docs/content/manifest.json; output:packages/docs/package.json.","spec":{"problem":"Docs lacks Lighthouse-based perf/a11y diagnostics; regressions in shell/primitives surfaces are not tracked with CWV metrics.","outcome":"Local Lighthouse gate runs on docs build/preview with enforceable thresholds and reports; docs exposes minimal perf fixture routes for representative primitive + shell surfaces.","acceptance_criteria":["Lighthouse gate runs locally against docs preview and emits JSON/HTML reports into .ato/runs/artifacts.","Gate enforces explicit thresholds for performance and a11y (plus CWV budgets like LCP/CLS/INP).","Docs provides perf fixture routes used by the Lighthouse run (covering a shell layout and a representative primitive)."],"inputs":["PLATFORM_CONTRACT.md (output:.ato/contracts/PLATFORM_CONTRACT.md)","Docs lighthouse script (output:packages/docs/tools/check-docs-lighthouse.mjs)","Perf fixture: shell (output:packages/docs/content/lab/perf-shell.md)","Perf fixture: primitives (output:packages/docs/content/lab/perf-primitives.md)","Docs manifest update (output:packages/docs/content/manifest.json)","Docs package scripts (output:packages/docs/package.json)"],"deliverables":["New docs lighthouse check script + npm entry.","Perf fixture routes under docs used by lighthouse."],"scope":["packages/docs/**"],"risks":["Lighthouse flakiness if preview cannot bind; must handle deterministic local preview."],"contract_refs":["12","8.4"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-03T23:55:00.649Z","frozen":{"core_hash":"cc31e241e8b2e5530f2f22e416374bbbd3e79c0c6df1e61862e89a2632a9d353"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0190","title":"Docs build warnings: remove duplicate dynamic imports + add command-center entrypoint","type":"contract","status":"done","priority":"P2","tags":[],"created_at":"2026-01-05T04:14:25.810Z","updated_at":"2026-01-28T15:37:57.552Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Summary: removed duplicate dynamic loaders for preloaded docs components and switched command-center to a dedicated ui-shell entrypoint; docs build shows no dynamic-vs-static import warnings. Evidence: cmd:npm -w packages/docs run build cmd:ato gate run --mode full --json output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767588146693.log output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767588307968.log","spec":{"problem":"Docs build warns about modules imported statically and dynamically; docs also use ui-shell root entrypoint for command-center, which conflicts with the no-monolithic-entrypoint contract.","outcome":"Docs load only per-component entrypoints and a dedicated command-center entrypoint, eliminating duplicate dynamic imports and aligning with the distribution contract.","acceptance_criteria":["Vite build for packages/docs emits no dynamic-vs-static import warnings","packages/docs uses @ismail-elkorchi/ui-shell/command-center for createUikCommandCenter","ui-shell exports ./command-center entrypoint","componentLoaders exclude statically preloaded modules"],"inputs":["cmd:npm -w packages/docs run build","cmd:ato gate run --mode full --json","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767588146693.log","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767588307968.log","file:packages/docs/src/app.ts","file:packages/ui-shell/package.json","file:packages/ui-shell/README.md"],"deliverables":["Updated docs app imports and component loader map","New ui-shell command-center export"],"scope":["packages/docs","packages/ui-shell"],"risks":["Adds new public export surface; ensure stable import mapping"],"contract_refs":["13.1.B","9.4"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"details":{"rationale":"Align docs imports with per-component entrypoints and avoid monolithic ui-shell entrypoint usage. Evidence: cmd:npm -w packages/docs run build output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767588146693.log"},"completed_at":"2026-01-05T21:45:03.628Z","frozen":{"core_hash":"ed4cc17abafcaa2dcb9b8f24a5682fe3a5eaebbded5d7b37c1dcdb588cec8afe"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0191","title":"Make format non-mutating","type":"tooling","status":"done","priority":"P2","tags":[],"created_at":"2026-01-05T04:29:41.143Z","updated_at":"2026-01-28T15:37:58.269Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Summary: npm run format now uses prettier --check and format writes are explicit via format:write; baseline-support.md is now formatted to keep the check green. Prevention: if format gate flags files, run ./node_modules/.bin/prettier --write <file> before rerunning the gate. Evidence: cmd:ato gate run --mode full --json output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767588146693.log output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767588307968.log","spec":{"problem":"npm run format rewrites files during gates, creating noisy diffs and repeatedly touching docs content.","outcome":"npm run format is a check-only gate; formatting writes are explicit.","acceptance_criteria":["npm run format uses prettier --check and does not modify files","npm run format:write exists for intentional fixes","gate format step no longer writes files"],"inputs":["cmd:ato gate run --mode full --json","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767588146693.log","output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767588307968.log","file:packages/docs/content/baseline-support.md"],"deliverables":["Updated root format scripts"],"scope":["tooling"],"risks":["Format drift now fails gate instead of auto-fixing; requires explicit format:write"],"contract_refs":["12"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"details":{"rationale":"Make formatting non-mutating in gates and keep docs baseline matrix formatted. Evidence: output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767588146693.log output:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767588307968.log"},"completed_at":"2026-01-05T05:03:38.177Z","frozen":{"core_hash":"dde095b4bf83bc4a76af0e7c9ac858c12cbcff7b1b3aa90670d4909c6821323a"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0192","title":"Fix missing docs portfolio previews","type":"bug","status":"done","priority":"P2","tags":[],"created_at":"2026-01-06T00:30:10.281Z","updated_at":"2026-01-28T15:37:58.994Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Contract review: sections 10.2 and 12 applied; docs previews updated via generator; full gate required. Format gate touched packages/docs/content/baseline-support.md and packages/docs/src/app.ts.","spec":{"problem":"Portfolio groups list utility primitives but cards are missing, leaving gaps across docs.","outcome":"All portfolio groups render cards for every primitive, with visible previews or clear placeholders where needed.","acceptance_criteria":["Utilities portfolio renders all components with no missing cards.","Portfolio count badges match the number of rendered cards."],"inputs":["packages/docs/tools/generate-docs-content.mjs","packages/docs/src/app.ts","packages/docs/src/styles.css","packages/docs/src/generated/pages/docs/primitives.json","cmd:ato gate run --mode full --json","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/docs-test-1767660637017.log","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767660524443.log"],"deliverables":["Updated generator templates + regenerated docs content"],"scope":[],"risks":[],"contract_refs":["10.2","12"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-06T00:54:10.998Z","frozen":{"core_hash":"d4d056bd04f9502c7a70c9320fff90cdb5eb5638d6d091a520d8c6ecec433d71"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0193","title":"Emit Prettier-compliant baseline markdown","type":"tooling","status":"done","priority":"P2","tags":[],"created_at":"2026-01-06T01:05:20.312Z","updated_at":"2026-01-28T15:37:59.712Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"Contract review: section 12 (verification) followed; baseline generator output now Prettier-compliant. Evidence: cmd:ato gate run --mode full --json; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767661810808.log; file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767662007367.log","spec":{"problem":"tools/baseline/generate.mjs writes packages/docs/content/baseline-support.md in a format that fails Prettier, causing npm run format and full gates to fail unless manually reformatted.","outcome":"Baseline support markdown is emitted in a Prettier-compliant format so format gates pass without manual intervention.","acceptance_criteria":["npm run format passes after running npm -w packages/docs run generate:baseline","No manual formatting required for packages/docs/content/baseline-support.md"],"inputs":["tools/baseline/generate.mjs","packages/docs/content/baseline-support.md","packages/docs/public/baseline-support.json","cmd:ato gate run --mode full --json","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/format-1767661810808.log","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1767662007367.log"],"deliverables":["Updated baseline generator formatting output","Formatting gate no longer fails on baseline-support.md"],"scope":[],"risks":[],"contract_refs":["12"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"completed_at":"2026-01-06T01:17:30.297Z","frozen":{"core_hash":"5f05d50fcce16faaf9bf856d1eaacc3f31bd6c50328e8eb8a2e11b87064938eb"},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0194","title":"Add ui-patterns package scaffold and first pattern component","type":"feature","status":"done","priority":"P2","tags":["ui-patterns"],"created_at":"2026-01-16T21:07:41.323Z","updated_at":"2026-01-28T15:38:00.439Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"","completed_at":"2026-01-16T23:07:01.929Z","frozen":{"core_hash":"4c39634e715ee7c976876f529c780046d1bdcdfb4d1d35aa8d73474d84d2fefe"},"spec":{"problem":"Patterns are only represented in docs/lab compositions; the repo lacks a dedicated ui-patterns package and a representative pattern component.","outcome":"Introduce ui-patterns with build/test/CEM wiring and an initial composed pattern component.","acceptance_criteria":["ui-patterns builds with CEM output and workspace scripts pick it up","ui-patterns exports register and per-component entrypoint for the initial pattern","Browser test covers the initial pattern with basic rendering + axe check"],"inputs":["packages/docs/content/**","packages/ui-primitives/**"],"deliverables":["packages/ui-patterns package scaffold","uik-empty-state pattern component","ui-patterns browser test"],"scope":["packages/ui-patterns/**","package.json","packages/docs/package.json"],"risks":["New package added to workspace/build scripts; ensure no ui-shell dependency"],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0195","title":"Harden ui-patterns + docs integration + remove unnecessary allowlists","type":"debt","status":"done","priority":"P2","tags":["ui-patterns","docs","tooling"],"created_at":"2026-01-16T22:13:37.574Z","updated_at":"2026-01-28T15:38:01.166Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"","completed_at":"2026-01-16T23:07:01.929Z","frozen":{"core_hash":"3884b25b7534bd99f40a14d1944c5664e5cdeb9c23cdda18827174104323ce04"},"spec":{"problem":"ui-patterns needs verification, docs visibility, and lint allowlists should be minimized after adding the new layer.","outcome":"ui-patterns builds + CEM validated, docs include a patterns page and lab entry, and eslint allowlists are scoped to only necessary entrypoints.","acceptance_criteria":["ui-patterns build outputs and CEM include uik-empty-state","Docs render uik-empty-state via a docs page and lab entry","Unneeded eslint allowlists removed or scoped"],"inputs":["packages/ui-patterns/**","packages/docs/content/**","packages/docs/src/app.ts","eslint.config.mjs"],"deliverables":["Docs pages for ui-patterns","CEM verification evidence","Lint allowlist cleanup"],"scope":["packages/ui-patterns/**","packages/docs/**","eslint.config.mjs"],"risks":["Docs build or lint gates may fail if imports are not aligned"],"contract_refs":[],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0196","title":"Investigate docs Lighthouse perf threshold regression","type":"quality-debt","status":"done","priority":"P2","tags":[],"created_at":"2026-01-17T00:00:28.867Z","updated_at":"2026-01-28T15:38:01.893Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":[],"owner":"agent","notes":"","completed_at":"2026-01-17T02:29:49.110Z","frozen":{"core_hash":"f2dcea10a219b9b61b1aaf42f916113c600645653c0c0cc10ee72e7a95ab39ed"},"spec":{"problem":"Docs lighthouse:check fails in gate with perf-shell/perf-primitives below threshold.","outcome":"Docs lighthouse:check passes with perf >= 80 and TBT <= 300ms.","acceptance_criteria":["perf-shell >= 80","perf-primitives >= 80","perf-primitives TBT <= 300ms","ato gate run --mode full passes"],"inputs":["cmd:ato gate run --mode full --json","file:/home/ismail-el-korchi/Documents/Projects/ui-kit/.ato/runs/artifacts/global/gate/tests-1768607975720.log"],"deliverables":["Queue item with lighthouse failure evidence"],"scope":[],"risks":[],"contract_refs":["12"],"runbook":[],"plan":{"steps":["Confirm scope and constraints.","Execute work to meet the stated outcome.","Verify acceptance criteria and record evidence."]}},"origin":{"commit":"341d7541f1437f02107199bd9453eed1c4cd50b8","repo_path":"/home/ismail-el-korchi/Documents/Projects/ato"}}
{"id":"BL-0197","title":"Fix ato cycle finish acceptance_checks mismatch","type":"tooling","status":"done","priority":"P1","tags":[],"created_at":"2026-01-31T00:52:15.968Z","updated_at":"2026-01-31T01:34:35.578Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json","cmd:node ato.mjs cycle finish --json"],"owner":"agent","notes":"Completed in cycle CY-0001. Evidence: file:.ato/cycles/CY-0001/acceptance-audit.jsonl file:.ato/cycles/CY-0001/contract-extract.json file:.ato/cycles/CY-0001/contract-index.json file:.ato/cycles/CY-0001/cycle-start.json file:.ato/cycles/CY-0001/gate-full.json file:.ato/cycles/CY-0001/pack-verify.json file:.ato/cycles/CY-0001/preflight.json file:.ato/cycles/CY-0001/q-evidence-add.json file:.ato/cycles/CY-0001/selection.json file:.ato/packs/CY-0001.manifest.json file:.ato/packs/CY-0001.tar file:.ato/runs/artifacts/BL-0053/gate/eslint-1769801146300.log file:.ato/runs/artifacts/BL-0053/gate/format-1769801127728.log file:.ato/runs/artifacts/BL-0053/gate/stylelint-1769801152147.log file:.ato/runs/artifacts/BL-0053/gate/tests-1769801326283.log file:.ato/runs/artifacts/BL-0053/gate/typecheck-1769801130117.log","spec":{"problem":"node ato.mjs cycle finish --json fails when eval-cycle validation expects a system acceptance check that isn't emitted","outcome":"Cycle completion command is deterministic and eval-cycle validation passes without manual acceptance criteria edits","plan":{"steps":["Locate acceptance-check validation and cycle finish emission points","Implement system acceptance check emission during cycle completion","Add deterministic dry-run validation and gate proof","Verify full toolchain and close the cycle"]},"acceptance_criteria":["Cycle completion command succeeds without eval-cycle acceptance_check errors","Dry-run cycle completion validation reports system check injection without writing","Root gate includes deterministic cycle completion proof","cmd:ato cycle finish --json"],"inputs":["file:.ato/eval/config.json","file:ato.mjs","file:tools/ato/check-cycle-finish.mjs","file:.ato/cycles/CY-0001/preflight.json","file:.ato/cycles/CY-0001/selection.json","file:.ato/cycles/CY-0001/gate-full.json","file:.ato/cycles/CY-0001/cycle-start.json","file:.ato/cycles/CY-0001/contract-index.json","file:.ato/cycles/CY-0001/contract-extract.json","file:.ato/cycles/CY-0001/acceptance-audit.jsonl"],"deliverables":["Cycle completion emits system acceptance check and deterministic proof gate"],"scope":[],"risks":[],"contract_refs":["12"],"runbook":[]},"completed_at":"2026-01-31T01:33:37.465Z","frozen":{"core_hash":"df8ee7e9e0244c71ed2cbe7c8a5ef0d10b2e00c94658f0c8abab97ebcb54ee80"}}
{"id":"BL-0198","title":"Make docs verification gates deterministic with headroom","type":"tooling","status":"done","priority":"P1","tags":[],"created_at":"2026-01-31T22:31:20.308Z","updated_at":"2026-01-31T22:33:09.645Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["cmd:npm -w packages/docs test (run 1)","cmd:npm -w packages/docs test (run 2)","cmd:npm -w packages/docs test (run 3)","cmd:npm -w packages/docs test (run 4)","cmd:npm -w packages/docs test (run 5)","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"agent","notes":"","spec":{"problem":"Docs Lighthouse + browser gates show occasional flake and limited headroom; contract gate list must reflect enforced cycle-finish check.","outcome":"Docs verification gates pass deterministically with margin; contract inventory matches enforced cycle-finish gate.","plan":{"steps":["Reduce render-blocking + warm command palette path","Validate 5x docs gate loop with perf/LCP targets","Run full root gates and confirm contract gate list"],"rationale":"Deep-path change (build tooling + multi-package). Contract section 12 reviewed for gate alignment."},"acceptance_criteria":["Five consecutive docs test runs pass with perf>=0.90 and LCP<=2000ms on perf routes","Root gates pass: format, contracts, npm test, ato q validate, full gate","PLATFORM_CONTRACT gate inventory lists cycle finish check"],"inputs":["packages/docs (index.html, src/app.ts, src/styles.css, vite.config.ts)","packages/ui-primitives + ui-shell perf tweaks",".ato/contracts/PLATFORM_CONTRACT.md"],"deliverables":["Deterministic docs gate results with headroom","Contract gate inventory aligned with root gates","Evidence of verification runs"],"scope":[],"risks":[],"contract_refs":[{"doc":".ato/contracts/PLATFORM_CONTRACT.md","section":"12"}],"runbook":[]},"completed_at":"2026-01-31T22:33:09.645Z","frozen":{"core_hash":"a6bab4d94fe07a1335f179d9b86d1833e35b42cf99032525d02c0d9a5df22f89"}}
{"id":"BL-0199","title":"Ship production Components reference + internal fixture policy","type":"doc","status":"done","priority":"P2","tags":["docs","components","quality"],"created_at":"2026-02-02T04:36:19.749Z","updated_at":"2026-02-02T04:36:19.749Z","target":{"selector":"range","value":"range:0.1.x"},"deps":[],"evidence":["cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Components index + detail pages are generated from the API model; internal fixtures are hidden from nav/search/command palette and emit robots=noindex. Added import validation coverage for component register snippets and guarded against perf-route-only logic while keeping Lighthouse SEO checks on a public route.","spec":{"problem":"Docs lacked a production-grade components reference and internal fixtures needed explicit visibility + robots behavior; perf fixtures required guardrails to avoid route-only cheats.","outcome":"Components index + detail pages ship from the API model, internal fixtures are noindex/hidden, and docs gates enforce valid imports plus perf-route neutrality.","acceptance_criteria":["Components index and per-component detail pages are generated from api.json with previews, usage snippets, and API tables.","Internal fixtures (perf-shell/perf-primitives/markdown-rendering) are hidden from nav/search/command palette and emit robots=noindex,nofollow.","Perf fixtures follow the same boot path as public pages (no route-only deferral) and are guarded by an explicit gate.","Docs import validation covers component register snippets; root gates pass."],"inputs":["apps/docs/content/manifest.json","apps/docs/tools/generate-docs-content.mjs","apps/docs/src/app.ts","apps/docs/src/content.ts","apps/docs/tests/docs-components.browser.test.ts","apps/docs/tests/docs-seo.browser.test.ts","tools/docs/check-no-perf-route-special-casing.mjs","tools/docs/validate-docs-imports.mjs","apps/docs/tools/check-docs-lighthouse.mjs"],"deliverables":["Components index and component detail pages (public, searchable) generated from API model.","Internal fixture visibility + noindex behavior with tests.","Docs import validation + perf-route guard in root gates."],"scope":["apps/docs/**","tools/docs/**","tools/gates/run-root-gates.mjs"],"risks":["Docs performance budgets and Lighthouse thresholds could regress if component metadata inflates the entry bundle."],"contract_refs":["12","10"],"runbook":[],"plan":{"steps":["Generate components index + detail pages from API model and wire them into docs nav/search/palette.","Introduce internal visibility + robots behavior and guardrails against perf-route-only logic.","Verify with root gates and attach evidence."]}},"completed_at":"2026-02-02T04:36:19.749Z","frozen":{"core_hash":"9cd5b6554f69abe6eeb7d8416a7eb799f6f9ce32cbbb9ade4941dc91c54d1447"}}
{"id":"BL-0200","title":"Ship copyable code blocks in docs and ui-primitives","type":"doc","status":"done","priority":"P2","tags":["docs","ui-primitives"],"created_at":"2026-02-02T18:09:36.224Z","updated_at":"2026-02-02T18:09:36.224Z","completed_at":"2026-02-02T18:09:36.224Z","target":{"selector":"range","value":"0.1.x"},"deps":[],"evidence":["packages/ui-primitives/src/atomic/content/uik-code-block/element.ts","packages/ui-primitives/src/atomic/content/uik-code-block/styles.ts","packages/ui-primitives/stories/uik-code-block.stories.ts","packages/ui-primitives/tests/uik-content.browser.test.ts","apps/docs/tools/generate-docs-content.mjs","apps/docs/tests/docs-markdown-rendering.browser.test.ts","tools/visual/__snapshots__/primitives-code-block--copyable-visual/theme-light__density-comfortable__forced-colors-none.png","cmd:npm run format","cmd:npm run contracts:generate","cmd:npm run contracts:validate:build","cmd:npm test","cmd:node ato.mjs q validate --json","cmd:node ato.mjs gate run --mode full --json"],"owner":"codex","notes":"Added copyable uik-code-block control with aria-live feedback + forced-colors handling; docs fences and snippets render via the primitive with copy UX and tests/visual baselines.","details":{"rationale":"Docs code samples should be production-grade and copyable without docs-only hacks; the primitive keeps styling/token usage consistent across apps."},"spec":{"problem":"Docs code samples lacked a consistent, accessible copy UX; code blocks should be token-first and deterministic across docs and primitives.","outcome":"uik-code-block exposes a copyable control with accessible feedback, and docs render fenced snippets through it.","acceptance_criteria":["uik-code-block supports copyable control with accessible name + aria-live status, token-driven styling, and forced-colors support.","Docs markdown fences and component snippets render via uik-code-block with copy button; docs tests verify copy and forced-colors handling.","Visual regression baseline covers copyable code block across themes/density/forced-colors."],"inputs":["Docs code samples should be production-grade and copyable without docs-only hacks."],"deliverables":["Copyable code block primitive with docs integration, tests, and visual baselines."],"scope":["packages/ui-primitives/**","apps/docs/**","tools/visual/**"],"risks":["Clipboard APIs vary by environment; include deterministic fallback for tests."],"contract_refs":["3.1","8","10.2"],"runbook":[],"plan":{"steps":["Review scope paths: packages/ui-primitives/**, apps/docs/**, tools/visual/**.","Implement copyable code block primitive and docs integration; remove legacy behavior (no dual paths).","Validate acceptance criteria and add tests/baselines.","Run verification: npm run format; npm run contracts:generate; npm run contracts:validate:build; npm test; node ato.mjs q validate --json; node ato.mjs gate run --mode full --json."]}},"frozen":{"core_hash":"4414437fbefe39b5b2c6197fbe65f1c7b26774d6938a8bb027cff1febe7b3581"}}
